{"2":"1","3":"Ju9C-1621846617594","4":{"version":1,"incompatibleVersion":0,"fv":"0"},"5":[{"3":"3060-1621846615933","4":{"l":"h1"},"5":[{"2":"2","3":"p5PQ-1621846617594","7":[{"8":"变量","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"sgD6-1658307040090","4":{"version":1},"5":[{"2":"2","3":"19Tz-1658307040091","7":[{"8":"在MySQL数据库的存储过程和函数中，可以使用变量来存储查询或计算的中间结果数据，或者输出最终的结果数据。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"LXGv-1658307045709","4":{"version":1},"5":[{"2":"2","3":"xEmk-1658307045708","7":[{"8":"在 MySQL 数据库中，变量分为 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"系统变量 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"以及 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"用户自定义变量 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"niUc-1658307040802","4":{"l":"h2"},"5":[{"2":"2","3":"Z6cw-1658307040801","7":[{"8":"系统变量 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"OSOK-1658307041310","4":{"l":"h3"},"5":[{"2":"2","3":"HK7x-1658307041308","7":[{"8":"系统变量分类","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"OLjW-1658307041405","4":{"version":1},"5":[{"2":"2","3":"jjgk-1658307041404","7":[{"8":"变量由系统定义，不是用户定义，属于 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"服务器 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"层面。启动MySQL服务，生成MySQL服务实例期间，MySQL将为MySQL服务器内存中的系统变量赋值，这些系统变量定义了当前MySQL服务实例的属性、特征。这些系统变量的值要么是 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"编译","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"MySQL","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"时参数 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的默认值，要么是 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"配置文件 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"（例如my.ini等）中的参数值。大家可以通过网址 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]},{"2":"3","3":"wy5P-1658307067617","4":{"hf":"https://dev.mysql.com/doc/refman/8.0/en/server-system-"},"5":[{"2":"2","3":"SJlD-1658307067616","7":[{"8":"https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html"}]}],"6":"li"},{"2":"2","3":"P6OS-1658307067626","7":[{"8":"查看MySQL文档的系统变量。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"EnTh-1658307067643","4":{"version":1},"5":[{"2":"2","3":"3Djr-1658307067642","7":[{"8":"系统变量分为全局系统变量（需要添加 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"global ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"关键字）以及会话系统变量（需要添加 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"session ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"关键字），有时也把全局系统变量简称为全局变量，有时也把会话系统变量称为local变量。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"如果不写，默认会话级别。","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"静态变量（在 MySQL 服务实例运行期间它们的值不能使用 set 动态修改）属于特殊的全局系统变量。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"VSDx-1658307041517","4":{"version":1},"5":[{"2":"2","3":"7qOA-1658307041516","7":[{"8":"每一个MySQL客户机成功连接MySQL服务器后，都会产生与之对应的会话。会话期间，MySQL服务实例会在MySQL服务器内存中生成与该会话对应的会话系统变量，这些会话系统变量的初始值是全局系统变量值的复制。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Alhk-1658307041614","4":{"li":"lkO2-1658307190166","lt":"unordered","ll":1},"5":[{"2":"2","3":"hY2s-1658307041613","7":[{"8":"全局系统变量针对于所有会话（连接）有效，但 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"不能跨重启","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]}]}],"6":"l"},{"3":"weZG-1658307041711","4":{"li":"lkO2-1658307190166","lt":"unordered","ll":1},"5":[{"2":"2","3":"PIJM-1658307041710","7":[{"8":"会话系统变量仅针对于当前会话（连接）有效。会话期间，当前会话对某个会话系统变量值的修改，不会影响其他会话同一个会话系统变量的值。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"V8lE-1658307186757","4":{"li":"lkO2-1658307190166","lt":"unordered","ll":1},"5":[{"2":"2","3":"XVyY-1658307186756","7":[{"8":"会话1对某个全局系统变量值的修改会导致会话2中同一个全局系统变量值的修改。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"oBUO-1658307041808","4":{"version":1},"5":[{"2":"2","3":"Yapc-1658307041807","7":[{"8":"在MySQL中有些系统变量只能是全局的，例如 max_connections 用于限制服务器的最大连接数；有些系统变量作用域既可以是全局又可以是会话，例如 character_set_client 用于设置客户端的字符集；有些系统变量的作用域只能是当前会话，例如 pseudo_thread_id 用于标记当前会话的 MySQL 连接 ID。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"PMoE-1658307041920","4":{"l":"h3"},"5":[{"2":"2","3":"T9cx-1658307041919","7":[{"8":"查看系统变量","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"0Wj3-1658307042015","4":{"version":1},"5":[{"2":"2","3":"AfcS-1658307042014","7":[{"8":"查看所有或部分系统变量","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"bZrI-1658307667185","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"uwm2-1658307667184","5":[{"2":"2","3":"GRNI-1658307042127","7":[{"8":"#查看所有全局变量 "}]}],"6":"cl"},{"3":"9nAI-1658307667667","5":[{"2":"2","3":"QBx1-1658307667666","7":[{"8":"SHOW GLOBAL VARIABLES; "}]}],"6":"cl"},{"3":"7Trk-1658307667669","5":[{"2":"2","3":"aEJg-1658307667668","7":[{"8":"#查看所有会话变量 "}]}],"6":"cl"},{"3":"4yUO-1658307667671","5":[{"2":"2","3":"m5Hg-1658307667670","7":[{"8":"SHOW SESSION VARIABLES; "}]}],"6":"cl"},{"3":"7Tjk-1658307667673","5":[{"2":"2","3":"tnbg-1658307667672","7":[{"8":"或"}]}],"6":"cl"},{"3":"mIZ2-1658307667675","5":[{"2":"2","3":"TUTR-1658307667674","7":[{"8":"SHOW VARIABLES; "}]}],"6":"cl"}],"6":"cd"},{"3":"gGau-1658307676568","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"SVAz-1658307676567","5":[{"2":"2","3":"vMMk-1658307042220","7":[{"8":"#查看满足条件的部分系统变量。 "}]}],"6":"cl"},{"3":"3gaI-1658307676793","5":[{"2":"2","3":"9ZFh-1658307676792","7":[{"8":"SHOW GLOBAL VARIABLES LIKE \u0027%标识符%\u0027; "}]}],"6":"cl"},{"3":"Jhmw-1658307676795","5":[{"2":"2","3":"wBx1-1658307676794","7":[{"8":"#查看满足条件的部分会话变量 "}]}],"6":"cl"},{"3":"MK4T-1658307676797","5":[{"2":"2","3":"ueG0-1658307676796","7":[{"8":"SHOW SESSION VARIABLES LIKE \u0027%标识符%\u0027;"}]}],"6":"cl"}],"6":"cd"},{"3":"j5bo-1658307042317","4":{"version":1},"5":[{"2":"2","3":"f2VT-1658307042315","7":[{"8":"查看指定系统变量","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"RNRE-1658307042428","4":{"version":1},"5":[{"2":"2","3":"gP1s-1658307042426","7":[{"8":"作为 MySQL 编码规范，MySQL 中的系统变量以 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"两个","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"“@” ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"开头，其中“@@global”仅用于标记全局系统变量，“@@session”仅用于标记会话系统变量。“@@”首先标记会话系统变量，如果会话系统变量不存在，则标记全局系统变量。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"YThR-1658307707478","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"iLwU-1658307707477","5":[{"2":"2","3":"ENTa-1658307042522","7":[{"8":"#查看指定的系统变量的值 "}]}],"6":"cl"},{"3":"a8gw-1658307707672","5":[{"2":"2","3":"i6JS-1658307707671","7":[{"8":"SELECT @@global.变量名; "}]}],"6":"cl"},{"3":"ZWsz-1658307707674","5":[{"2":"2","3":"tgBF-1658307707673","7":[{"8":"#查看指定的会话变量的值 "}]}],"6":"cl"},{"3":"FlUk-1658307707676","5":[{"2":"2","3":"j3gg-1658307707675","7":[{"8":"SELECT @@session.变量名; "}]}],"6":"cl"},{"3":"oZh2-1658307707678","5":[{"2":"2","3":"OJjj-1658307707677","7":[{"8":"#或者 "}]}],"6":"cl"},{"3":"0pLG-1658307707680","5":[{"2":"2","3":"GuUg-1658307707679","7":[{"8":"SELECT @@变量名;"}]}],"6":"cl"}],"6":"cd"},{"3":"YGLd-1658307042620","4":{"version":1},"5":[{"2":"2","3":"2dEZ-1658307042619","7":[{"8":"修改系统变量的值","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"YN7O-1658307042717","4":{"version":1},"5":[{"2":"2","3":"xeSa-1658307042716","7":[{"8":"有些时候，数据库管理员需要修改系统变量的默认值，以便修改当前会话或者MySQL服务实例的属性、特征。具体方法：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"4kgq-1658307717815","4":{"version":1},"5":[{"2":"2","3":"FMrF-1658307717814","7":[{"8":"方式1：修改MySQL ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"配置文件 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，继而修改MySQL系统变量的值（该方法需要重启MySQL服务）","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"OICN-1658307717817","4":{"version":1},"5":[{"2":"2","3":"q4uB-1658307717816","7":[{"8":"方式2：在MySQL服务运行期间，使用“set”命令重新设置系统变量的值","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"F9Z8-1658307733292","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"lvAG-1658307733291","5":[{"2":"2","3":"Xioi-1658307042829","7":[{"8":"#为某个系统变量赋值 "}]}],"6":"cl"},{"3":"lUb8-1658307734405","5":[{"2":"2","3":"yyRx-1658307734404","7":[{"8":"#方式1： "}]}],"6":"cl"},{"3":"1zsP-1658307734407","5":[{"2":"2","3":"ecLf-1658307734406","7":[{"8":"SET @@global.变量名\u003d变量值; "}]}],"6":"cl"},{"3":"sGtv-1658307734409","5":[{"2":"2","3":"Xhhz-1658307734408","7":[{"8":"#方式2： "}]}],"6":"cl"},{"3":"QEiS-1658307734411","5":[{"2":"2","3":"CzKH-1658307734410","7":[{"8":"SET GLOBAL 变量名\u003d变量值; "}]}],"6":"cl"},{"3":"M4QO-1658307734413","5":[{"2":"2","3":"WjI2-1658307734412","7":[{"8":"#为某个会话变量赋值 "}]}],"6":"cl"},{"3":"dOWn-1658307734415","5":[{"2":"2","3":"G4QF-1658307734414","7":[{"8":"#方式1： "}]}],"6":"cl"},{"3":"mt44-1658307734417","5":[{"2":"2","3":"bYl7-1658307734416","7":[{"8":"SET @@session.变量名\u003d变量值; "}]}],"6":"cl"},{"3":"x2BH-1658307734419","5":[{"2":"2","3":"6sIr-1658307734418","7":[{"8":"#方式2： "}]}],"6":"cl"},{"3":"bNq4-1658307734421","5":[{"2":"2","3":"0EPv-1658307734420","7":[{"8":"SET SESSION 变量名\u003d变量值; "}]}],"6":"cl"}],"6":"cd"},{"3":"nCzC-1658307042923","4":{"l":"h2"},"5":[{"2":"2","3":"4n1Q-1658307042921","7":[{"8":"用户变量 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"LA6r-1658307043020","4":{"l":"h3"},"5":[{"2":"2","3":"Hwb9-1658307043019","7":[{"8":"用户变量分类","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"VIwx-1658307043133","4":{"version":1},"5":[{"2":"2","3":"vhcT-1658307043132","7":[{"8":"用户变量是用户自己定义的，作为 MySQL 编码规范，MySQL 中的用户变量以 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"一个","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"“@” ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"开头。根据作用范围不同，又分为 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"会话用户变量 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"和 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"局部变量 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"K86C-1658307043226","4":{"li":"vCYe-1658308306648","lt":"unordered","ll":1},"5":[{"2":"2","3":"TnM6-1658307043225","7":[{"8":"会话用户变量：作用域和会话变量一样，只对 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"当前连接 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"会话有效。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"9Kgw-1658308304725","4":{"li":"vCYe-1658308306648","lt":"unordered","ll":1},"5":[{"2":"2","3":"v18W-1658308304724","7":[{"8":"局部变量：只在 BEGIN 和 END 语句块中有效。局部变量只能在 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"存储过程和函数 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"中使用。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"d3gv-1658308456565","4":{"l":"h4"},"5":[{"2":"2","3":"22LD-1658308456564","7":[{"8":"会话用户变量","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"9y96-1658308478568","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"TTqQ-1658308478567","5":[{"2":"2","3":"Q5sc-1658307043431","7":[{"8":"#方式1：“\u003d”或“:\u003d” "}]}],"6":"cl"},{"3":"HBsd-1658308478896","5":[{"2":"2","3":"8ouM-1658308478895","7":[{"8":"SET @用户变量 \u003d 值; "}]}],"6":"cl"},{"3":"6S3T-1658308478898","5":[{"2":"2","3":"jNUe-1658308478897","7":[{"8":"SET @用户变量 :\u003d 值; "}]}],"6":"cl"},{"3":"9r51-1658308478900","5":[{"2":"2","3":"FNbd-1658308478899","7":[{"8":"#方式2：“:\u003d” 或 INTO关键字 "}]}],"6":"cl"},{"3":"Vzfm-1658308478903","5":[{"2":"2","3":"YcMM-1658308478902","7":[{"8":"SELECT @用户变量 :\u003d 表达式 [FROM 等子句]; "}]}],"6":"cl"},{"3":"7lVh-1658308478905","5":[{"2":"2","3":"Hc7K-1658308478904","7":[{"8":"SELECT 表达式 INTO @用户变量 [FROM 等子句]; "}]}],"6":"cl"},{"3":"Yd67-1658308485528","5":[{"2":"2","3":"lx7I-1658308485527"}],"6":"cl"},{"3":"lHoz-1658308485634","5":[{"2":"2","3":"5tCm-1658308485633","7":[{"8":"SELECT @用户变量"}]}],"6":"cl"}],"6":"cd"},{"3":"mNro-1658307043527","4":{"l":"h4"},"5":[{"2":"2","3":"24jY-1658307043525","7":[{"8":"局部变量","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"Enfg-1658308315434","4":{"version":1},"5":[{"2":"2","3":"Vdx0-1658308315433","7":[{"8":"定义：可以使用 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"DECLARE ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"语句定义一个局部变量","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"p2fU-1658308496285","4":{"version":1},"5":[{"2":"2","3":"ZBff-1658308496284","7":[{"8":"作用域：仅仅在定义它的 BEGIN ... END 中有效","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"8H8J-1658308496287","4":{"version":1},"5":[{"2":"2","3":"QlAx-1658308496286","7":[{"8":"位置：只能放在 BEGIN ... END 中，而且只能放在第一句","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"lCoK-1658308505257","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"15ip-1658308505256","5":[{"2":"2","3":"f6k2-1658308317493","7":[{"8":"BEGIN"}]}],"6":"cl"},{"3":"cZsP-1658308509867","5":[{"2":"2","3":"erGw-1658308509866","7":[{"8":"    #声明局部变量 "}]}],"6":"cl"},{"3":"hbTb-1658308509869","5":[{"2":"2","3":"bqCz-1658308509868","7":[{"8":"    DECLARE 变量名1 变量数据类型 [DEFAULT 变量默认值，默认null]; "}]}],"6":"cl"},{"3":"18Di-1658308509871","5":[{"2":"2","3":"MNvT-1658308509870","7":[{"8":"    DECLARE 变量名2,变量名3,... 变量数据类型 [DEFAULT 变量默认值]; "}]}],"6":"cl"},{"3":"xq93-1658308509873","5":[{"2":"2","3":"c7PK-1658308509872","7":[{"8":"    "}]}],"6":"cl"},{"3":"oeGY-1658309177225","5":[{"2":"2","3":"E2W8-1658309177216","7":[{"8":"    #为局部变量赋值 "}]}],"6":"cl"},{"3":"nB5p-1658308509875","5":[{"2":"2","3":"nbCy-1658308509874","7":[{"8":"    SET 变量名1 \u003d 值; "}]}],"6":"cl"},{"3":"QCPf-1658308509877","5":[{"2":"2","3":"qvxE-1658308509876","7":[{"8":"    SELECT 值 INTO 变量名2 [FROM 子句]; "}]}],"6":"cl"},{"3":"8t9C-1658308509879","5":[{"2":"2","3":"dg1M-1658308509878","7":[{"8":"    "}]}],"6":"cl"},{"3":"SsQa-1658309193363","5":[{"2":"2","3":"qoMh-1658309193362","7":[{"8":"    #查看局部变量的值 "}]}],"6":"cl"},{"3":"vicY-1658308509881","5":[{"2":"2","3":"aq0z-1658308509880","7":[{"8":"    SELECT 变量1,变量2,变量3; "}]}],"6":"cl"},{"3":"nEcS-1658308509883","5":[{"2":"2","3":"weNk-1658308509882","7":[{"8":"END "}]}],"6":"cl"}],"6":"cd"},{"3":"rgrI-1658308318010","4":{"l":"h3"},"5":[{"2":"2","3":"xJBF-1658308318008","7":[{"8":"对比会话用户变量与局部变量 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"TNYV-1658313554192","4":{"version":1,"u":"https://note.youdao.com/yws/res/21161/WEBRESOURCE5e8c2fc4fcfd2fd2c454297727196069","w":569,"h":68},"6":"im"},{"3":"l0GF-1658313682011","4":{"l":"h1"},"5":[{"2":"2","3":"tyet-1658313682012","7":[{"8":"定义条件与处理程序","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"c1qV-1658313683011","5":[{"2":"2","3":"kXo3-1658313683009","7":[{"8":"定义条件 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"是事先定义程序执行过程中可能遇到的问题， ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"处理程序 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"定义了在遇到问题时应当采取的处理方式，并且保证存储过程或函数在遇到警告或错误时能继续执行。这样可以增强存储程序处理问题的能力，避免程序异常停止运行。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"KnKK-1658314132751","4":{"version":1},"5":[{"2":"2","3":"LEJy-1658314132750","7":[{"8":"说明：定义条件和处理程序在存储过程、存储函数中都是支持的。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"nyNC-1658313683525","4":{"l":"h3"},"5":[{"2":"2","3":"SHT7-1658313683524","7":[{"8":"案例分析"}]}],"6":"h"},{"3":"Ojx6-1658313683624","5":[{"2":"2","3":"5BmD-1658313683623","7":[{"8":"案例分析：","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"创建一个名称为“UpdateDataNoCondition”的存储过程。代码如下：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"1RKR-1658314308641","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"sMBR-1658314308640","5":[{"2":"2","3":"oWWd-1658313683717","7":[{"8":"DELIMITER // "}]}],"6":"cl"},{"3":"mLfQ-1658314312237","5":[{"2":"2","3":"VVOS-1658314312236","7":[{"8":"    CREATE PROCEDURE UpdateDataNoCondition() "}]}],"6":"cl"},{"3":"qlDq-1658314312239","5":[{"2":"2","3":"0ISk-1658314312238","7":[{"8":"    BEGIN"}]}],"6":"cl"},{"3":"HUqo-1658314312241","5":[{"2":"2","3":"OAkB-1658314312240","7":[{"8":"        SET @x \u003d 1; "}]}],"6":"cl"},{"3":"R5kR-1658314312243","5":[{"2":"2","3":"zFfF-1658314312242","7":[{"8":"        UPDATE employees SET email \u003d NULL WHERE last_name \u003d \u0027Abel\u0027; "}]}],"6":"cl"},{"3":"0aaQ-1658314312245","5":[{"2":"2","3":"a8i6-1658314312244","7":[{"8":"        SET @x \u003d 2; "}]}],"6":"cl"},{"3":"aFiR-1658314312247","5":[{"2":"2","3":"bU4r-1658314312246","7":[{"8":"        UPDATE employees SET email \u003d \u0027aabbel\u0027 WHERE last_name \u003d \u0027Abel\u0027; "}]}],"6":"cl"},{"3":"97mp-1658314312249","5":[{"2":"2","3":"1wbQ-1658314312248","7":[{"8":"        SET @x \u003d 3; "}]}],"6":"cl"},{"3":"sHhf-1658314312251","5":[{"2":"2","3":"uAkO-1658314312250","7":[{"8":"    END // "}]}],"6":"cl"},{"3":"MIc9-1658314312253","5":[{"2":"2","3":"yQbs-1658314312252","7":[{"8":"DELIMITER ;"}]}],"6":"cl"}],"6":"cd"},{"3":"oGZh-1658313683831","5":[{"2":"2","3":"i88j-1658313683830","7":[{"8":"调用存储过程：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"FaHj-1658314332234","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"jcIW-1658314332233","5":[{"2":"2","3":"VLce-1658313683925","7":[{"8":"mysql\u003e CALL UpdateDataNoCondition(); "}]}],"6":"cl"},{"3":"KtK0-1658314340134","5":[{"2":"2","3":"2nWB-1658314340133","7":[{"8":"ERROR 1048 (23000): Column \u0027email\u0027 cannot be null "}]}],"6":"cl"},{"3":"R4uu-1658314340136","5":[{"2":"2","3":"WG8Q-1658314340135","7":[{"8":"mysql\u003e SELECT @x; "}]}],"6":"cl"},{"3":"l8Cw-1658314340138","5":[{"2":"2","3":"9Q6d-1658314340137","7":[{"8":"+------+"}]}],"6":"cl"},{"3":"qXQo-1658314340140","5":[{"2":"2","3":"C8EE-1658314340139","7":[{"8":"| @x | "}]}],"6":"cl"},{"3":"lvGN-1658314340142","5":[{"2":"2","3":"r9fd-1658314340141","7":[{"8":"+------+"}]}],"6":"cl"},{"3":"rDLy-1658314340144","5":[{"2":"2","3":"66Ag-1658314340143","7":[{"8":"| 1 | "}]}],"6":"cl"},{"3":"TGkJ-1658314340146","5":[{"2":"2","3":"j6DC-1658314340145","7":[{"8":"+------+"}]}],"6":"cl"},{"3":"o6DR-1658314340148","5":[{"2":"2","3":"D3J9-1658314340147","7":[{"8":"1 row in set (0.00 sec) "}]}],"6":"cl"}],"6":"cd"},{"3":"8E6A-1658313684023","5":[{"2":"2","3":"ej2i-1658313684022","7":[{"8":"可以看到，此时@x变量的值为1。结合创建存储过程的SQL语句代码可以得出：在存储过程中未定义条件和处理程序，且当存储过程中执行的SQL语句报错时，MySQL数据库会抛出错误，并退出当前SQL逻辑，不再向下继续执行。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"wdYI-1658313684119","4":{"l":"h3"},"5":[{"2":"2","3":"XRer-1658313684118","7":[{"8":"定义条件","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"nvSJ-1658314358692","5":[{"2":"2","3":"cQgC-1658314358690","7":[{"8":"定义条件就是给MySQL中的错误码命名，这有助于存储的程序代码更清晰。它将一个 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"错误名字 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"和 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"指定的错误条件 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"关联起来。这个名字可以随后被用在定义处理程序的 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"DECLARE HANDLER ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"语句中。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Qgwa-1658314371551","4":{"version":1},"5":[{"2":"2","3":"pRNE-1658314371550","7":[{"8":"定义条件使用DECLARE语句，语法格式如下：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"QaTM-1658314384384","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"7Wqo-1658314384383","5":[{"2":"2","3":"3WBG-1658314359200","7":[{"8":"DECLARE 错误名称 CONDITION FOR 错误码（或错误条件） "}]}],"6":"cl"}],"6":"cd"},{"3":"eSLb-1658314359300","5":[{"2":"2","3":"J9kd-1658314359299","7":[{"8":"错误码的说明：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"GahQ-1658314359348","4":{"li":"kwkk-1658314402187","lt":"unordered","ll":1},"5":[{"2":"2","3":"dUTx-1658314359346","7":[{"8":"MySQL_error_code ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"和 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"sqlstate_value ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"都可以表示MySQL的错误。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"TOYR-1658314398223","4":{"li":"kwkk-1658314402187","lt":"unordered","ll":2},"5":[{"2":"2","3":"sli2-1658314398222","7":[{"8":"MySQL_error_code是数值类型错误代码。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"2IBA-1658314398225","4":{"li":"kwkk-1658314402187","lt":"unordered","ll":2},"5":[{"2":"2","3":"ijpP-1658314398224","7":[{"8":"sqlstate_value是长度为5的字符串类型错误代码。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"Wacj-1658314398227","4":{"li":"kwkk-1658314402187","lt":"unordered","ll":1},"5":[{"2":"2","3":"vkcA-1658314398226","7":[{"8":"例如，在ERROR 1418 (HY000)中，1418是MySQL_error_code，\u0027HY000\u0027是sqlstate_value。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"S8VR-1658314398230","4":{"li":"kwkk-1658314402187","lt":"unordered","ll":1},"5":[{"2":"2","3":"hpRM-1658314398229","7":[{"8":"例如，在ERROR 1142（42000）中，1142是MySQL_error_code，\u002742000\u0027是sqlstate_value。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"hlUI-1658314729588","4":{"version":1,"u":"https://note.youdao.com/yws/res/21179/WEBRESOURCE531def9ffaa2c4df7ba899a55af69025","w":569,"h":105},"6":"im"},{"3":"3LZK-1658314878156","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"IJv2-1658314878155","5":[{"2":"2","3":"J8mk-1658314465443","7":[{"8":"#使用MySQL_error_code "}]}],"6":"cl"},{"3":"uAQR-1658314884670","5":[{"2":"2","3":"9bcX-1658314884669","7":[{"8":"DECLARE Field_Not_Be_NULL CONDITION FOR 1048; "}]}],"6":"cl"},{"3":"wDHd-1658314884672","5":[{"2":"2","3":"5PDo-1658314884671","7":[{"8":"#使用sqlstate_value "}]}],"6":"cl"},{"3":"py9t-1658314884674","5":[{"2":"2","3":"xVsb-1658314884673","7":[{"8":"DECLARE Field_Not_Be_NULL CONDITION FOR SQLSTATE \u002723000\u0027; "}]}],"6":"cl"}],"6":"cd"},{"3":"lupy-1658314733059","4":{"l":"h3"},"5":[{"2":"2","3":"3gsd-1658314733057","7":[{"8":"定义处理程序","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"1ZIy-1658314407031","5":[{"2":"2","3":"8mXY-1658314407029","7":[{"8":"可以为SQL执行过程中发生的某种类型的错误定义特殊的处理程序。定义处理程序时，使用DECLARE语句的语法如下：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Qw4S-1658314930409","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"Shqx-1658314930407","5":[{"2":"2","3":"1zbO-1658314407531","7":[{"8":"DECLARE 处理方式 HANDLER FOR 错误类型 处理语句 "}]}],"6":"cl"}],"6":"cd"},{"3":"mGax-1658314407644","4":{"li":"KhNy-1658314963596","lt":"unordered","ll":1},"5":[{"2":"2","3":"Y6OS-1658314407643","7":[{"8":"处理方式","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"：处理方式有3个取值：CONTINUE、EXIT、UNDO。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"7U6o-1658314956807","4":{"li":"KhNy-1658314963596","lt":"unordered","ll":2},"5":[{"2":"2","3":"Hj4f-1658314956806","7":[{"8":"CONTINUE ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：表示遇到错误不处理，继续执行。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"2Rrz-1658314956809","4":{"li":"KhNy-1658314963596","lt":"unordered","ll":2},"5":[{"2":"2","3":"lxcB-1658314956808","7":[{"8":"EXIT ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：表示遇到错误马上退出。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"JSvF-1658314956811","4":{"li":"KhNy-1658314963596","lt":"unordered","ll":2},"5":[{"2":"2","3":"Bt1o-1658314956810","7":[{"8":"UNDO ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：表示遇到错误后撤回之前的操作。MySQL中暂时不支持这样的操作。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"lIpj-1658314956813","4":{"li":"KhNy-1658314963596","lt":"unordered","ll":1},"5":[{"2":"2","3":"Kh2b-1658314956812","7":[{"8":"错误类型","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"（即条件）可以有如下取值：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"HJ1k-1658314956815","4":{"li":"KhNy-1658314963596","lt":"unordered","ll":2},"5":[{"2":"2","3":"ALkV-1658314956814","7":[{"8":"SQLSTATE \u0027","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"字符串错误码","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"\u0027 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：表示长度为5的sqlstate_value类型的错误代码； ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"2vyy-1658314956817","4":{"li":"KhNy-1658314963596","lt":"unordered","ll":2},"5":[{"2":"2","3":"IHkM-1658314956816","7":[{"8":"MySQL_error_code ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：匹配数值类型错误代码；","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"yEha-1658314956819","4":{"li":"KhNy-1658314963596","lt":"unordered","ll":2},"5":[{"2":"2","3":"srHK-1658314956818","7":[{"8":"错误名称 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"：表示DECLARE ... CONDITION定义的错误条件名称。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"H3kw-1658314956821","4":{"li":"KhNy-1658314963596","lt":"unordered","ll":2},"5":[{"2":"2","3":"wMV3-1658314956820","7":[{"8":"SQLWARNING ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：匹配所有以01开头的SQLSTATE错误代码；","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"CkgZ-1658314956824","4":{"li":"KhNy-1658314963596","lt":"unordered","ll":2},"5":[{"2":"2","3":"eGYN-1658314956823","7":[{"8":"NOT FOUND ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：匹配所有以02开头的SQLSTATE错误代码；","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"BCe6-1658314956826","4":{"li":"KhNy-1658314963596","lt":"unordered","ll":2},"5":[{"2":"2","3":"uXGv-1658314956825","7":[{"8":"SQLEXCEPTION ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：匹配所有没有被SQLWARNING或NOT FOUND捕获的SQLSTATE错误代码；","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"ITjO-1658314956828","4":{"li":"KhNy-1658314963596","lt":"unordered","ll":1},"5":[{"2":"2","3":"zJun-1658314956827","7":[{"8":"处理语句","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"：如果出现上述条件之一，则采用对应的处理方式，并执行指定的处理语句。语句可以是像“ ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"SET ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"变量 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"\u003d ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"值 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"”这样的简单语句，也可以是使用 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"BEGIN ... END ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"编写的复合语句。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"Z0Cn-1658314407742","4":{"l":"h1"},"5":[{"2":"2","3":"K7KU-1658314407740","7":[{"8":"流程控制","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"5xbT-1658314407835","4":{"li":"oN8L-1658365473434","lt":"unordered","ll":1},"5":[{"2":"2","3":"DOYH-1658314407833","7":[{"8":"顺序结构 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"},{"2":"b"}]},{"8":"：程序从上往下依次执行","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"},{"2":"b"}]}]}],"6":"l"},{"3":"PSwU-1658365470917","4":{"li":"oN8L-1658365473434","lt":"unordered","ll":1},"5":[{"2":"2","3":"qwKi-1658365470916","7":[{"8":"分支结构 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"},{"2":"b"}]},{"8":"：程序按条件进行选择执行，从两条或多条路径中选择一条执行","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"},{"2":"b"}]}]}],"6":"l"},{"3":"li6x-1658365470919","4":{"li":"oN8L-1658365473434","lt":"unordered","ll":1},"5":[{"2":"2","3":"XU02-1658365470918","7":[{"8":"循环结构 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"},{"2":"b"}]},{"8":"：程序满足一定条件下，重复执行一组语句","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"},{"2":"b"}]}]}],"6":"l"},{"3":"6AJY-1658315651372","5":[{"2":"2","3":"GZ8G-1658315651370","7":[{"8":"针对于MySQL 的流程控制语句主要有 3 类。注意：只能用于存储程序","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"GojW-1658315651876","4":{"li":"ypsd-1658365502173","lt":"unordered","ll":1},"5":[{"2":"2","3":"G05o-1658315651875","7":[{"8":"条件判断语句 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"},{"2":"b"}]},{"8":"：IF 语句和 CASE 语句","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"},{"2":"b"}]}]}],"6":"l"},{"3":"vnp4-1658365498451","4":{"li":"ypsd-1658365502173","lt":"unordered","ll":1},"5":[{"2":"2","3":"9Jhw-1658365498450","7":[{"8":"循环语句 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"},{"2":"b"}]},{"8":"：LOOP 、WHILE 和 REPEAT 语句","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"},{"2":"b"}]}]}],"6":"l"},{"3":"G2Qz-1658365498453","4":{"li":"ypsd-1658365502173","lt":"unordered","ll":1},"5":[{"2":"2","3":"NSE4-1658365498452","7":[{"8":"跳转语句 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"},{"2":"b"}]},{"8":"：ITERATE 和 LEAVE 语句","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"},{"2":"b"}]}]}],"6":"l"},{"3":"ByR3-1658365495324","4":{"l":"h3"},"5":[{"2":"2","3":"lV3i-1658365495323","7":[{"8":"分支结构之 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":"IF ","9":[{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"qsm0-1658365522102","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"JZoN-1658365522101","5":[{"2":"2","3":"fJi8-1658315651972","7":[{"8":"IF 表达式1 THEN 操作1 "}]}],"6":"cl"},{"3":"74WU-1658365522507","4":{},"5":[{"2":"2","3":"GDcX-1658365522506","7":[{"8":"[ELSEIF 表达式2 THEN 操作2]…… "}]}],"6":"cl"},{"3":"v6Ez-1658365522509","4":{},"5":[{"2":"2","3":"Yfnf-1658365522508","7":[{"8":"[ELSE 操作N] "}]}],"6":"cl"},{"3":"paed-1658365522511","4":{},"5":[{"2":"2","3":"efDB-1658365522510","7":[{"8":"END IF"}]}],"6":"cl"}],"6":"cd"},{"3":"Rz7i-1658315652084","5":[{"2":"2","3":"3Vpr-1658315652082","7":[{"8":"根据表达式的结果为TRUE或FALSE执行相应的语句。这里“[]”中的内容是可选的。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"OxJh-1658365676021","4":{"l":"h3"},"5":[{"2":"2","3":"GkTR-1658365676020","7":[{"8":"分支结构之 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":"CASE ","9":[{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"PMpi-1658365687714","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"JHFH-1658365687713","5":[{"2":"2","3":"3Kme-1658315652271","7":[{"8":"#情况一：类似于switch "}]}],"6":"cl"},{"3":"nmFD-1658365688399","4":{},"5":[{"2":"2","3":"POG2-1658365688397","7":[{"8":"CASE 表达式 "}]}],"6":"cl"},{"3":"LwPR-1658365688401","4":{},"5":[{"2":"2","3":"dq8s-1658365688400","7":[{"8":"WHEN 值1 THEN 结果1或语句1(如果是语句，需要加分号) "}]}],"6":"cl"},{"3":"hirR-1658365688403","4":{},"5":[{"2":"2","3":"ddeK-1658365688402","7":[{"8":"WHEN 值2 THEN 结果2或语句2(如果是语句，需要加分号) "}]}],"6":"cl"},{"3":"jXYI-1658365688405","4":{},"5":[{"2":"2","3":"ztWz-1658365688404","7":[{"8":"... "}]}],"6":"cl"},{"3":"nTdN-1658365688407","4":{},"5":[{"2":"2","3":"vxgX-1658365688406","7":[{"8":"ELSE 结果n或语句n(如果是语句，需要加分号) "}]}],"6":"cl"},{"3":"Cy9T-1658365688409","4":{},"5":[{"2":"2","3":"2Y8r-1658365688408","7":[{"8":"END [case]（如果是放在begin end中需要加上case，如果放在select后面不需要） "}]}],"6":"cl"}],"6":"cd"},{"3":"7Spp-1658365696266","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"pu86-1658365696265","5":[{"2":"2","3":"0oql-1658315652383","7":[{"8":"#情况二：类似于多重if "}]}],"6":"cl"},{"3":"48hp-1658365696836","4":{},"5":[{"2":"2","3":"ZF1R-1658365696835","7":[{"8":"CASE "}]}],"6":"cl"},{"3":"3WNf-1658365696838","4":{},"5":[{"2":"2","3":"s94y-1658365696837","7":[{"8":"WHEN 条件1 THEN 结果1或语句1(如果是语句，需要加分号) "}]}],"6":"cl"},{"3":"tUxI-1658365696840","4":{},"5":[{"2":"2","3":"gGmY-1658365696839","7":[{"8":"WHEN 条件2 THEN 结果2或语句2(如果是语句，需要加分号) "}]}],"6":"cl"},{"3":"33Ht-1658365696842","4":{},"5":[{"2":"2","3":"gYHF-1658365696841","7":[{"8":"... "}]}],"6":"cl"},{"3":"Wulw-1658365696844","4":{},"5":[{"2":"2","3":"cCrJ-1658365696843","7":[{"8":"ELSE 结果n或语句n(如果是语句，需要加分号) "}]}],"6":"cl"},{"3":"UvBL-1658365696846","4":{},"5":[{"2":"2","3":"y4Hx-1658365696845","7":[{"8":"END [case]（如果是放在begin end中需要加上case，如果放在select后面不需要） "}]}],"6":"cl"}],"6":"cd"},{"3":"Siyy-1658315652481","4":{"l":"h3"},"5":[{"2":"2","3":"CzZ9-1658315652479","7":[{"8":"循环结构之","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":"LOOP ","9":[{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"GsOl-1658315652577","5":[{"2":"2","3":"20pq-1658315652576","7":[{"8":"LOOP循环语句用来重复执行某些语句。LOOP内的语句一直重复执行直到循环被退出（使用LEAVE子句），跳出循环过程。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"XQta-1658365726719","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"MGUx-1658365726717","5":[{"2":"2","3":"bHEa-1658365700405","7":[{"8":"[loop_label:] LOOP "}]}],"6":"cl"},{"3":"d833-1658365727313","4":{},"5":[{"2":"2","3":"mpHw-1658365727312","7":[{"8":"循环执行的语句 "}]}],"6":"cl"},{"3":"XTYY-1658365727315","4":{},"5":[{"2":"2","3":"Arwg-1658365727314","7":[{"8":"END LOOP [loop_label] "}]}],"6":"cl"}],"6":"cd"},{"3":"19br-1658365700912","5":[{"2":"2","3":"4vSs-1658365700910","7":[{"8":"其中，loop_label表示LOOP语句的标注名称，该参数可以省略","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"biag-1658365701007","4":{"l":"h3"},"5":[{"2":"2","3":"ZAPl-1658365701006","7":[{"8":"循环结构之","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":"WHILE ","9":[{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"v7ID-1658365701129","5":[{"2":"2","3":"owne-1658365701127","7":[{"8":"WHILE语句创建一个带条件判断的循环过程。WHILE在执行语句执行时，先对指定的表达式进行判断，如果为真，就执行循环内的语句，否则退出循环。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"W33r-1658365760782","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"V5dd-1658365760781","5":[{"2":"2","3":"5MgV-1658365701212","7":[{"8":"[while_label:] WHILE 循环条件 DO "}]}],"6":"cl"},{"3":"w9lL-1658365761098","4":{},"5":[{"2":"2","3":"wTzJ-1658365761097","7":[{"8":"循环体 "}]}],"6":"cl"},{"3":"GdtA-1658365761100","4":{},"5":[{"2":"2","3":"xbYG-1658365761099","7":[{"8":"END WHILE [while_label];"}]}],"6":"cl"}],"6":"cd"},{"3":"Mmmn-1658365701315","5":[{"2":"2","3":"U51L-1658365701313","7":[{"8":"while_label为WHILE语句的标注名称；如果循环条件结果为真，WHILE语句内的语句或语句群被执行，直至循环条件为假，退出循环。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"ZZhf-1658365701420","4":{"l":"h3"},"5":[{"2":"2","3":"R6Hk-1658365701419","7":[{"8":"循环结构之","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":"REPEAT ","9":[{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"Y96J-1658365701522","5":[{"2":"2","3":"Qg5A-1658365701519","7":[{"8":"REPEAT语句创建一个带条件判断的循环过程。与WHILE循环不同的是，REPEAT 循环首先会执行一次循环，然后在 UNTIL 中进行表达式的判断，如果满足条件就退出，即 END REPEAT；如果条件不满足，则会就继续执行循环，直到满足退出条件为止。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"xjV0-1658367683180","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"zP3a-1658367683178","5":[{"2":"2","3":"SdTA-1658365701630","7":[{"8":"[repeat_label:] REPEAT "}]}],"6":"cl"},{"3":"KH78-1658367683869","4":{},"5":[{"2":"2","3":"bUG9-1658367683868","7":[{"8":"循环体的语句 "}]}],"6":"cl"},{"3":"pr82-1658367683872","4":{},"5":[{"2":"2","3":"nYg1-1658367683871","7":[{"8":"UNTIL 结束循环的条件表达式 "}]}],"6":"cl"},{"3":"B2Fb-1658367683874","4":{},"5":[{"2":"2","3":"M8Kg-1658367683873","7":[{"8":"END REPEAT [repeat_label] "}]}],"6":"cl"}],"6":"cd"},{"3":"wgnN-1658365701724","5":[{"2":"2","3":"Ki18-1658365701723","7":[{"8":"repeat_label为REPEAT语句的标注名称，该参数可以省略；REPEAT语句内的语句或语句群被重复，直至expr_condition为真。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"0fvs-1658365701823","5":[{"2":"2","3":"tTXm-1658365701821","7":[{"8":"1、这三种循环都可以省略名称，但如果循环中添加了循环控制语句（LEAVE或ITERATE）则必须添加名称。 2、 LOOP：一般用于实现简单的\"死\"循环 WHILE：先判断后执行 REPEAT：先执行后判断，无条件至少执行一次","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"XdSl-1658367718521","4":{"l":"h3"},"5":[{"2":"2","3":"nWY9-1658367718520","7":[{"8":"跳转语句之","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":"LEAVE","9":[{"0":"#34495e","2":"c"}]},{"8":"语句 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"LNC4-1658367711246","5":[{"2":"2","3":"1SRo-1658367711244","7":[{"8":"LEAVE语句：可以用在循环语句内，","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"或者以 BEGIN 和 END 包裹起来的程序体内，表示跳出循环或者跳出程序体的操作","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"},{"0":"#FFF2CC","2":"bg"}]},{"8":"。如果你有面向过程的编程语言的使用经验，你可以把 LEAVE 理解为 break。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"zPbA-1658367743712","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"iiD6-1658367743711","5":[{"2":"2","3":"zItW-1658367711761","7":[{"8":"LEAVE 标记名 "}]}],"6":"cl"}],"6":"cd"},{"3":"7t1z-1658367711847","5":[{"2":"2","3":"abOS-1658367711845","7":[{"8":"其中，label参数表示循环的标志。LEAVE和BEGIN ... END或循环一起被使用。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"rsp5-1658367758931","4":{"l":"h3"},"5":[{"2":"2","3":"G5xO-1658367758930","7":[{"8":"跳转语句之","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":"ITERATE","9":[{"0":"#34495e","2":"c"}]},{"8":"语句 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"mKrp-1658367712057","5":[{"2":"2","3":"EM5D-1658367712056","7":[{"8":"ITERATE语句：只能用在循环语句（LOOP、REPEAT和WHILE语句）内，表示重新开始循环，将执行顺序转到语句段开头处。如果你有面向过程的编程语言的使用经验，你可以把 ITERATE 理解为 continue，意思为“再次循环”。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"f9bL-1658367777581","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"mBsu-1658367777580","5":[{"2":"2","3":"Gep3-1658367712152","7":[{"8":"ITERATE label "}]}],"6":"cl"}],"6":"cd"},{"3":"hbQJ-1658368483658","4":{"l":"h1"},"5":[{"2":"2","3":"xVL6-1658368483657","7":[{"8":"游标","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"1Fy5-1658314360990","5":[{"2":"2","3":"yBGL-1658314360989","7":[{"8":"虽然我们也可以通过筛选条件 WHERE 和 HAVING，或者是限定返回记录的关键字 LIMIT 返回一条记录，但是，却无法在结果集中像指针一样，向前定位一条记录、向后定位一条记录，或者是 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"随意定位到某一 条记录 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，并对记录的数据进行处理。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"0b9U-1658368740430","4":{"version":1},"5":[{"2":"2","3":"pQPK-1658368740429","7":[{"8":"这个时候，就可以用到游标。游标，提供了一种灵活的操作方式，让我们能够对结果集中的每一条记录进行定位，并对指向的记录中的数据进行操作的数据结构。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"游标让 ","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"SQL ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"这种面向集合的语言有了面向过程开发的能力。","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"20fH-1658368740437","4":{"version":1},"5":[{"2":"2","3":"pchm-1658368740436","7":[{"8":"在 SQL 中，游标是一种临时的数据库对象，可以指向存储在数据库表中的数据行指针。这里游标 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"充当了指针的作用 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，我们可以通过操作游标来对数据行进行操作。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"GjLi-1658314361087","5":[{"2":"2","3":"MwDY-1658314361085","7":[{"8":"MySQL中游标可以在存储过程和函数中使用","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"wPFB-1658314361185","4":{"l":"h3"},"5":[{"2":"2","3":"XKVv-1658314361184","7":[{"8":"使用游标步骤","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"wenr-1658313684233","5":[{"2":"2","3":"HYvT-1658313684231","7":[{"8":"游标必须在声明处理程序之前被声明，并且变量和条件还必须在声明游标或处理程序之前被声明。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"9nfo-1658369949552","4":{"version":1},"5":[{"2":"2","3":"BDnE-1658369949551","7":[{"8":"如果我们想要使用游标，一般需要经历四个步骤。不同的 DBMS 中，使用游标的语法可能略有不同。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"DGTF-1658368756981","5":[{"2":"2","3":"q5Gn-1658368756978","7":[{"8":"第一步，声明游标","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"JZY2-1658369970822","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"u0JI-1658369970820","5":[{"2":"2","3":"HCmM-1658368757112","7":[{"8":"DECLARE cursor_name CURSOR FOR select_statement; "}]}],"6":"cl"}],"6":"cd"},{"3":"vjm1-1658368757633","5":[{"2":"2","3":"IGA5-1658368757632","7":[{"8":"这个语法适用于 MySQL，SQL Server，DB2 和 MariaDB。如果是用 Oracle 或者 PostgreSQL，需要写成","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"CziW-1658369980998","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"Awmq-1658369980996","5":[{"2":"2","3":"ZH7d-1658368757723","7":[{"8":"DECLARE cursor_name CURSOR IS select_statement; "}]}],"6":"cl"}],"6":"cd"},{"3":"6TBV-1658368757821","5":[{"2":"2","3":"oPki-1658368757819","7":[{"8":"要使用 SELECT 语句来获取数据结果集，而此时还没有开始遍历数据，这里 select_statement 代表的是SELECT 语句，返回一个用于创建游标的结果集。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"5A1y-1658369998533","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"gAx7-1658369998532","5":[{"2":"2","3":"xahz-1658368757905","7":[{"8":"DECLARE cur_emp CURSOR FOR "}]}],"6":"cl"},{"3":"e2Qu-1658369998883","4":{},"5":[{"2":"2","3":"Qbav-1658369998882","7":[{"8":"SELECT employee_id,salary FROM employees; "}]}],"6":"cl"}],"6":"cd"},{"3":"kLE0-1658368758021","5":[{"2":"2","3":"QZQS-1658368758019","7":[{"8":"第二步，打开游标","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"UDrl-1658370016357","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"ahdD-1658370016355","5":[{"2":"2","3":"rp0J-1658368758123","7":[{"8":"OPEN cursor_name "}]}],"6":"cl"}],"6":"cd"},{"3":"WWER-1658368758238","5":[{"2":"2","3":"h22l-1658368758237","7":[{"8":"当我们定义好游标之后，如果想要使用游标，必须先打开游标。打开游标的时候 SELECT 语句的查询结果集就会送到游标工作区，为后面游标的 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"逐条读取 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"结果集中的记录做准备。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"etWJ-1658368758334","5":[{"2":"2","3":"XvE5-1658368758333","7":[{"8":"第三步，使用游标（从游标中取得数据）","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"BU9J-1658370044697","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"m1Y0-1658370044696","5":[{"2":"2","3":"hBbQ-1658368758430","7":[{"8":"FETCH cursor_name INTO var_name [, var_name] ... "}]}],"6":"cl"}],"6":"cd"},{"3":"R2Xg-1658368758540","5":[{"2":"2","3":"Bc8r-1658368758539","7":[{"8":"这句的作用是使用 cursor_name 这个游标来读取当前行，并且将数据保存到 var_name 这个变量中，游标指针指到下一行。如果游标读取的数据行有多个列名，则在 INTO 关键字后面赋值给多个变量名即可。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"D47Y-1658370018792","5":[{"2":"2","3":"Koz0-1658370018790","7":[{"8":"注意：var_name必须在声明游标之前就定义好。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Atka-1658370019279","5":[{"2":"2","3":"cKEY-1658370019277","7":[{"8":"注意：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"游标的查询结果集中的字段数，必须跟 ","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"INTO ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"后面的变量数一致","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"，否则，在存储过程执行的时候，MySQL 会提示错误。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"NXIQ-1658370019370","5":[{"2":"2","3":"SWuy-1658370019369","7":[{"8":"第四步，关闭游标","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"fXtJ-1658370194372","4":{"wrap":false,"la":"sql","th":"default"},"5":[{"3":"XraD-1658370194371","5":[{"2":"2","3":"Hfal-1658370019465","7":[{"8":"CLOSE cursor_name"}]}],"6":"cl"}],"6":"cd"},{"3":"RTei-1658370019555","5":[{"2":"2","3":"MQKq-1658370019554","7":[{"8":"有 OPEN 就会有 CLOSE，也就是打开和关闭游标。当我们使用完游标后需要关闭掉该游标。因为游标会","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"占用系统资源 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，如果不及时关闭，","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"游标会一直保持到存储过程结束","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"，影响系统运行的效率。而关闭游标的操作，会释放游标占用的系统资源。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"ObAa-1658368758636","5":[{"2":"2","3":"Kye2-1658368758635","7":[{"8":"关闭游标之后，我们就不能再检索查询结果中的数据行，如果需要检索只能再次打开游标。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"bcBn-1658313684329","4":{"l":"h3"},"5":[{"2":"2","3":"YCRv-1658313684328","7":[{"8":"举例","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"0D1Y-1658371177970","4":{"version":1},"5":[{"2":"2","3":"leXd-1658371177971","7":[{"8":"创建存储过程“get_count_by_limit_total_salary()”，声明IN参数 limit_total_salary，DOUBLE类型；声明OUT参数total_count，INT类型。函数的功能可以实现累加薪资最高的几个员工的薪资值，直到薪资总和达到limit_total_salary参数的值，返回累加的人数给total_count。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"fjtv-1658371190315","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"grz2-1658371190314","5":[{"2":"2","3":"YrdL-1658371178480","7":[{"8":"DELIMITER // "}]}],"6":"cl"},{"3":"kjpc-1658371196911","4":{},"5":[{"2":"2","3":"lXNU-1658371196910","7":[{"8":"CREATE PROCEDURE get_count_by_limit_total_salary(IN limit_total_salary DOUBLE,OUT "}]}],"6":"cl"},{"3":"mjpQ-1658371196913","4":{},"5":[{"2":"2","3":"CZOb-1658371196912","7":[{"8":"total_count INT) "}]}],"6":"cl"},{"3":"FYo9-1658371196915","4":{},"5":[{"2":"2","3":"aQoI-1658371196914","7":[{"8":"BEGIN"}]}],"6":"cl"},{"3":"4TPt-1658371196917","4":{},"5":[{"2":"2","3":"Pzp4-1658371196916","7":[{"8":"DECLARE sum_salary DOUBLE DEFAULT 0; #记录累加的总工资 "}]}],"6":"cl"},{"3":"z87u-1658371196919","4":{},"5":[{"2":"2","3":"rk53-1658371196918","7":[{"8":"DECLARE cursor_salary DOUBLE DEFAULT 0; #记录某一个工资值 "}]}],"6":"cl"},{"3":"2lmq-1658371196922","4":{},"5":[{"2":"2","3":"xuSv-1658371196921","7":[{"8":"DECLARE emp_count INT DEFAULT 0; #记录循环个数 "}]}],"6":"cl"},{"3":"JBeM-1658371196924","4":{},"5":[{"2":"2","3":"MC2R-1658371196923","7":[{"8":"#定义游标 "}]}],"6":"cl"},{"3":"nsKW-1658371196926","4":{},"5":[{"2":"2","3":"6R8U-1658371196925","7":[{"8":"DECLARE emp_cursor CURSOR FOR SELECT salary FROM employees ORDER BY salary DESC; "}]}],"6":"cl"},{"3":"pKfJ-1658371196928","4":{},"5":[{"2":"2","3":"2CkV-1658371196927","7":[{"8":"#打开游标 "}]}],"6":"cl"},{"3":"Jz0w-1658371196930","4":{},"5":[{"2":"2","3":"kW8J-1658371196929","7":[{"8":"OPEN emp_cursor; "}]}],"6":"cl"},{"3":"Gpwi-1658371196932","4":{},"5":[{"2":"2","3":"UKxp-1658371196931","7":[{"8":"REPEAT"}]}],"6":"cl"},{"3":"bk7Q-1658371196934","4":{},"5":[{"2":"2","3":"pzNY-1658371196933","7":[{"8":"#使用游标（从游标中获取数据） "}]}],"6":"cl"},{"3":"S6yQ-1658371196936","4":{},"5":[{"2":"2","3":"gqfR-1658371196935","7":[{"8":"FETCH emp_cursor INTO cursor_salary; "}]}],"6":"cl"},{"3":"3fZ7-1658371196939","4":{},"5":[{"2":"2","3":"UOJb-1658371196938","7":[{"8":"SET sum_salary \u003d sum_salary + cursor_salary; "}]}],"6":"cl"},{"3":"UHxO-1658371196941","4":{},"5":[{"2":"2","3":"3UlJ-1658371196940","7":[{"8":"SET emp_count \u003d emp_count + 1; "}]}],"6":"cl"},{"3":"ku2U-1658371196943","4":{},"5":[{"2":"2","3":"QLDZ-1658371196942","7":[{"8":"UNTIL sum_salary \u003e\u003d limit_total_salary "}]}],"6":"cl"},{"3":"599y-1658371196945","4":{},"5":[{"2":"2","3":"792D-1658371196944","7":[{"8":"END REPEAT; "}]}],"6":"cl"},{"3":"HxIn-1658371196947","4":{},"5":[{"2":"2","3":"eIzD-1658371196946","7":[{"8":"SET total_count \u003d emp_count; "}]}],"6":"cl"},{"3":"uGIb-1658371196949","4":{},"5":[{"2":"2","3":"9lj8-1658371196948","7":[{"8":"#关闭游标 "}]}],"6":"cl"},{"3":"xF8M-1658371196951","4":{},"5":[{"2":"2","3":"K6Ch-1658371196950","7":[{"8":"CLOSE emp_cursor; "}]}],"6":"cl"},{"3":"Lq44-1658371196953","4":{},"5":[{"2":"2","3":"AEpo-1658371196952","7":[{"8":"END // "}]}],"6":"cl"},{"3":"sdqF-1658371196956","4":{},"5":[{"2":"2","3":"wW3p-1658371196954","7":[{"8":"DELIMITER ;"}]}],"6":"cl"}],"6":"cd"},{"3":"95ko-1658371178618","4":{"l":"h3"},"5":[{"2":"2","3":"BI9x-1658371178615","7":[{"8":"小结","9":[{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"ZTCd-1658371608017","4":{"version":1},"5":[{"2":"2","3":"xSuP-1658371608014","7":[{"8":"游标是 MySQL 的一个重要的功能，为 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"逐条读取 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"结果集中的数据，提供了完美的解决方案。跟在应用层面实现相同的功能相比，游标可以在存储程序中使用，效率高，程序也更加简洁。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"6EvA-1658371606780","4":{"version":1},"5":[{"2":"2","3":"W3XA-1658371606779","7":[{"8":"但同时也会带来一些性能问题，比如在使用游标的过程中，会对数据行进行 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"加锁 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，这样在业务并发量大的时候，不仅会影响业务之间的效率，还会 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"消耗系统资源 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，造成内存不足，这是因为游标是在内存中进行的处理。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"xeqz-1658371606787","4":{"version":1},"5":[{"2":"2","3":"XHST-1658371606786","7":[{"8":"建议：养成用完之后就关闭的习惯，这样才能提高系统的整体效率。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"TTTX-1658371178737","4":{"l":"h1"},"5":[{"2":"2","3":"KFGi-1658371178734","7":[{"8":"MySQL 8.0","9":[{"0":"#34495e","2":"c"}]},{"8":"的新特性","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":"—","9":[{"0":"#34495e","2":"c"}]},{"8":"全局变量的持久化","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"uvFR-1658371178861","4":{"version":1},"5":[{"2":"2","3":"OwTU-1658371178858","7":[{"8":"在MySQL数据库中，全局变量可以通过SET GLOBAL语句来设置。例如，设置服务器语句超时的限制，可以通过设置系统变量max_execution_time来实现","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"kqFl-1658371667308","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"p95Y-1658371667307","5":[{"2":"2","3":"oQqg-1658371663860","7":[{"8":"SET GLOBAL MAX_EXECUTION_TIME\u003d2000; "}]}],"6":"cl"}],"6":"cd"},{"3":"hrf6-1658371178998","4":{"version":1},"5":[{"2":"2","3":"oXqg-1658371178994","7":[{"8":"使用SET GLOBAL语句设置的变量值只会 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"临时生效 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"数据库重启 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"后，服务器又会从MySQL配置文件中读取变量的默认值。 MySQL 8.0版本新增了 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"SET PERSIST ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"命令。例如，设置服务器的最大连接数为1000： ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"J1Pa-1658371678907","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"gDFC-1658371678906","5":[{"2":"2","3":"ljwO-1658371179106","7":[{"8":"SET PERSIST global max_connections \u003d 1000; "}]}],"6":"cl"}],"6":"cd"},{"3":"mn7M-1658371179215","4":{"version":1},"5":[{"2":"2","3":"8P6P-1658371179212","7":[{"8":"MySQL会将该命令的配置保存到数据目录下的 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"mysqld-auto.cnf ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"文件中，下次启动时会读取该文件，用其中的配置来覆盖默认的配置文件。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]}],"__compress__":true,"title":""}