{"2":"1","3":"Ju9C-1621846617594","4":{"version":1,"incompatibleVersion":0,"fv":"0"},"5":[{"3":"3060-1621846615933","4":{"l":"h1"},"5":[{"2":"2","3":"p5PQ-1621846617594","7":[{"8":"范 式 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"lnoC-1658994802675","5":[{"2":"2","3":"a1gV-1658994802674","7":[{"8":"在关系型数据库中，关于数据表设计的基本原则、规则就称为范式。","9":[{"2":"b"},{"0":"#880000","2":"c"}]},{"8":"可以理解为，一张数据表的设计结构需要满足的某种设计标准的 ","9":[{"0":"#34495e","2":"c"}]},{"8":"级别 ","9":[{"0":"#e96900","2":"c"},{"0":"NSimSun","2":"ff"}]},{"8":"。要想设计一个结构合理的关系型数据库，必须满足一定的范式。","9":[{"0":"#34495e","2":"c"}]}]}]},{"3":"6Sbk-1658996965863","4":{"version":1},"5":[{"2":"2","3":"jdDQ-1658996965862","7":[{"8":"目前关系型数据库有六种常见范式，按照范式级别，从低到高分别是：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"第一范式（","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"1NF","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）、第二范式（","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"2NF","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）、第三范式（","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"3NF","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）、巴斯","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"-","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"科德范式（","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"BCNF","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）、第四范式","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"(4NF","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）和第五范式（","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"5NF","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"，又称完美范式）","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"NME2-1658997386671","4":{"version":1},"5":[{"2":"2","3":"wPkz-1658997386669","7":[{"8":"数据库的范式设计越高阶，冗余度就越低，同时高阶的范式一定符合低阶范式的要求，满足最低要求的范式是第一范式(1NF)。在第一范式的基础上进一步满足更多规范要求的称为第二范式(2NF)，其余范式以次类推。"}]}]},{"3":"XEZr-1658997398014","4":{"version":1},"5":[{"2":"2","3":"eiKm-1658997398012","7":[{"8":"一般来说，在关系型数据库设计中，最高也就遵循到 BCNF，普遍还是3NF。但也不绝对，有时候为了提高某些查询性能，我们还需要破坏范式规则，也就是反规范化。"}]}]},{"3":"2NkU-1658994803285","4":{"l":"h3"},"5":[{"2":"2","3":"3DqF-1658994803284","7":[{"8":"键和相关属性的概念","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"9yM6-1658994803382","5":[{"2":"2","3":"laUz-1658994803380","7":[{"8":"球员表","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"(player) ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：球员编号 | 姓名 | 身份证号 | 年龄 | 球队编号","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"U6Za-1658997582218","4":{"version":1},"5":[{"2":"2","3":"wwYC-1658997582217","7":[{"8":"球队表","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"(team) ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：球队编号 | 主教练 | 球队所在地","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"oLcD-1658997581160","5":[{"2":"2","3":"nDUN-1658997581157","7":[{"8":"超键 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"：能唯一标识元组的属性集叫做超键","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"RFAQ-1658997549874","4":{"version":1},"5":[{"2":"2","3":"Exsk-1658997549873","7":[{"8":"候选键","9":[{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"},{"0":"#E96900FF","2":"c"}]},{"8":" ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"：如果超键不包含多余的属性，那么这个超键就是候选键","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"SVOA-1658997549876","4":{"version":1},"5":[{"2":"2","3":"zhEh-1658997549875","7":[{"8":"主键 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"：用户可以从超键中选择一个作为主键。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"MdcA-1658997549878","4":{"version":1},"5":[{"2":"2","3":"8P8A-1658997549877","7":[{"8":"外键 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"：如果数据表R1中的某属性集不是R1的主键，而是另一个数据表R2的主键，那么这个属性集就是数据表R1的外键。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Czkv-1658997549880","4":{"version":1},"5":[{"2":"2","3":"zffW-1658997549879","7":[{"8":"主属性 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"、 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"非主属性 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"：包含在任一候选键中的属性称为主属性。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"与主属性相对，指的是不包含在任何一个候选键中的属性。","9":[{"0":16,"2":"fs"}]}]}]},{"3":"dok5-1658994803491","4":{"l":"h3"},"5":[{"2":"2","3":"uV87-1658994803490","7":[{"8":"第一范式","9":[{"0":"#000000","2":"c"}]}]}],"6":"h"},{"3":"rSEm-1658994803586","5":[{"2":"2","3":"qUkR-1658994803585","7":[{"8":"第一范式主要是确保数据表中每个字段的值必须具有原子性，也就是说数据表中每个字段的值为不可再次拆分的最小数据单元。"}]}]},{"3":"nrQX-1658998434603","4":{"version":1,"u":"https://note.youdao.com/yws/res/0/WEBRESOURCEfa555ea450382bc58fc2a54ac5079510","w":582,"h":187},"6":"im"},{"3":"7FII-1658994803697","4":{"l":"h3"},"5":[{"2":"2","3":"W136-1658994803695","7":[{"8":"第二范式","9":[{"0":"#000000","2":"c"}]}]}],"6":"h"},{"3":"KF9r-1658994803794","5":[{"2":"2","3":"HQPO-1658994803792","7":[{"8":"第二范式要求，在满足第一范式的基础上，还要"},{"8":"满足数据表里的每一条数据记录，都是可唯一标识的","9":[{"0":"#A00E0EFF","2":"c"},{"2":"b"}]},{"8":"。"},{"8":"而且所有非主键字段，都必须完全依赖主键，不能只依赖主键的一部分","9":[{"0":"#A00E0EFF","2":"c"},{"2":"b"}]},{"8":"。如果知道主键的所有属性的值，就可以检索到任何元组(行)的任何属性的任何值。(要求中的主键，其实可以拓展替换为候选键)。"}]}]},{"3":"6rMc-1658998881795","4":{"version":1,"u":"https://note.youdao.com/yws/res/6/WEBRESOURCEbfaa848e91704f1f5caa5ef0b781f5f6","w":468,"h":53},"6":"im"},{"3":"2cfp-1658994804001","5":[{"2":"2","3":"47IL-1658994804000","7":[{"8":"不遵循第二范式的结果","9":[{"0":"#000000","2":"c"}]}]}]},{"3":"ScpK-1658994804096","4":{"li":"4jKq-1658999374946","lt":"ordered","ll":1},"5":[{"2":"2","3":"9RoR-1658994804095","7":[{"8":"数据冗余∶如果一个球员可以参加m场比赛，那么球员的姓名和年龄就重复了m-1次。一个比赛也可能会有n个球员参加，比赛的时间和地点就重复了n-1次。"}]}],"6":"l"},{"3":"3ybc-1658999354385","4":{"li":"4jKq-1658999374946","lt":"ordered","ll":1},"5":[{"2":"2","3":"DuYt-1658999354384","7":[{"8":"插入异常∶如果我们想要添加一场新的比赛，但是这时还没有确定参加的球员都有谁，那么就没法插入。"}]}],"6":"l"},{"3":"Eini-1658999368271","4":{"li":"4jKq-1658999374946","lt":"ordered","ll":1},"5":[{"2":"2","3":"Q3BO-1658999368269","7":[{"8":"删除异常∶如果我要删除某个球员编号，如果没有单独保存比赛表的话，就会同时把比赛信息删除掉。"}]}],"6":"l"},{"3":"XW6w-1658999369894","4":{"li":"4jKq-1658999374946","lt":"ordered","ll":1},"5":[{"2":"2","3":"zB3J-1658999369893","7":[{"8":"更新异常︰如果我们调整了某个比赛的时间，那么数据表中所有这个比赛的时间都需要进行调整否则就会出现一场比赛时间不同的情况。"}]}],"6":"l"},{"3":"RjF0-1658997847475","5":[{"2":"2","3":"Qg6N-1658997847476","7":[{"8":"1NF告诉我们字段属性需要是原子性的，而2NF告诉我们一张表就是一个独立的对象，一张表只表达一个意思。"}]}]},{"3":"QoV5-1658999620714","5":[{"2":"2","3":"zglv-1658999620710","7":[{"8":"小结:第二范式(2NF）要求实体的属性完全依赖主关键字。如果存在不完全依赖，那么这个属性和主关键字的这一部分应该分离出来形成一个新的实体,新实体与元实体之间是一对多的关系。"}]}]},{"3":"hg7W-1658994811576","4":{"l":"h3"},"5":[{"2":"2","3":"GOXl-1658994811575","7":[{"8":"第三范式","9":[{"0":"#000000","2":"c"}]}]}],"6":"h"},{"3":"Px4w-1658994811670","5":[{"2":"2","3":"ylOZ-1658994811669","7":[{"8":"第三范式是在第二范式的基础上，"},{"8":"确保数据却中的每一个非主键字段都和主键字段直接相关","9":[{"0":"#A00E0EFF","2":"c"},{"2":"b"}]},{"8":"，也就是说，"},{"8":"要求数据表中的所有非主键字段不能依赖于其他非主键字段","9":[{"0":"#A00E0EFF","2":"c"}]},{"8":"。(即，不能存在非主属性A依赖于非主属性B，非主属性B依赖于主键c的情况，即存在\"A→B一C\"的决定关系"},{"8":"×","9":[{"0":"#A00E0EFF","2":"c"},{"2":"b"}]},{"8":"）通俗地讲，该规则的意思是所有非主键属性之间不能有依赖关系，必须相互独立。"}]}]},{"3":"VRQG-1658994811779","5":[{"2":"2","3":"HPnz-1658994811778","7":[{"8":"符合3NF后的数据模型通俗地讲，2NF和3NF通常以这句话概括:“每个非键属性依赖于键，依赖于整个键，并且除了键别无他物”。"}]}]},{"3":"5bNA-1658994811875","4":{"l":"h3"},"5":[{"2":"2","3":"gXQP-1658994811874","7":[{"8":"小结","9":[{"0":"#000000","2":"c"}]}]}],"6":"h"},{"3":"Pxkq-1658994811985","5":[{"2":"2","3":"BIrs-1658994811984","7":[{"8":"第一范式，确保每列保持原子性","9":[{"0":"#000000","2":"c"}]}]}]},{"3":"JiMZ-1658999833760","5":[{"2":"2","3":"712L-1658999833758","7":[{"8":"第二范式，确保每列都和主键完全依赖","9":[{"0":"#000000","2":"c"}]}]}]},{"3":"KiwT-1658999854145","5":[{"2":"2","3":"MEjT-1658999854143","7":[{"8":"第三范式，确保每列都和主键直接相关，而不是间接相关","9":[{"0":"#000000","2":"c"}]}]}]},{"3":"a7Nm-1658994812080","5":[{"2":"2","3":"g3bP-1658994812079","7":[{"8":"范式的优点:数据的标准化有助于消除数据库中的数据冗余，第三范式(3NF）通常被认为在性能、扩展性和数据完整性方面达到了最好的平衡。"}]}]},{"3":"yHdS-1658999922358","4":{"version":1},"5":[{"2":"2","3":"RmTc-1658999922357","7":[{"8":"范式的缺点:范式的使用，可能"},{"8":"降低查询的效率","9":[{"0":"#E96900FF","2":"c"}]},{"8":"。因为范式等级越高，设计出来的数据表就越多、越精细，数据的冗余度就越低，进行数据查询的时候就可能需要"},{"8":"关联多张表","9":[{"0":"#E96900FF","2":"c"}]},{"8":"，这不但代价昂贵，也可能"},{"8":"使一些索引策略无效","9":[{"0":"#E96900FF","2":"c"}]},{"8":"。"}]}]},{"3":"7vpX-1658994812174","5":[{"2":"2","3":"YYgC-1658994812173","7":[{"8":"范式本身没有优劣之分，只有适用场景不同。没有完美的设计，只有合适的设计，我们在数据表的设计中，还需要根据需求将范式和反范式混合使用。"}]}]},{"3":"yCtd-1658994812287","4":{"l":"h1"},"5":[{"2":"2","3":"HOsS-1658994812286","7":[{"8":"反范式化","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"Ysxk-1658994812382","5":[{"2":"2","3":"TCYt-1658994812380","7":[{"8":"有的时候不能简单按照规范要求设计数据表，因为有的数据看似冗余，其实对业务来说十分重要。这个时候，我们就要遵循"},{"8":"业务优先的原则","9":[{"0":"#E96900FF","2":"c"}]},{"8":"，首先满足业务需求，再尽量减少冗余。"}]}]},{"3":"orQq-1659000086645","4":{"version":1},"5":[{"2":"2","3":"Rfi3-1659000086644","7":[{"8":"如果数据库中的数据量比较大，系统的UV和PV访问频次比较高，则完全按照MysQL的三大范式设计数据表，读数据时会产生大量的关联查询，在一定程度上会影响数据库的读性能。如果我们想对查询效率进行优化，"},{"8":"反范式优化","9":[{"0":"#E96900FF","2":"c"}]},{"8":"也是一种优化思路。此时，可以通过在数据表中"},{"8":"增加冗余字段","9":[{"0":"#E96900FF","2":"c"}]},{"8":"来提高数据库的读性能。"}]}]},{"3":"zNGd-1658994812479","5":[{"2":"2","3":"qfvd-1658994812477","7":[{"8":"规范化 ","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"vs ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"性能","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"FI9o-1658994812601","4":{"li":"rIqi-1659000138298","lt":"ordered","ll":1},"5":[{"2":"2","3":"wQRl-1658994812600","7":[{"8":"为满足某种商业目标 , 数据库性能比规范化数据库更重要","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"v1yv-1659000125697","4":{"li":"rIqi-1659000138298","lt":"ordered","ll":1},"5":[{"2":"2","3":"gmFm-1659000125696","7":[{"8":"在数据规范化的同时 , 要综合考虑数据库的性能","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"Rb9l-1659000125699","4":{"li":"rIqi-1659000138298","lt":"ordered","ll":1},"5":[{"2":"2","3":"aGil-1659000125698","7":[{"8":"通过在给定的表中添加额外的字段，以大量减少需要从中搜索信息所需的时间","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"gehV-1659000125702","4":{"li":"rIqi-1659000138298","lt":"ordered","ll":1},"5":[{"2":"2","3":"rkpw-1659000125701","7":[{"8":"通过在给定的表中插入计算列，以方便查询","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"CVzu-1658994812782","4":{"l":"h3"},"5":[{"2":"2","3":"F6Dn-1658994812781","7":[{"8":"反范式的新问题","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"HlaQ-1658994812892","4":{"li":"1bWS-1659000445995","lt":"unordered","ll":1},"5":[{"2":"2","3":"QKkQ-1658994812891","7":[{"8":"存储","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"空间变大","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"了","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"NraM-1659000438952","4":{"li":"1bWS-1659000445995","lt":"unordered","ll":1},"5":[{"2":"2","3":"CNKU-1659000438949","7":[{"8":"一个表中字段做了修改，另一个表中冗余的字段也需要做同步修改，否则","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"数据不一致","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]}]}],"6":"l"},{"3":"KTk2-1659000430631","4":{"li":"1bWS-1659000445995","lt":"unordered","ll":1},"5":[{"2":"2","3":"iwkW-1659000430630","7":[{"8":"若采用存储过程来支持数据的更新、删除等额外操作，如果更新频繁，会非常 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"消耗系统资源 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]}]}],"6":"l"},{"3":"n1Cl-1659000430634","4":{"li":"1bWS-1659000445995","lt":"unordered","ll":1},"5":[{"2":"2","3":"qLjv-1659000430633","7":[{"8":"在","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"数据量小","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的情况下，反范式不能体现性能的优势，可能还会让数据库的设计更加","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"复杂","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]}]}],"6":"l"},{"3":"rSOs-1658994812985","5":[{"2":"2","3":"IgA5-1658994812984","7":[{"8":"当冗余信息有价值或者能 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"大幅度提高查询效率 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的时候，我们才会采取反范式的优化。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"zz9G-1658994813100","4":{"l":"h3"},"5":[{"2":"2","3":"TjIh-1658994813099","7":[{"8":"历史快照、历史数据的需要","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"3qS5-1658994813195","5":[{"2":"2","3":"i2zX-1658994813193","7":[{"8":"在现实生活中，我们经常需要一些冗余信息，比如订单中的收货人信息，包括姓名、电话和地址等每次发生的订单收货信息都属于历史快照，需要进行保存，但用户可以随时修改自己的信息，这时保存这些冗余信息是非常有必要的。"}]}]},{"3":"jukf-1659000749401","4":{"version":1},"5":[{"2":"2","3":"tfGe-1659000749400","7":[{"8":"反范式优化也常用在数据仓库的设计中，因为数据仓库通常存储历史数据，对增删改的实时性要求不强，对历史数据的分析需求强。这时适当允许数据的冗余度，更方便进行数据分析。"}]}]},{"3":"w1KF-1659000749403","4":{"version":1},"5":[{"2":"2","3":"iK7X-1659000749402","7":[{"8":"我简单总结下数据仓库和数据库在使用上的区别:"}]}]},{"3":"NdGf-1659000749405","4":{"li":"hwPw-1659000766484","lt":"ordered","ll":1},"5":[{"2":"2","3":"JIxZ-1659000749404","7":[{"8":"数据库设计的目的在于捕获数据，而数据仓库设计的目的在于分析数据;"}]}],"6":"l"},{"3":"Hwwh-1659000749407","4":{"li":"hwPw-1659000766484","lt":"ordered","ll":1},"5":[{"2":"2","3":"6uFa-1659000749406","7":[{"8":"数据库对数据的增删改实时性要求强，需要存储在线的用户数据，而数据仓库存储的一般是历史数据;"}]}],"6":"l"},{"3":"6jr5-1659000756970","4":{"li":"hwPw-1659000766484","lt":"ordered","ll":1},"5":[{"2":"2","3":"5osT-1659000756968","7":[{"8":"数据库设计需要尽量避免冗余，但为了提高查询效率也允许一定的冗余度，而数据仓库在设计上更偏向采用反范式设计。"}]}],"6":"l"},{"3":"Yxv0-1658994813290","4":{"l":"h1"},"5":[{"2":"2","3":"pqOv-1658994813288","7":[{"8":"BCNF(","9":[{"0":"#34495e","2":"c"}]},{"8":"巴斯范式","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":")","9":[{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"RTIn-1658994813387","5":[{"2":"2","3":"3QZ8-1658994813386","7":[{"8":"人们在3NF的基础上进行了改进，提出了巴斯范式(BCNF)，也叫做巴斯-科德范式(Boyce-Codd NormalForm)。BCNF被认为没有新的设计规范加入，只是对第三范式中设计规范要求更强，使得数据库冗余度更小。所以，称为是修正的第三范式，或扩充的第三范式，BCNF不被称为第四范式。"}]}]},{"3":"VHKD-1659000904645","4":{"version":1},"5":[{"2":"2","3":"yXho-1659000904644","7":[{"8":"若一个关系达到了第三范式，并且它只有一个候选键，或者它的每个候选键都是单属性，则该关系自然达到Bc范式。"}]}]},{"3":"6JCY-1659000913153","4":{"version":1},"5":[{"2":"2","3":"NKE0-1659000913151","7":[{"8":"一般来说，一个数据库设计符合3NF或BCNF就可以了。"}]}]},{"3":"yuUF-1659001229201","4":{"version":1,"u":"https://note.youdao.com/yws/res/8/WEBRESOURCE4793e33bca5513d5a8add877ef1e8468","w":294,"h":160},"6":"im"},{"3":"nxl0-1659000818564","5":[{"2":"2","3":"Y0vy-1659000818562","7":[{"8":"主键（仓库名）部分依赖于主属性，根据BCND范式可以将其拆分为两个表：","9":[{"0":"#000000","2":"c"}]}]}]},{"3":"EwfS-1659001296835","4":{"li":"Q7XY-1659001323852","lt":"unordered","ll":1},"5":[{"2":"2","3":"b1av-1659001296833","7":[{"8":"仓库表（仓库名，管理员）","9":[{"0":"#000000","2":"c"}]}]}],"6":"l"},{"3":"NHPc-1659001305853","4":{"li":"Q7XY-1659001323852","lt":"unordered","ll":1},"5":[{"2":"2","3":"v03N-1659001305852","7":[{"8":"库存表（仓库名，物品名，数量）","9":[{"0":"#000000","2":"c"}]}]}],"6":"l"},{"3":"2TAj-1659000819078","4":{"l":"h1"},"5":[{"2":"2","3":"Cj0b-1659000819076","7":[{"8":"第四范式","9":[{"0":"#000000","2":"c"}]}]}],"6":"h"},{"3":"ea4R-1659004086376","4":{"version":1,"u":"https://note.youdao.com/yws/res/c/WEBRESOURCE86cb176d56962a3c0e597e2204a2cfec","w":582,"h":222},"6":"im"},{"3":"lOPR-1659000819279","4":{"l":"h1"},"5":[{"2":"2","3":"k9XY-1659000819277","7":[{"8":"第五范式","9":[{"0":"#000000","2":"c"}]}]}],"6":"h"},{"3":"35L5-1659004126238","4":{"version":1,"u":"https://note.youdao.com/yws/res/c/WEBRESOURCEdc7a38215f65a8d44714580cfad804ec","w":582,"h":207},"6":"im"},{"3":"WC5z-1659000819376","4":{"l":"h1"},"5":[{"2":"2","3":"aEeS-1659000819375","7":[{"8":"ER模型","9":[{"0":"#000000","2":"c"}]}]}],"6":"h"},{"3":"wmXv-1659000819482","5":[{"2":"2","3":"b3j6-1659000819480","7":[{"8":"数据库设计是牵一发而动全身的。那有没有什么办法提前看到数据库的全貌呢?比如需要哪些数据表、数据表中应该有哪些字段，数据表与数据表之间有什么关系、通过什么字段进行连接，等等。这样我们才能进行整体的梳理和设计。|"}]}]},{"3":"zOzv-1659056274843","4":{"version":1},"5":[{"2":"2","3":"0dr4-1659056274842","7":[{"8":"其实，ER模型就是一个这样的工具。ER模型也叫作实体关系模型，是用来描述现实生活中客观存在的事物、事物的属性，以及事物之间关系的一种数据模型。在开发基于数据库的信息系统的设计阶段，通常使用ER模型来描述信息需求和信息特性，帮助我们理清业务逻辑，从而设计出优秀的数据库。"}]}]},{"3":"u8dl-1659000819579","4":{"l":"h3"},"5":[{"2":"2","3":"r8Gp-1659000819577","7":[{"8":"ER ","9":[{"0":"#880000","2":"c"}]},{"8":"模型中有三个要素，分别是实体、属性和关系","9":[{"2":"b"},{"0":"#880000","2":"c"}]},{"8":"。 ","9":[{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"jptv-1659057481871","4":{"version":1},"5":[{"2":"2","3":"v0H7-1659057481870","7":[{"8":"实体 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，可以看做是数据对象，往往对应于现实生活中的真实存在的个体。在 ER 模型中，用 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"矩形 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"来表示。实体分为两类，分别是 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"强实体 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"和 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"弱实体 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。强实体是指不依赖于其他实体的实体；弱实体是指对另一个实体有很强的依赖关系的实体。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"tCSf-1659057481878","4":{"version":1},"5":[{"2":"2","3":"TVQM-1659057481877","7":[{"8":"属性 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，则是指实体的特性。比如超市的地址、联系电话、员工数等。在 ER 模型中用 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"椭圆形 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"来表示。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"TZfq-1659057481880","4":{"version":1},"5":[{"2":"2","3":"8jtB-1659057481879","7":[{"8":"关系 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，则是指实体之间的联系。比如超市把商品卖给顾客，就是一种超市与顾客之间的联系。在 ER 模型中用 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"菱形 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"来表示。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"wuLg-1659057481884","4":{"version":1},"5":[{"2":"2","3":"j8pR-1659057481883","7":[{"8":"注意：实体和属性不容易区分。这里提供一个原则：我们要从系统整体的角度出发去看，","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"可以独立存在的是实体，不可再分的是属性","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"。也就是说，属性不能包含其他属性","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"hsq9-1659057572348","4":{"l":"h3"},"5":[{"2":"2","3":"vxWM-1659057572347","7":[{"8":"关系的类型","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"3Fs7-1659000819778","5":[{"2":"2","3":"icEN-1659000819777","7":[{"8":"一对一 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"：指实体之间的关系是一一对应的，比如个人与身份证信息之间的关系就是一对一的关系。一个人只能有一个身份证信息，一个身份证信息也只属于一个人。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"T5BI-1659057589662","4":{"version":1},"5":[{"2":"2","3":"d9qi-1659057589661","7":[{"8":"一对多 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"：指一边的实体通过关系，可以对应多个另外一边的实体。相反，另外一边的实体通过这个关系，则只能对应唯一的一边的实体。比如说，我们新建一个班级表，而每个班级都有多个学生，每个学生则对应一个班级，班级对学生就是一对多的关系。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Ui8b-1659057589668","4":{"version":1},"5":[{"2":"2","3":"NnIN-1659057589667","7":[{"8":"多对多 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"：指关系两边的实体都可以通过关系对应多个对方的实体。比如在进货模块中，供货商与超市之间的关系就是多对多的关系，一个供货商可以给多个超市供货，一个超市也可以从多个供货商那里采购商品。再比如一个选课表，有许多科目，每个科目有很多学生选，而每个学生又可以选择多个科目，这就是多对多的关系。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"IbWz-1659000819873","4":{"l":"h3"},"5":[{"2":"2","3":"2THL-1659000819872","7":[{"8":"建模分析","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"GFZ4-1659000819987","5":[{"2":"2","3":"GdB8-1659000819985","7":[{"8":"ER 模型看起来比较麻烦，但是对我们把控项目整体非常重要。如果你只是开发一个小应用，或许简单设计几个表够用了，一旦要设计有一定规模的应用，在项目的初始阶段，建立完整的 ER 模型就非常关键了。开发应用项目的实质，其实就是 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"建模 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"sgBS-1659057738225","4":{"version":1,"u":"https://note.youdao.com/yws/res/e/WEBRESOURCE41604eece7beed29e2a9348d72b720be","w":582,"h":408},"6":"im"},{"3":"iwSH-1659000820175","4":{"l":"h3"},"5":[{"2":"2","3":"6p5Q-1659000820173","7":[{"8":"ER ","9":[{"0":"#34495e","2":"c"}]},{"8":"模型图转换成数据表","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"vxhW-1659000820286","5":[{"2":"2","3":"hIyf-1659000820285","7":[{"8":"（1）一个 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"实体 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"通常转换成一个 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"数据表 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"； ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"r1Av-1659057866424","4":{"version":1},"5":[{"2":"2","3":"MQfF-1659057866423","7":[{"8":"（2）一个 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"多对多的关系 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，通常也转换成一个 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"数据表 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"； ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"zUi0-1659057866426","4":{"version":1},"5":[{"2":"2","3":"LO6T-1659057866425","7":[{"8":"（3）一个 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"1 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"对 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"1 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"，或者 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"1 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"对多 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的关系，往往通过表的 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"外键 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"来表达，而不是设计一个新的数据表；","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Hh2V-1659057866429","4":{"version":1},"5":[{"2":"2","3":"GgXU-1659057866427","7":[{"8":"（4） ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"属性 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"转换成表的 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"字段 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"2mQF-1659000820382","5":[{"2":"2","3":"6ZFY-1659000820380","7":[{"8":"其实，任何一个基于数据库的应用项目，都可以通过这种 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"先建立 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"ER ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"模型 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，再 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"转换成数据表 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的方式，完成数据库的设计工作。创建 ER 模型不是目的，目的是把业务逻辑梳理清楚，设计出优秀的数据库。我建议你不是为了建模而建模，要利用创建 ER 模型的过程来整理思路，这样创建 ER 模型才有意义","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Z3aH-1659057901273","4":{"version":1,"u":"https://note.youdao.com/yws/res/e/WEBRESOURCE4232c96470c70a865b49a89fab4c87ce","w":582,"h":277},"6":"im"},{"3":"bJ19-1659057857781","5":[{"2":"2","3":"fGM5-1659057857780","7":[{"8":"","9":[{"0":"#000000","2":"c"}]}]}]},{"3":"Wu3f-1659057857892","4":{"l":"h1"},"5":[{"2":"2","3":"ofzZ-1659057857891","7":[{"8":"数据表的设计原则","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"9Aj9-1659058819103","4":{"version":1},"5":[{"2":"2","3":"bisV-1659058819104","7":[{"8":"综合以上内容，总结出数据表设计的一般原则：\"三少一多\" ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"VOYv-1659057857988","5":[{"2":"2","3":"tKbV-1659057857986","7":[{"8":"1. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"数据表的个数越少越好 ","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"exWA-1659058813384","4":{"version":1},"5":[{"2":"2","3":"ud38-1659058813383","7":[{"8":"2. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"数据表中的字段个数越少越好","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"7xRQ-1659058813386","4":{"version":1},"5":[{"2":"2","3":"Rqpb-1659058813385","7":[{"8":"3. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"数据表中联合主键的字段个数越少越好","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"oMIM-1659058813388","4":{"version":1},"5":[{"2":"2","3":"v2Jq-1659058813387","7":[{"8":"4. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"使用主键和外键越多越好","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"sSYW-1659057858088","5":[{"2":"2","3":"EvRD-1659057858087","7":[{"8":"注意：这个原则并不是绝对的，有时候我们需要牺牲数据的冗余度来换取数据处理的效率。","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"vGH8-1659057858200","4":{"l":"h1"},"5":[{"2":"2","3":"CpAR-1659057858199","7":[{"8":"数据库对象编写建议","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"Ulbv-1659057858292","4":{"l":"h3"},"5":[{"2":"2","3":"bYNs-1659057858291","7":[{"8":"关于库 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"X7pK-1659057858389","5":[{"2":"2","3":"81J3-1659057858388","7":[{"8":"1. 【强制】库的名称必须控制在32个字符以内，只能使用英文字母、数字和下划线，建议以英文字母开头。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"iEYo-1659058966451","4":{"version":1},"5":[{"2":"2","3":"XzKn-1659058966450","7":[{"8":"2. 【强制】库名中英文 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"一律小写 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，不同单词采用 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"下划线 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"分割。须见名知意。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"eCRt-1659058966453","4":{"version":1},"5":[{"2":"2","3":"AV5k-1659058966452","7":[{"8":"3. 【强制】库的名称格式：业务系统名称_子系统名。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"YlVh-1659058966455","4":{"version":1},"5":[{"2":"2","3":"yU6w-1659058966454","7":[{"8":"4. 【强制】库名禁止使用关键字（如type,order等）。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"nK8g-1659058966457","4":{"version":1},"5":[{"2":"2","3":"M3OL-1659058966456","7":[{"8":"5. 【强制】创建数据库时必须 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"显式指定字符集 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，并且字符集只能是utf8或者utf8mb4。创建数据库SQL举例：CREATE DATABASE crm_fund ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"DEFAULT CHARACTER SET 'utf8' ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"; ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"xhSg-1659058966461","4":{"version":1},"5":[{"2":"2","3":"Feqo-1659058966460","7":[{"8":"6. 【建议】对于程序连接数据库账号，遵循 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"权限最小原则。","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"使用数据库账号只能在一个DB下使用，不准跨库。程序使用的账号 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"原则上不准有","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"drop","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"权限 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"jMfX-1659058966465","4":{"version":1},"5":[{"2":"2","3":"Lf2x-1659058966464","7":[{"8":"7. 【建议】临时库以 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"tmp_ ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"为前缀，并以日期为后缀；备份库以 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"bak_ ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"为前缀，并以日期为后缀。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"S7SD-1659058948395","4":{"l":"h3"},"5":[{"2":"2","3":"vVen-1659058948393","7":[{"8":"关于表、列 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"iJ2I-1659058948904","5":[{"2":"2","3":"UzBQ-1659058948903","7":[{"8":"1. 【强制】表和列的名称必须控制在32个字符以内，表名只能使用英文字母、数字和下划线，建议以 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"英文字母开头 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"iI1W-1659059004793","4":{"version":1},"5":[{"2":"2","3":"aXKS-1659059004792","7":[{"8":"2. 【强制】 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"表名、列名一律小写 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，不同单词采用下划线分割。须见名知意。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"tZh8-1659059004795","4":{"version":1},"5":[{"2":"2","3":"MdiG-1659059004794","7":[{"8":"3. 【强制】表名要求有模块名强相关，同一模块的表名尽量使用 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"统一前缀 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。比如：crm_fund_item ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"5pAv-1659059004797","4":{"version":1},"5":[{"2":"2","3":"sXwA-1659059004796","7":[{"8":"4. 【强制】创建表时必须 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"显式指定字符集 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"为utf8或utf8mb4。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"JXHP-1659059004799","4":{"version":1},"5":[{"2":"2","3":"RmLv-1659059004798","7":[{"8":"5. 【强制】表名、列名禁止使用关键字（如type,order等）。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Sp57-1659059004801","4":{"version":1},"5":[{"2":"2","3":"7AOP-1659059004800","7":[{"8":"6. 【强制】创建表时必须 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"显式指定表存储引擎 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"类型。如无特殊需求，一律为InnoDB。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"7uMG-1659059004803","4":{"version":1},"5":[{"2":"2","3":"jxoK-1659059004802","7":[{"8":"7. 【强制】建表必须有comment。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"8G7F-1659059004805","4":{"version":1},"5":[{"2":"2","3":"yKNq-1659059004804","7":[{"8":"8. 【强制】字段命名应尽可能使用表达实际含义的英文单词或 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"缩写 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。如：公司 ID，不要使用 corporation_id, 而用corp_id 即可。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"jZTB-1659059004810","4":{"version":1},"5":[{"2":"2","3":"3g2M-1659059004809","7":[{"8":"9. 【强制】布尔值类型的字段命名为 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"is_","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"描述 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。如member表上表示是否为enabled的会员的字段命名为 is_enabled。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"gLNW-1659059004814","4":{"version":1},"5":[{"2":"2","3":"22BX-1659059004813","7":[{"8":"10. 【强制】禁止在数据库中存储图片、文件等大的二进制数据","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"ZZkT-1659059004816","4":{"version":1},"5":[{"2":"2","3":"IDsV-1659059004815","7":[{"8":"通常文件很大，短时间内造成数据量快速增长，数据库进行数据库读取时，通常会进行大量的随机IO操作，文件很大时，IO操作很耗时。通常存储于文件服务器，数据库只存储文件地址信息。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Ji3T-1659059004820","4":{"version":1},"5":[{"2":"2","3":"IQQ5-1659059004819","7":[{"8":"11. 【建议】建表时关于主键： ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"表必须有主键 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"(1)强制要求主键为id，类型为int或bigint，且为auto_increment 建议使用unsigned无符号型。 (2)标识表里每一行主体的字段不要设为主键，建议设为其他字段如user_id，order_id等，并建立unique key索引。因为如果设为主键且主键值为随机插入，则会导致innodb内部页分裂和大量随机I/O，性能下降。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"7UFg-1659059004829","4":{"version":1},"5":[{"2":"2","3":"hM4Q-1659059004828","7":[{"8":"12. 【建议】核心表（如用户表）必须有行数据的 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"创建时间字段 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"（create_time）和 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"最后更新时间字段 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"（update_time），便于查问题。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"XnLv-1659059004833","4":{"version":1},"5":[{"2":"2","3":"uScc-1659059004832","7":[{"8":"13. 【建议】表中所有字段尽量都是 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"NOT NULL ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"属性，业务可以根据需要定义 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"DEFAULT","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"值 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。 因为使用NULL值会存在每一行都会占用额外存储空间、数据迁移容易出错、聚合函数计算结果偏差等问题。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"gjeD-1659059004839","4":{"version":1},"5":[{"2":"2","3":"Eu2K-1659059004838","7":[{"8":"14. 【建议】所有存储相同数据的 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"列名和列类型必须一致 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"（一般作为关联列，如果查询时关联列类型不一致会自动进行数据类型隐式转换，会造成列上的索引失效，导致查询效率降低）。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"iw40-1659059004844","4":{"version":1},"5":[{"2":"2","3":"95BA-1659059004843","7":[{"8":"15. 【建议】中间表（或临时表）用于保留中间结果集，名称以 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"tmp_ ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"开头。备份表用于备份或抓取源表快照，名称以 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"bak_ ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"开头。中间表和备份表定期清理。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"yOLF-1659058948999","5":[{"2":"2","3":"3V1W-1659058948998","7":[{"8":"16. 【示范】一个较为规范的建表语句","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"oaqr-1659059094128","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"xgOj-1659059094127","5":[{"2":"2","3":"aIny-1659058949110","7":[{"8":"CREATE TABLE user_info ( "}]}],"6":"cl"},{"3":"ocer-1659059094674","4":{},"5":[{"2":"2","3":"IDps-1659059094673","7":[{"8":"`id` int unsigned NOT NULL AUTO_INCREMENT COMMENT '自增主键', "}]}],"6":"cl"},{"3":"hrQa-1659059094676","4":{},"5":[{"2":"2","3":"HbwC-1659059094675","7":[{"8":"`user_id` bigint(11) NOT NULL COMMENT '用户id', "}]}],"6":"cl"},{"3":"PUuV-1659059094678","4":{},"5":[{"2":"2","3":"NlgT-1659059094677","7":[{"8":"`username` varchar(45) NOT NULL COMMENT '真实姓名', "}]}],"6":"cl"},{"3":"vlRF-1659059094680","4":{},"5":[{"2":"2","3":"RgDd-1659059094679","7":[{"8":"`email` varchar(30) NOT NULL COMMENT '用户邮箱', "}]}],"6":"cl"},{"3":"5Wbn-1659059094682","4":{},"5":[{"2":"2","3":"i8FR-1659059094681","7":[{"8":"`nickname` varchar(45) NOT NULL COMMENT '昵称', "}]}],"6":"cl"},{"3":"Ve6r-1659059094684","4":{},"5":[{"2":"2","3":"WM5z-1659059094683","7":[{"8":"`birthday` date NOT NULL COMMENT '生日', "}]}],"6":"cl"},{"3":"75zO-1659059094686","4":{},"5":[{"2":"2","3":"uE7W-1659059094685","7":[{"8":"`sex` tinyint(4) DEFAULT '0' COMMENT '性别', "}]}],"6":"cl"},{"3":"yNXG-1659059094688","4":{},"5":[{"2":"2","3":"Qf0K-1659059094687","7":[{"8":"`short_introduce` varchar(150) DEFAULT NULL COMMENT '一句话介绍自己，最多50个汉字', "}]}],"6":"cl"},{"3":"OP3r-1659059094691","4":{},"5":[{"2":"2","3":"uFqP-1659059094690","7":[{"8":"`user_resume` varchar(300) NOT NULL COMMENT '用户提交的简历存放地址', "}]}],"6":"cl"},{"3":"N3tu-1659059094693","4":{},"5":[{"2":"2","3":"pFHn-1659059094692","7":[{"8":"`user_register_ip` int NOT NULL COMMENT '用户注册时的源ip', "}]}],"6":"cl"},{"3":"ElrR-1659059094695","4":{},"5":[{"2":"2","3":"ISJX-1659059094694","7":[{"8":"`create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间', "}]}],"6":"cl"},{"3":"GHVx-1659059094697","4":{},"5":[{"2":"2","3":"wB5z-1659059094696","7":[{"8":"`update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE "}]}],"6":"cl"},{"3":"QCzM-1659059094699","4":{},"5":[{"2":"2","3":"DtDN-1659059094698","7":[{"8":"CURRENT_TIMESTAMP COMMENT '修改时间', "}]}],"6":"cl"},{"3":"WbMV-1659059094701","4":{},"5":[{"2":"2","3":"SKBX-1659059094700","7":[{"8":"`user_review_status` tinyint NOT NULL COMMENT '用户资料审核状态，1为通过，2为审核中，3为未 "}]}],"6":"cl"},{"3":"LQbK-1659059094703","4":{},"5":[{"2":"2","3":"kHsg-1659059094702","7":[{"8":"通过，4为还未提交审核',"}]}],"6":"cl"},{"3":"xLWn-1659059104949","4":{},"5":[{"2":"2","3":"BQXA-1659059104948","7":[{"8":"PRIMARY KEY (`id`), "}]}],"6":"cl"},{"3":"haLJ-1659059105183","4":{},"5":[{"2":"2","3":"3gB3-1659059105182","7":[{"8":"UNIQUE KEY `uniq_user_id` (`user_id`), "}]}],"6":"cl"},{"3":"n9eV-1659059105185","4":{},"5":[{"2":"2","3":"F35a-1659059105184","7":[{"8":"KEY `idx_username`(`username`), "}]}],"6":"cl"},{"3":"ee3l-1659059105187","4":{},"5":[{"2":"2","3":"Ifsj-1659059105186","7":[{"8":"KEY `idx_create_time_status`(`create_time`,`user_review_status`) "}]}],"6":"cl"},{"3":"57u8-1659059105189","4":{},"5":[{"2":"2","3":"ED1Y-1659059105188","7":[{"8":") ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='网站用户基本信息'"}]}],"6":"cl"}],"6":"cd"},{"3":"a1N3-1659058949202","5":[{"2":"2","3":"v8nJ-1659058949201","7":[{"8":"17. 【建议】创建表时，可以使用可视化工具。这样可以确保表、字段相关的约定都能设置上。实际上，我们通常很少自己写 DDL 语句，可以使用一些可视化工具来创建和操作数据库和数据表。可视化工具除了方便，还能直接帮我们将数据库的结构定义转化成 SQL 语言，方便数据库和数据表结构的导出和导入。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"9ywd-1659058949286","4":{"l":"h3"},"5":[{"2":"2","3":"7nMB-1659058949284","7":[{"8":"关于索引 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"2oj8-1659058949916","5":[{"2":"2","3":"ss7p-1659058949914","7":[{"8":"1. 【强制】InnoDB表必须主键为id int/bigint auto_increment，且主键值 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"禁止被更新 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"FLFn-1659059160266","4":{"version":1},"5":[{"2":"2","3":"CcMj-1659059160265","7":[{"8":"2. 【强制】InnoDB和MyISAM存储引擎表，索引类型必须为 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"BTREE ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"BjCA-1659059160269","4":{"version":1},"5":[{"2":"2","3":"Le9g-1659059160268","7":[{"8":"3. 【建议】主键的名称以 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"pk_ ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"开头，唯一键以 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"uni_ ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"或 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"uk_ ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"开头，普通索引以 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"idx_ ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"开头，一律使用小写格式，以字段的名称或缩写作为后缀。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"oxEF-1659059160273","4":{"version":1},"5":[{"2":"2","3":"YgAj-1659059160272","7":[{"8":"4. 【建议】多单词组成的columnname，取前几个单词首字母，加末单词组成column_name。如: sample 表 member_id 上的索引：idx_sample_mid。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"fh9t-1659059160277","4":{"version":1},"5":[{"2":"2","3":"ftL7-1659059160276","7":[{"8":"5. 【建议】单个表上的索引个数 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"不能超过","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"6","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"个 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"DFPx-1659059160279","4":{"version":1},"5":[{"2":"2","3":"EC4p-1659059160278","7":[{"8":"6. 【建议】在建立索引时，多考虑建立 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"联合索引 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，并把区分度最高的字段放在最前面。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"RaTs-1659059160281","4":{"version":1},"5":[{"2":"2","3":"cQUO-1659059160280","7":[{"8":"7. 【建议】在多表 JOIN 的SQL里，保证被驱动表的连接列上有索引，这样JOIN 执行效率最高。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"boOm-1659059160283","4":{"version":1},"5":[{"2":"2","3":"fOyD-1659059160282","7":[{"8":"8. 【建议】建表或加索引时，保证表里互相不存在 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"冗余索引 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。 比如：如果表里已经存在key(a,b)， 则key(a)为冗余索引，需要删除。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"ujar-1659059156549","4":{"l":"h3"},"5":[{"2":"2","3":"sgvf-1659059156547","7":[{"8":"SQL","9":[{"0":"#34495e","2":"c"}]},{"8":"编写 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"lpPm-1659059157060","5":[{"2":"2","3":"gAvl-1659059157059","7":[{"8":"1. 【强制】程序端SELECT语句必须指定具体字段名称，禁止写成 *。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"2OB1-1659059200026","4":{"version":1},"5":[{"2":"2","3":"Wzwv-1659059200025","7":[{"8":"2. 【建议】程序端insert语句指定具体字段名称，不要写成INSERT INTO t1 VALUES(…)。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"VoEU-1659059200028","4":{"version":1},"5":[{"2":"2","3":"rYxP-1659059200027","7":[{"8":"3. 【建议】除静态表或小表（100行以内），DML语句必须有WHERE条件，且使用索引查找。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Q35H-1659059200030","4":{"version":1},"5":[{"2":"2","3":"jYSJ-1659059200029","7":[{"8":"4. 【建议】INSERT INTO…VALUES(XX),(XX),(XX).. 这里XX的值不要超过5000个。 值过多虽然上线很快，但会引起主从同步延迟。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"aLmj-1659059200034","4":{"version":1},"5":[{"2":"2","3":"Vkzt-1659059200033","7":[{"8":"5. 【建议】SELECT语句不要使用UNION，推荐使用UNION ALL，并且UNION子句个数限制在5个以内。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"PZYm-1659059200039","4":{"version":1},"5":[{"2":"2","3":"DbOV-1659059200038","7":[{"8":"6. 【建议】线上环境，多表 JOIN 不要超过5个表。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"A4jV-1659059200041","4":{"version":1},"5":[{"2":"2","3":"dV69-1659059200040","7":[{"8":"7. 【建议】减少使用ORDER BY，和业务沟通能不排序就不排序，或将排序放到程序端去做。ORDER BY、GROUP BY、DISTINCT 这些语句较为耗费CPU，数据库的CPU资源是极其宝贵的。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"mtDc-1659059200045","4":{"version":1},"5":[{"2":"2","3":"iaBm-1659059200044","7":[{"8":"8. 【建议】包含了ORDER BY、GROUP BY、DISTINCT 这些查询的语句，WHERE 条件过滤出来的结果集请保持在1000行以内，否则SQL会很慢。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"eLhY-1659059200049","4":{"version":1},"5":[{"2":"2","3":"oWcW-1659059200048","7":[{"8":"9. 【建议】对单表的多次alter操作必须合并为一次","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"8tmu-1659059200051","4":{"version":1},"5":[{"2":"2","3":"G9LL-1659059200050","7":[{"8":"对于超过100W行的大表进行alter table，必须经过DBA审核，并在业务低峰期执行，多个alter需整合在一起。 因为alter table会产生 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"表锁 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，期间阻塞对于该表的所有写入，对于业务可能会产生极大影响。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"XrOO-1659059200058","4":{"version":1},"5":[{"2":"2","3":"Q8zW-1659059200057","7":[{"8":"10. 【建议】批量操作数据时，需要控制事务处理间隔时间，进行必要的sleep。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"rpN8-1659059200060","4":{"version":1},"5":[{"2":"2","3":"0Y6f-1659059200059","7":[{"8":"11. 【建议】事务里包含SQL不超过5个。因为过长的事务会导致锁数据较久，MySQL内部缓存、连接消耗过多等问题。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"FVkj-1659059200064","4":{"version":1},"5":[{"2":"2","3":"aU91-1659059200063","7":[{"8":"12. 【建议】事务里更新语句尽量基于主键或UNIQUE KEY，如UPDATE… WHERE id=XX;否则会产生间隙锁，内部扩大锁定范","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"ir9z-1659062338647","5":[{"2":"2","3":"4MUy-1659062338648"}]},{"3":"Bd5D-1659062336090","4":{"version":1},"5":[{"2":"2","3":"EYsx-1659062336089","7":[{"8":"围，导致系统性能下降，产生死锁","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"QRL3-1659059157157","4":{"l":"h1"},"5":[{"2":"2","3":"9P5o-1659059157156","7":[{"8":"PowerDesigner","9":[{"0":"#34495e","2":"c"}]},{"8":"的使用","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"6gmu-1659059157254","5":[{"2":"2","3":"5CnO-1659059157253"},{"2":"3","3":"H0f0-1659062296063","4":{"hf":"https://www.bilibili.com/video/BV1iq4y1u7vj?p=158&t=258.9"},"5":[{"2":"2","3":"Wy25-1659062296062","7":[{"8":"https://www.bilibili.com/video/BV1iq4y1u7vj?p=158&t=258.9"}]}],"6":"li"},{"2":"2","3":"PCB1-1659062296072","7":[{"8":"","9":[{"0":"#000000","2":"c"}]}]}]},{"3":"z8Sk-1659062338653","4":{"version":1,"sr":"https://note.youdao.com/yws/res/a/WEBRESOURCETHUMBc6c0383fdf5948d6b0065d4dbbaf9431","re":"https://note.youdao.com/yws/res/a/WEBRESOURCE4cbb82bfaf3440f37ab6f70957c6e31a","fn":"第11章_数据库的设计规范.pdf","fl":3596890},"6":"a"},{"3":"0dd7-1659059404720","5":[{"2":"2","3":"3DQk-1659059404718","7":[{"8":"","9":[{"0":"#000000","2":"c"}]}]}]}],"title":"","__compress__":true}