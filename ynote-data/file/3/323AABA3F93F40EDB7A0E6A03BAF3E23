<?xml version="1.0" encoding="UTF-8" standalone="no"?><note xmlns="http://note.youdao.com" file-version="0" schema-version="1.0.3"><head/><body><para><coId>7390-1641018917175</coId><text>Nacos：一个更易于构建云原生应用的动态服务发现、配置管理和服务管理平台。</text><inline-styles><font-size><from>0</from><to>38</to><value>16</value></font-size></inline-styles><styles/></para><para><coId>9559-1641033749188</coId><text>nacos支持ap cp切换</text><inline-styles><font-size><from>0</from><to>14</to><value>16</value></font-size></inline-styles><styles/></para><para><coId>5585-1641033852310</coId><text>curl -X PUT '$NACOS_SERVER:8848/nacos/v1/ns/operator/switches?entry=serverMode&amp;value=CP'</text><inline-styles><font-size><from>0</from><to>88</to><value>16</value></font-size></inline-styles><styles/></para><image><coId>8215-1641019351303</coId><source>https://note.youdao.com/yws/res/16521/EB8BF596BB714AC9B4E1A1AC858CCC9B</source><text/><styles><width>620</width><height>207</height></styles></image><para><coId>1010-1641019347236</coId><text/><inline-styles/><styles/></para><image><coId>3881-1641029532995</coId><source>https://note.youdao.com/yws/res/16526/6B33FC941633498EB6940B00B35384F7</source><text/><styles><width>620</width><height>242</height></styles></image><para><coId>4256-1641019347299</coId><text>下载Nacos，见文档/github</text><inline-styles><font-size><from>0</from><to>18</to><value>16</value></font-size></inline-styles><styles/></para><para><coId>6855-1641034294536</coId><text>startup.cmd -m standalone</text><inline-styles><font-size><from>0</from><to>25</to><value>16</value></font-size></inline-styles><styles/></para><para><coId>2053-1641034309500</coId><text>非集群模式运行Nacos</text><inline-styles><font-size><from>0</from><to>12</to><value>16</value></font-size></inline-styles><styles/></para><para><coId>4219-1641019347330</coId><text/><inline-styles/><styles/></para><para><coId>9024-1641019347360</coId><text>服务者：</text><inline-styles><font-size><from>0</from><to>4</to><value>16</value></font-size></inline-styles><styles/></para><para><coId>5377-1641019347392</coId><text/><inline-styles/><styles/></para><table><coId>2915-1641029595459</coId><resource-list/><content>{"cells":[{"value":"            &lt;dependency&gt;\n                &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;"}],"heights":[40],"widths":[620]}</content><styles/></table><para><coId>5779-1641029606496</coId><text/><inline-styles/><styles/></para><table><coId>1351-1641029606496</coId><resource-list/><content>{"cells":[{"value":"&lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;\n        &lt;/dependency&gt;"}],"heights":[40],"widths":[620]}</content><styles/></table><para><coId>7754-1641029618064</coId><text/><inline-styles/><styles/></para><table><coId>2231-1641029618064</coId><resource-list/><content>{"cells":[{"value":"server:\n  port: 9001\n\nspring:\n  application:\n    name: nacos-payment-provider\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848 #配置Nacos地址\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: '*'"}],"heights":[40],"widths":[620]}</content><styles/></table><para><coId>5876-1641029638823</coId><text/><inline-styles/><styles/></para><table><coId>3860-1641029638823</coId><resource-list/><content>{"cells":[{"value":"@EnableDiscoveryClient\n@SpringBootApplication\npublic class PaymentMain9001\n{\n    public static void main(String[] args) {\n            SpringApplication.run(PaymentMain9001.class, args);\n    }\n}"}],"heights":[40],"widths":[620]}</content><styles/></table><para><coId>1144-1641029661698</coId><text/><inline-styles/><styles/></para><table><coId>7155-1641029661698</coId><resource-list/><content>{"cells":[{"value":"@RestController\npublic class PaymentController\n{\n    @Value(\"${server.port}\")\n    private String serverPort;\n\n    @GetMapping(value = \"/payment/nacos/{id}\")\n    public String getPayment(@PathVariable(\"id\") Integer id)\n    {\n        return \"nacos registry, serverPort: \"+ serverPort+\"\\t id\"+id;\n    }\n}"}],"heights":[40],"widths":[620]}</content><styles/></table><para><coId>3443-1641019347578</coId><text>参照9001创建9002</text><inline-styles><font-size><from>0</from><to>12</to><value>16</value></font-size></inline-styles><styles/></para><para><coId>1124-1641029673810</coId><text>localhost:8848/nacos</text><inline-styles><font-size><from>0</from><to>20</to><value>16</value></font-size></inline-styles><styles/></para><para><coId>8275-1641032466563</coId><text/><inline-styles/><styles/></para><para><coId>5339-1641029674538</coId><text>消费者：</text><inline-styles><font-size><from>0</from><to>4</to><value>16</value></font-size></inline-styles><styles/></para><table><coId>5039-1641029774154</coId><resource-list/><content>{"cells":[{"value":"&lt;dependency&gt;\n    &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;!-- 引入自己定义的api通用包，可以使用Payment支付Entity --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.idea.springcloud&lt;/groupId&gt;\n    &lt;artifactId&gt;cloud-api-commons&lt;/artifactId&gt;\n&lt;/dependency&gt;","inlineStyles":{"font-family":[{"from":147,"to":154,"value":"SimSun"},{"from":157,"to":165,"value":"SimSun"},{"from":172,"to":174,"value":"SimSun"}],"font-size":[{"from":0,"to":12,"value":13},{"from":13,"to":53,"value":13},{"from":54,"to":127,"value":13},{"from":128,"to":141,"value":13},{"from":142,"to":184,"value":13},{"from":185,"to":197,"value":13},{"from":198,"to":241,"value":13},{"from":242,"to":288,"value":13},{"from":289,"to":302,"value":13}],"color":[{"from":0,"to":12,"value":"#e8bf6a"},{"from":13,"to":26,"value":"#e8bf6a"},{"from":26,"to":43,"value":"#a9b7c6"},{"from":43,"to":53,"value":"#e8bf6a"},{"from":54,"to":70,"value":"#e8bf6a"},{"from":70,"to":114,"value":"#a9b7c6"},{"from":114,"to":127,"value":"#e8bf6a"},{"from":128,"to":141,"value":"#e8bf6a"},{"from":142,"to":184,"value":"#808080"},{"from":185,"to":197,"value":"#e8bf6a"},{"from":198,"to":211,"value":"#e8bf6a"},{"from":211,"to":231,"value":"#a9b7c6"},{"from":231,"to":241,"value":"#e8bf6a"},{"from":242,"to":258,"value":"#e8bf6a"},{"from":258,"to":275,"value":"#a9b7c6"},{"from":275,"to":288,"value":"#e8bf6a"},{"from":289,"to":302,"value":"#e8bf6a"}],"back-color":[{"from":0,"to":12,"value":"#2b2b2b"},{"from":13,"to":53,"value":"#2b2b2b"},{"from":54,"to":127,"value":"#2b2b2b"},{"from":128,"to":141,"value":"#2b2b2b"},{"from":142,"to":184,"value":"#2b2b2b"},{"from":185,"to":197,"value":"#2b2b2b"},{"from":198,"to":241,"value":"#2b2b2b"},{"from":242,"to":288,"value":"#2b2b2b"},{"from":289,"to":302,"value":"#2b2b2b"}]}}],"heights":[40],"widths":[620]}</content><styles/></table><para><coId>5548-1641032496987</coId><text/><inline-styles/><styles/></para><table><coId>8391-1641032496987</coId><resource-list/><content>{"cells":[{"value":"server:\n  port: 83\n\nspring:\n  application:\n    name: cloudalibaba-nacos-order\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n\n#消费者将要去访问的微服务名称(注册成功进nacos的微服务提供者)\nservice-url:\n  nacos-user-service: http://cloudalibaba-payment","inlineStyles":{"italic":[{"from":152,"to":186,"value":true}],"font-family":[{"from":153,"to":167,"value":"SimSun"},{"from":168,"to":173,"value":"SimSun"},{"from":178,"to":185,"value":"SimSun"}],"font-size":[{"from":0,"to":7,"value":13},{"from":8,"to":18,"value":13},{"from":20,"to":27,"value":13},{"from":28,"to":42,"value":13},{"from":43,"to":77,"value":13},{"from":78,"to":86,"value":13},{"from":87,"to":97,"value":13},{"from":98,"to":114,"value":13},{"from":115,"to":150,"value":13},{"from":152,"to":186,"value":13},{"from":187,"to":199,"value":13},{"from":200,"to":249,"value":13}],"color":[{"from":0,"to":6,"value":"#cc7832"},{"from":6,"to":7,"value":"#a9b7c6"},{"from":8,"to":10,"value":"#a9b7c6"},{"from":10,"to":14,"value":"#cc7832"},{"from":14,"to":16,"value":"#a9b7c6"},{"from":16,"to":18,"value":"#6897bb"},{"from":20,"to":26,"value":"#cc7832"},{"from":26,"to":27,"value":"#a9b7c6"},{"from":28,"to":30,"value":"#a9b7c6"},{"from":30,"to":41,"value":"#cc7832"},{"from":41,"to":42,"value":"#a9b7c6"},{"from":43,"to":47,"value":"#a9b7c6"},{"from":47,"to":51,"value":"#cc7832"},{"from":51,"to":77,"value":"#a9b7c6"},{"from":78,"to":80,"value":"#a9b7c6"},{"from":80,"to":85,"value":"#cc7832"},{"from":85,"to":86,"value":"#a9b7c6"},{"from":87,"to":91,"value":"#a9b7c6"},{"from":91,"to":96,"value":"#cc7832"},{"from":96,"to":97,"value":"#a9b7c6"},{"from":98,"to":104,"value":"#a9b7c6"},{"from":104,"to":113,"value":"#cc7832"},{"from":113,"to":114,"value":"#a9b7c6"},{"from":115,"to":123,"value":"#a9b7c6"},{"from":123,"to":134,"value":"#cc7832"},{"from":134,"to":150,"value":"#a9b7c6"},{"from":152,"to":186,"value":"#629755"},{"from":187,"to":198,"value":"#cc7832"},{"from":198,"to":199,"value":"#a9b7c6"},{"from":200,"to":202,"value":"#a9b7c6"},{"from":202,"to":220,"value":"#cc7832"},{"from":220,"to":249,"value":"#a9b7c6"}],"back-color":[{"from":0,"to":7,"value":"#2b2b2b"},{"from":8,"to":18,"value":"#2b2b2b"},{"from":20,"to":27,"value":"#2b2b2b"},{"from":28,"to":42,"value":"#2b2b2b"},{"from":43,"to":77,"value":"#2b2b2b"},{"from":78,"to":86,"value":"#2b2b2b"},{"from":87,"to":97,"value":"#2b2b2b"},{"from":98,"to":114,"value":"#2b2b2b"},{"from":115,"to":150,"value":"#2b2b2b"},{"from":152,"to":186,"value":"#2b2b2b"},{"from":187,"to":199,"value":"#2b2b2b"},{"from":200,"to":249,"value":"#2b2b2b"}]}}],"heights":[40],"widths":[620]}</content><styles/></table><para><coId>6087-1641032537699</coId><text/><inline-styles/><styles/></para><table><coId>4482-1641032537699</coId><resource-list/><content>{"cells":[{"value":"@Configuration\npublic class ApplicationContextBean {\n    @Bean\n    public RestTemplate getRestTemplate()\n    {\n        return new RestTemplate();\n    }\n}","inlineStyles":{"font-size":[{"from":0,"to":14,"value":13},{"from":15,"to":52,"value":13},{"from":53,"to":62,"value":13},{"from":63,"to":104,"value":13},{"from":105,"to":110,"value":13},{"from":111,"to":145,"value":13},{"from":146,"to":151,"value":13},{"from":152,"to":153,"value":13}],"color":[{"from":0,"to":14,"value":"#bbb529"},{"from":15,"to":28,"value":"#cc7832"},{"from":28,"to":52,"value":"#a9b7c6"},{"from":53,"to":57,"value":"#a9b7c6"},{"from":57,"to":62,"value":"#bbb529"},{"from":63,"to":67,"value":"#bbb529"},{"from":67,"to":74,"value":"#cc7832"},{"from":74,"to":87,"value":"#a9b7c6"},{"from":87,"to":102,"value":"#ffc66d"},{"from":102,"to":104,"value":"#a9b7c6"},{"from":105,"to":110,"value":"#a9b7c6"},{"from":111,"to":119,"value":"#a9b7c6"},{"from":119,"to":130,"value":"#cc7832"},{"from":130,"to":144,"value":"#a9b7c6"},{"from":144,"to":145,"value":"#cc7832"},{"from":146,"to":150,"value":"#cc7832"},{"from":150,"to":151,"value":"#a9b7c6"},{"from":152,"to":153,"value":"#a9b7c6"}],"back-color":[{"from":0,"to":14,"value":"#2b2b2b"},{"from":15,"to":52,"value":"#2b2b2b"},{"from":53,"to":62,"value":"#2b2b2b"},{"from":63,"to":104,"value":"#2b2b2b"},{"from":105,"to":110,"value":"#2b2b2b"},{"from":111,"to":145,"value":"#2b2b2b"},{"from":146,"to":151,"value":"#2b2b2b"},{"from":152,"to":153,"value":"#2b2b2b"}]}}],"heights":[40],"widths":[620]}</content><styles/></table><para><coId>4275-1641032543317</coId><text/><inline-styles/><styles/></para><table><coId>4390-1641032543317</coId><resource-list/><content>{"cells":[{"value":"@RestController\npublic class OrderNacosController {\n    @Resource\n    private RestTemplate restTemplate;\n\n    @Value(\"${service-url.nacos-user-service}\")\n    private String serverURL;\n\n    @GetMapping(\"/consumer/payment/nacos/{id}\")\n    public String paymentInfo(@PathVariable(\"id\") Long id)\n    {\n        return restTemplate.getForObject(serverURL+\"/payment/nacos/\"+id,String.class);\n    }\n}","inlineStyles":{"font-size":[{"from":0,"to":15,"value":13},{"from":16,"to":51,"value":13},{"from":52,"to":65,"value":13},{"from":66,"to":104,"value":13},{"from":106,"to":153,"value":13},{"from":154,"to":183,"value":13},{"from":185,"to":232,"value":13},{"from":233,"to":291,"value":13},{"from":292,"to":297,"value":13},{"from":298,"to":384,"value":13},{"from":385,"to":390,"value":13},{"from":391,"to":392,"value":13}],"color":[{"from":0,"to":15,"value":"#bbb529"},{"from":16,"to":29,"value":"#cc7832"},{"from":29,"to":51,"value":"#a9b7c6"},{"from":52,"to":56,"value":"#a9b7c6"},{"from":56,"to":65,"value":"#bbb529"},{"from":66,"to":70,"value":"#bbb529"},{"from":70,"to":78,"value":"#cc7832"},{"from":78,"to":91,"value":"#a9b7c6"},{"from":91,"to":103,"value":"#9876aa"},{"from":103,"to":104,"value":"#cc7832"},{"from":106,"to":110,"value":"#cc7832"},{"from":110,"to":116,"value":"#bbb529"},{"from":116,"to":117,"value":"#a9b7c6"},{"from":117,"to":152,"value":"#6a8759"},{"from":152,"to":153,"value":"#a9b7c6"},{"from":154,"to":158,"value":"#a9b7c6"},{"from":158,"to":166,"value":"#cc7832"},{"from":166,"to":173,"value":"#a9b7c6"},{"from":173,"to":182,"value":"#9876aa"},{"from":182,"to":183,"value":"#cc7832"},{"from":185,"to":189,"value":"#cc7832"},{"from":189,"to":200,"value":"#bbb529"},{"from":200,"to":201,"value":"#a9b7c6"},{"from":201,"to":231,"value":"#6a8759"},{"from":231,"to":232,"value":"#a9b7c6"},{"from":233,"to":237,"value":"#a9b7c6"},{"from":237,"to":244,"value":"#cc7832"},{"from":244,"to":251,"value":"#a9b7c6"},{"from":251,"to":262,"value":"#ffc66d"},{"from":262,"to":263,"value":"#a9b7c6"},{"from":263,"to":276,"value":"#bbb529"},{"from":276,"to":277,"value":"#a9b7c6"},{"from":277,"to":281,"value":"#6a8759"},{"from":281,"to":291,"value":"#a9b7c6"},{"from":292,"to":297,"value":"#a9b7c6"},{"from":298,"to":306,"value":"#a9b7c6"},{"from":306,"to":313,"value":"#cc7832"},{"from":313,"to":325,"value":"#9876aa"},{"from":325,"to":339,"value":"#a9b7c6"},{"from":339,"to":348,"value":"#9876aa"},{"from":348,"to":349,"value":"#a9b7c6"},{"from":349,"to":366,"value":"#6a8759"},{"from":366,"to":369,"value":"#a9b7c6"},{"from":369,"to":370,"value":"#cc7832"},{"from":370,"to":377,"value":"#a9b7c6"},{"from":377,"to":382,"value":"#cc7832"},{"from":382,"to":383,"value":"#a9b7c6"},{"from":383,"to":384,"value":"#cc7832"},{"from":385,"to":389,"value":"#cc7832"},{"from":389,"to":390,"value":"#a9b7c6"},{"from":391,"to":392,"value":"#a9b7c6"}],"back-color":[{"from":0,"to":15,"value":"#2b2b2b"},{"from":16,"to":51,"value":"#2b2b2b"},{"from":52,"to":65,"value":"#2b2b2b"},{"from":66,"to":104,"value":"#2b2b2b"},{"from":106,"to":153,"value":"#2b2b2b"},{"from":154,"to":183,"value":"#2b2b2b"},{"from":185,"to":232,"value":"#2b2b2b"},{"from":233,"to":291,"value":"#2b2b2b"},{"from":292,"to":297,"value":"#2b2b2b"},{"from":298,"to":384,"value":"#2b2b2b"},{"from":385,"to":390,"value":"#2b2b2b"},{"from":391,"to":392,"value":"#2b2b2b"}]}}],"heights":[40],"widths":[620]}</content><styles/></table><para><coId>1855-1641029536741</coId><text/><inline-styles/><styles/></para><attach><coId>9719-1641034374761</coId><source>https://note.youdao.com/yws/res/16555/BF6F9ECE269643ED83F617B9FA160820</source><resource>https://note.youdao.com/yws/res/16556/BE4ED048666046608822E49B0D37B03C</resource><filename>springcloud.zip</filename><filelength>172115</filelength><styles/></attach><para><coId>2870-1641029537073</coId><text/><inline-styles/><styles/></para></body></note>