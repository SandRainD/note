{"2":"1","3":"Ju9C-1621846617594","4":{"version":1,"incompatibleVersion":0,"fv":"0"},"5":[{"3":"3060-1621846615933","5":[{"2":"2","3":"p5PQ-1621846617594"}]},{"3":"t8yp-1659087606765","5":[{"2":"2","3":"t6hj-1659087606763","7":[{"8":"事务是数据库区别于文件系统的重要特性之一，当我们有了事务就会让数据库始终保持一致性，同时我们还能通过事务的机制恢复到某个时间点，这样可以保证已提交到数据库的修改不会因为系统崩溃而丢失。"}]}]},{"3":"hSR4-1659087459623","4":{"l":"h3"},"5":[{"2":"2","3":"nh1X-1659087459621","7":[{"8":"存储引擎支持情况","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"daPo-1659087459728","5":[{"2":"2","3":"5rVl-1659087459726","7":[{"8":"SHOW ENGINES ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"命令来查看当前 MySQL 支持的存储引擎都有哪些，以及这些存储引擎是否支持事务。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"dgxk-1659087459820","4":{"l":"h3"},"5":[{"2":"2","3":"VtlU-1659087459818","7":[{"8":"基本概念","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"YAWF-1659087465929","5":[{"2":"2","3":"sO8S-1659087465927","7":[{"8":"事务：","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"一组逻辑操作单元，使数据从一种状态变换到另一种状态。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"h1HQ-1659087466442","5":[{"2":"2","3":"gQKS-1659087466441","7":[{"8":"事务处理的原则：","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"保证所有事务都作为 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"一个工作单元 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"来执行，即使出现了故障，都不能改变这种执行方式。当在一个事务中执行多个操作时，要么所有的事务都被提交( ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"commit ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":")，那么这些修改就 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"永久 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"地保存下来；要么数据库管理系统将 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"放弃 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"所作的所有 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"修改 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，整个事务回滚( ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"rollback ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":")到最初状态。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"4urO-1659087623075","4":{"l":"h3"},"5":[{"2":"2","3":"2snl-1659087623074","7":[{"8":"事务的","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":"ACID","9":[{"0":"#34495e","2":"c"}]},{"8":"特性","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"KYIt-1659087466641","5":[{"2":"2","3":"ePQL-1659087466639","7":[{"8":"原子性（","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"atomicity","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）：","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"原子性是指事务是一个不可分割的工作单位，要么全部提交，要么全部失败回滚","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"70Tv-1659087466732","5":[{"2":"2","3":"yxK5-1659087466731","7":[{"8":"一致性（","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"consistency","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）：","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"19fr-1659088492771","4":{"version":1},"5":[{"2":"2","3":"WKuW-1659088492770","7":[{"8":"（国内很多网站上对一致性的阐述有误，具体你可以参考 Wikipedia 对","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"Consistency","9":[{"0":"#42b983","2":"c"},{"0":16,"2":"fs"}]},{"8":"的阐述）根据定义，一致性是指事务执行前后，数据从一个 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"合法性状态 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"变换到另外一个 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"合法性状态 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。这种状态是 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"语义上 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的而不是语法上的，跟具体的业务有关。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Annj-1659088492777","4":{"version":1},"5":[{"2":"2","3":"qexS-1659088492776","7":[{"8":"那什么是合法的数据状态呢？满足 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"预定的约束 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的状态就叫做合法的状态。通俗一点，这状态是由你自己来定义的（比如满足现实世界中的约束）。满足这个状态，数据就是一致的，不满足这个状态，数据就是不一致的！如果事务中的某个操作失败了，系统就会自动撤销当前正在执行的事务，返回到事务操作之前的状态。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"5FNR-1659087466840","5":[{"2":"2","3":"vKAT-1659087466838","7":[{"8":"隔离型（","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"isolation","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）：","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Oo3k-1659087466947","5":[{"2":"2","3":"Z7G3-1659087466945","7":[{"8":"事务的隔离性是指一个事务的执行 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"不能被其他事务干扰 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，即一个事务内部的操作及使用的数据对 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"并发 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的其他事务是隔离的，并发执行的各个事务之间不能互相干扰。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"saBg-1659088672602","4":{"version":1},"5":[{"2":"2","3":"YGYe-1659088672601","7":[{"8":"持久性（","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"durability","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）：","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"ZhKU-1659088850764","4":{"version":1},"5":[{"2":"2","3":"mTSG-1659088850762","7":[{"8":"持久性是指一个事务一旦被提交，它对数据库中数据的改变就是 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"永久性的 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，接下来的其他操作和数据库故障不应该对其有任何影响。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"mTOP-1659088850768","4":{"version":1},"5":[{"2":"2","3":"3ilY-1659088850767","7":[{"8":"持久性是通过 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"事务日志 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"来保证的。日志包括了 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"重做日志 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"和 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"回滚日志 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。当我们通过事务对数据进行修改的时候，首先会将数据库的变化信息记录到重做日志中，然后再对数据库中对应的行进行修改。这样做的好处是，即使数据库系统崩溃，数据库重启后也能找到没有更新到数据库系统中的重做日志，重新执行，从而使事务具有持久性。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"wFqi-1659087467039","4":{"l":"h5"},"5":[{"2":"2","3":"VO6I-1659087467037","7":[{"8":"总结"}]}],"6":"h"},{"3":"rOtP-1659088972411","4":{"version":1},"5":[{"2":"2","3":"hnMr-1659088972410","7":[{"8":"ACID是事务的四大特性，在这四个特性中，原子性是基础，隔离性是手段一致性是约束条件，而持久性是我们的目的。"}]}]},{"3":"mvIz-1659088972413","4":{"version":1},"5":[{"2":"2","3":"Yocw-1659088972412","7":[{"8":"数据库事务，其实就是数据库设计者为了方便起见，把需要保证原子性、隔离性、一致性和持久性的一个或多个数据库操作称为一个事务。"}]}]},{"3":"ECEc-1659089005238","4":{"l":"h3"},"5":[{"2":"2","3":"KBCf-1659089005237","7":[{"8":"事务的状态","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"jFML-1659087599197","5":[{"2":"2","3":"UBQx-1659087599196","7":[{"8":"我们现在知道 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"事务 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"是一个抽象的概念，它其实对应着一个或多个数据库操作，MySQL根据这些操作所执行的不同阶段把 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"事务 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"大致划分成几个状态：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"ydC6-1659087599288","5":[{"2":"2","3":"ueuz-1659087599286","7":[{"8":"活动的（","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"active","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"AMiE-1659089359988","4":{"version":1},"5":[{"2":"2","3":"GPRV-1659089359987","7":[{"8":"事务对应的数据库操作正在执行过程中时，我们就说该事务处在 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"活动的 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"状态。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"oich-1659089359990","4":{"version":1},"5":[{"2":"2","3":"tF0E-1659089359989","7":[{"8":"部分提交的（","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"partially committed","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"KIt9-1659089359993","4":{"version":1},"5":[{"2":"2","3":"MZEQ-1659089359992","7":[{"8":"当事务中的最后一个操作执行完成，但由于操作都在内存中执行，所造成的影响并 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"没有刷新到磁盘","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"时，我们就说该事务处在 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"部分提交的 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"状态。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"1yR0-1659089359997","4":{"version":1},"5":[{"2":"2","3":"Subf-1659089359996","7":[{"8":"失败的（","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"failed","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"JDBH-1659089359999","4":{"version":1},"5":[{"2":"2","3":"8Adr-1659089359998","7":[{"8":"当事务处在 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"活动的 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"或者 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"部分提交的 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"状态时，可能遇到了某些错误（数据库自身的错误、操作系统错误或者直接断电等）而无法继续执行，或者人为的停止当前事务的执行，我们就说该事务处在 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"失败的 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"状态。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"DPjm-1659087599488","5":[{"2":"2","3":"7A5E-1659087599486","7":[{"8":"中止的（","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"aborted","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"dLc0-1659089370373","4":{"version":1},"5":[{"2":"2","3":"IBiq-1659089370372","7":[{"8":"如果事务执行了一部分而变为 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"失败的 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"状态，那么就需要把已经修改的事务中的操作还原到事务执行前的状态。换句话说，就是要撤销失败事务对当前数据库造成的影响。我们把这个撤销的过程称之为 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"回滚 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。当 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"回滚 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"操作执行完毕时，也就是数据库恢复到了执行事务之前的状态，我们就说该事务处在了 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"中止的 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"状态。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"ae0o-1659087599580","5":[{"2":"2","3":"9G51-1659087599578","7":[{"8":"提交的（","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"committed","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"BQ1x-1659089377553","4":{"version":1},"5":[{"2":"2","3":"d3JG-1659089377552","7":[{"8":"当一个处在 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"部分提交的 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"状态的事务将修改过的数据都 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"同步到磁盘 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"上之后，我们就可以说该事务处在了 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"提交的 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"状态。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"TeOv-1659089481814","4":{"version":1,"u":"https://note.youdao.com/yws/res/4/WEBRESOURCE00fcfc711c74e287a655a010a31b2aa4","w":322,"h":236},"6":"im"},{"3":"pQm6-1659087599793","4":{"l":"h3"},"5":[{"2":"2","3":"xiNY-1659087599792","7":[{"8":"事务的常见分类","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"vHms-1659151006714","4":{"li":"gl97-1659151014367","lt":"unordered","ll":1},"5":[{"2":"2","3":"mnwb-1659151006715","7":[{"8":"扁平事务（Flat Transactions）","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"其由BEGIN WORK开始，由COMMIT WORK或ROLLBACK WORK结束，","9":[{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"fHXZ-1659151010979","4":{"li":"gl97-1659151014367","lt":"unordered","ll":1},"5":[{"2":"2","3":"lxg1-1659151010978","7":[{"8":"带有保存点的扁平事务（Flat Transactions with Savepoints）","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"XWjF-1659151010981","4":{"li":"gl97-1659151014367","lt":"unordered","ll":1},"5":[{"2":"2","3":"LSiL-1659151010980","7":[{"8":"链事务（Chained Transactions）","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"8rhx-1659151010983","4":{"li":"gl97-1659151014367","lt":"unordered","ll":1},"5":[{"2":"2","3":"bYpQ-1659151010982","7":[{"8":"嵌套事务（Nested Transactions）","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"7XZ9-1659151010985","4":{"li":"gl97-1659151014367","lt":"unordered","ll":1},"5":[{"2":"2","3":"DB3s-1659151010984","7":[{"8":"分布式事务（Distributed Transactions）","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"MI0J-1659150997757","4":{"l":"h1"},"5":[{"2":"2","3":"0P5n-1659150997756","7":[{"8":"如何使用事务","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"vIwV-1659087599884","5":[{"2":"2","3":"N0Oh-1659087599882","7":[{"8":"使用事务有两种方式，分别为 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"显式事务 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"和 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"隐式事务 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"gfof-1659089512711","4":{"l":"h3"},"5":[{"2":"2","3":"7BVe-1659089512710","7":[{"8":"显式事务","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"DGcQ-1659089753159","4":{"version":1},"5":[{"2":"2","3":"4z9g-1659089753158","7":[{"8":"START TRANSACTION ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"或者 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"BEGIN ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"，作用是显式开启一个事务。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"ENhm-1659087600190","5":[{"2":"2","3":"LTKt-1659087600188","7":[{"8":"START TRANSACTION ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"语句相较于 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"BEGIN ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"特别之处在于，后边能跟随几个 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"修饰符 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"： ①和②只能选其中一个","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"tePm-1659089794411","5":[{"2":"2","3":"Ob8E-1659089794409","7":[{"8":"① ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"READ ONLY ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：标识当前事务是一个 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"只读事务 ","9":[{"0":"#e96900","2":"c"},{"0":"NSimSun","2":"ff"},{"0":16,"2":"fs"}]},{"8":"，也就是属于该事务的数据库操作只能读取数据，而不能修改数据。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"gTxe-1659089960798","5":[{"2":"2","3":"mvoZ-1659089960796","7":[{"8":"补充:只读事务中只是不允许修改那些其他事务也能访问到的表中的数据，对于临时表来说（我们使用CREATE TMEPORARY TABLE创建的表)，由于它们只能在当前会话中可见，所以只读事务其实也是可以对临时表进行增、删、改操作的。"}]}]},{"3":"lcOZ-1659089793241","4":{"version":1},"5":[{"2":"2","3":"MTfX-1659089793239","7":[{"8":"② ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"READ WRITE ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：默认。标识当前事务是一个 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"读写事务 ","9":[{"0":"#e96900","2":"c"},{"0":"NSimSun","2":"ff"},{"0":16,"2":"fs"}]},{"8":"，也就是属于该事务的数据库操作既可以读取数据，也可以修改数据。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Zk2S-1659089793245","4":{"version":1},"5":[{"2":"2","3":"Fbjx-1659089793244","7":[{"8":"③ ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"WITH CONSISTENT SNAPSHOT ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：启动一致性读。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"bhP2-1659089803695","4":{"wrap":false,"la":"sql","th":"default"},"5":[{"3":"ffvv-1659089803694","5":[{"2":"2","3":"wMpC-1659087600296","7":[{"8":"BEGIN; #或者 "}]}],"6":"cl"},{"3":"QJLZ-1659090815896","5":[{"2":"2","3":"AXqT-1659090815894","7":[{"8":"START TRANSACTION;"}]}],"6":"cl"},{"3":"q2QB-1659089811939","5":[{"2":"2","3":"udX6-1659089811937","7":[{"8":"# 提交事务。当提交事务后，对数据库的修改是永久性的。 "}]}],"6":"cl"},{"3":"SJdG-1659089820554","5":[{"2":"2","3":"xOSx-1659089820553","7":[{"8":"mysql> COMMIT; "}]}],"6":"cl"},{"3":"jlOF-1659089821965","5":[{"2":"2","3":"MqXe-1659089821964","7":[{"8":"# 回滚事务。即撤销正在进行的所有没有提交的修改 "}]}],"6":"cl"},{"3":"hkvF-1659089825840","5":[{"2":"2","3":"6ovz-1659089825839","7":[{"8":"mysql> ROLLBACK; "}]}],"6":"cl"},{"3":"VWCw-1659089825842","5":[{"2":"2","3":"9fB8-1659089825841","7":[{"8":"# 将事务回滚到某个保存点。 "}]}],"6":"cl"},{"3":"BwWU-1659089825844","5":[{"2":"2","3":"gGgE-1659089825843","7":[{"8":"mysql> ROLLBACK TO [SAVEPOINT] "}]}],"6":"cl"}],"6":"cd"},{"3":"Cdvz-1659087600389","5":[{"2":"2","3":"oXqg-1659087600388","7":[{"8":"保存点：savepoint","9":[{"0":"#000000","2":"c"}]}]}]},{"3":"HNBd-1659087600496","4":{"l":"h3"},"5":[{"2":"2","3":"MeQ7-1659087600495","7":[{"8":"隐式事务 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"smQZ-1659087600604","5":[{"2":"2","3":"ft9p-1659087600602","7":[{"8":"MySQL中有一个系统变量 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"autocommit ，","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"表示当前会话的DML操作独立的事务，会自动提交","9":[{"0":"#000000","2":"c"},{"0":16,"2":"fs"}]},{"8":"：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"rNtD-1659087600694","5":[{"2":"2","3":"7B4M-1659087600692","7":[{"8":"当然，如果我们想关闭这种 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"自动提交 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的功能（只针对DML操作有效），可以使用下边两种方法之一：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"J9XF-1659091175828","4":{"li":"X3s1-1659091182559","lt":"unordered","ll":1},"5":[{"2":"2","3":"9fJ5-1659091175826","7":[{"8":"显式的的使用 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"START TRANSACTION ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"或者 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"BEGIN ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"语句开启一个事务。这样在本次事务提交或者回滚前会暂时关闭掉自动提交的功能。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"QRhx-1659091175832","4":{"li":"X3s1-1659091182559","lt":"unordered","ll":1},"5":[{"2":"2","3":"hZWD-1659091175831","7":[{"8":"把系统变量 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"autocommit ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"的值设置为 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"OFF ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"，就像这样：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"0KI8-1659091191171","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"L6l8-1659091191170","5":[{"2":"2","3":"metE-1659087600799","7":[{"8":"SET autocommit = OFF; "}]}],"6":"cl"},{"3":"vCeT-1659091191333","5":[{"2":"2","3":"TkQa-1659091191332","7":[{"8":"#或"}]}],"6":"cl"},{"3":"yaiz-1659091191335","5":[{"2":"2","3":"O7oL-1659091191334","7":[{"8":"SET autocommit = 0;"}]}],"6":"cl"}],"6":"cd"},{"3":"e6Fg-1659091966712","4":{"l":"h3"},"5":[{"2":"2","3":"R9UG-1659091966711","7":[{"8":"隐式提交数据的情况","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"YbUc-1659087600999","4":{"li":"vZSt-1659092035275","lt":"unordered","ll":1},"5":[{"2":"2","3":"UyCQ-1659087600998","7":[{"8":"数据定义语言（","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"Data definition language","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"，缩写为：","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"DDL","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"7u52-1659092021008","4":{"li":"vZSt-1659092035275","lt":"unordered","ll":1},"5":[{"2":"2","3":"wVJK-1659092021007","7":[{"8":"隐式使用或修改","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"mysql","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"数据库中的表，ALTER USER等","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"jfr8-1659092021011","4":{"li":"vZSt-1659092035275","lt":"unordered","ll":1},"5":[{"2":"2","3":"cwUy-1659092021010","7":[{"8":"事务控制或关于锁定的语句","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"anna-1659092039372","5":[{"2":"2","3":"rIOp-1659092039369","7":[{"8":"① 当我们在一个事务还没提交或者回滚时就又使用 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"START TRANSACTION ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"或者 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"BEGIN ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"语句开启了另一个事务时，会 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"隐式的提交 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"上一个事务。即：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"X9wU-1659092104926","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"1tfZ-1659092104924","5":[{"2":"2","3":"brCp-1659092101188","7":[{"8":"BEGIN;"}]}],"6":"cl"},{"3":"MUEC-1659092119195","5":[{"2":"2","3":"3uC0-1659092119194","7":[{"8":"SELECT ...#事务中的一条语句"}]}],"6":"cl"},{"3":"nnqa-1659092130030","5":[{"2":"2","3":"nkQW-1659092130029","7":[{"8":"UPDATE ...# 事务中的一条语句"}]}],"6":"cl"},{"3":"k6nT-1659092134211","5":[{"2":"2","3":"DOqH-1659092134208","7":[{"8":"...#事务中的其它语句"}]}],"6":"cl"},{"3":"iiS4-1659092119197","5":[{"2":"2","3":"zB4f-1659092119196","7":[{"8":"BEGIN;#此语句会隐式的提交前边语句所属于的事务"}]}],"6":"cl"}],"6":"cd"},{"3":"6sh5-1659092093917","4":{"version":1},"5":[{"2":"2","3":"3ux9-1659092093916","7":[{"8":"② 当前的 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"autocommit ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"系统变量的值为 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"OFF ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"，我们手动把它调为 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"ON ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"时，也会 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"隐式的提交 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"前边语句所属的事务","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"clAh-1659093248352","4":{"version":1},"5":[{"2":"2","3":"Sfdp-1659093248349","7":[{"8":"③","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"使用LOCK TABLES、UNLOCK TABLES等关于锁定的语句也会隐式的提交前边语句所属的事务。","9":[{"0":16,"2":"fs"}]}]}]},{"3":"X1kl-1659087601107","4":{"li":"vZSt-1659092035275","lt":"unordered","ll":1},"5":[{"2":"2","3":"K2Tv-1659087601105","7":[{"8":"加载数据的语句","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"N2nk-1659093267128","5":[{"2":"2","3":"pjVt-1659093267125","7":[{"8":"使用LOAD DATA语句来批量往数据库中导入数据时，也会隐式的提交前边语句所属的事务。"}]}]},{"3":"jgOh-1659092031050","4":{"li":"vZSt-1659092035275","lt":"unordered","ll":1},"5":[{"2":"2","3":"706G-1659092031049","7":[{"8":"关于","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"MySQL","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"复制的一些语句","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"Cfqp-1659093282817","5":[{"2":"2","3":"6eHs-1659093282814","7":[{"8":"使用START SLAVE、STOP SLAVE、RESET SLAVE、CHANGE MASTER TO等语句时会隐式的提交前边语句所属的事务。"}]}]},{"3":"fUxJ-1659092031052","4":{"li":"vZSt-1659092035275","lt":"unordered","ll":1},"5":[{"2":"2","3":"H8Bc-1659092031051","7":[{"8":"其它的一些语句","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"bIsZ-1659087601200","5":[{"2":"2","3":"KSqH-1659087601199","7":[{"8":"使用ANALYZE TABLE、CACHE INDEX、CHECK TABLE、FLUSH、LOAD INDEX INTO CACHE、OPTIMIZE TABLE、REPAIR TABLE、RESET 等语句也会隐式的提交前边语句所属的事务。"}]}]},{"3":"ihO9-1659087601305","4":{"l":"h3"},"5":[{"2":"2","3":"LZkO-1659087601304","7":[{"8":"小结","9":[{"0":"#000000","2":"c"}]}]}],"6":"h"},{"3":"tMOM-1659087601396","5":[{"2":"2","3":"ip9O-1659087601395","7":[{"8":"当我们设置 autocommit=0 时，不论是否采用 START TRANSACTION 或者 BEGIN 的方式来开启事务，都需要用 COMMIT 进行提交，让事务生效，使用 ROLLBACK 对事务进行回滚。","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"MqIs-1659150764646","4":{"version":1},"5":[{"2":"2","3":"mJeF-1659150764645","7":[{"8":"当我们设置 autocommit=1 时，每条 SQL 语句都会自动进行提交。 不过这时，如果你采用 START TRANSACTION 或者 BEGIN 的方式来显式地开启事务，那么这个事务只有在 COMMIT 时才会生效，在 ROLLBACK 时才会回滚。","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"1II3-1659150947152","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"4txE-1659150947151","5":[{"2":"2","3":"aZXM-1659150938833","7":[{"8":"SET @@completion_type=1;","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"cl"}],"6":"cd"},{"3":"7oik-1659150936100","4":{"version":1,"u":"https://note.youdao.com/yws/res/8/WEBRESOURCEaecc4eb8aeac305536d54f92119b3318","w":582,"h":198},"6":"im"},{"3":"OIpa-1659091350203","4":{"l":"h1"},"5":[{"2":"2","3":"DsAw-1659091350200","7":[{"8":"事务隔离级别","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"W9kH-1659091350668","5":[{"2":"2","3":"CpXy-1659091350667","7":[{"8":"MySQL是一个 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"客户端／服务器 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"架构的软件，对于同一个服务器来说，可以有若干个客户端与之连接，每个客户端与服务器连接上之后，就可以称为一个会话（ ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"Session ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"）。每个客户端都可以在自己的会话中向服务器发出请求语句，一个请求语句可能是某个事务的一部分，也就是对于服务器来说可能同时处理多个事务。事务有 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"隔离性 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的特性，理论上在某个事务 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"对某个数据进行访问 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"时，其他事务应该进行 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"排 队 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，当该事务提交之后，其他事务才可以继续访问这个数据。但是这样对 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"性能影响太大 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，我们既想保持事务的隔离性，又想让服务器在处理访问同一数据的多个事务时 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"性能尽量高些 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，那就看二者如何权衡取舍了。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"KsrK-1659091350767","4":{"l":"h3"},"5":[{"2":"2","3":"YrPA-1659091350765","7":[{"8":"数据并发问题","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"whNL-1659091350862","5":[{"2":"2","3":"fg6d-1659091350860","7":[{"8":"1. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"脏写（ ","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"Dirty Write ","9":[{"0":"#000000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"4fwG-1659152165904","4":{"version":1},"5":[{"2":"2","3":"vXmg-1659152165903","7":[{"8":"对于两个事务 Session A、Session B，如果事务Session A ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"修改了 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"另一个 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"未提交 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"事务Session B ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"修改过 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的数据，那就意味着发生了 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"脏写 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]}]}]},{"3":"hIOf-1659152273832","4":{"version":1,"u":"https://note.youdao.com/yws/res/7/WEBRESOURCE4043ccf1e74e5d769d533b0b36ae04b7","w":483,"h":266},"6":"im"},{"3":"mNCB-1659091350972","5":[{"2":"2","3":"4POD-1659091350970","7":[{"8":"2. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"脏读（ ","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"Dirty Read ","9":[{"0":"#000000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"IdaZ-1659152171144","4":{"version":1},"5":[{"2":"2","3":"ek0p-1659152171143","7":[{"8":"对于两个事务 Session A、Session B，Session A ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"读取 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"了已经被 Session B ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"更新 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"但还 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"没有被提交 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的字段。之后若 Session B ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"回滚 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，Session A ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"读取 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的内容就是 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"临时且无效 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"yVHk-1659152266476","4":{"version":1,"u":"https://note.youdao.com/yws/res/3/WEBRESOURCEb9598f971721de05be3debf42545f6b3","w":582,"h":336},"6":"im"},{"3":"jGH5-1659091351272","5":[{"2":"2","3":"DMe8-1659091351271","7":[{"8":"Session A和Session B各开启了一个事务，Session B中的事务先将studentno列为1的记录的name列更新为'张三'，然后Session A中的事务再去查询这条studentno为1的记录，如果读到列name的值为'张三'，而Session B中的事务稍后进行了回滚，那么Session A中的事务相当于读到了一个不存在的数据，这种现象就称之为 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"脏读 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"L556-1659091351368","5":[{"2":"2","3":"Ames-1659091351367","7":[{"8":"3. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"不可重复读（ ","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"Non","9":[{"0":"#000000","2":"c"},{"0":16,"2":"fs"}]},{"8":"-","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"Repeatable Read ","9":[{"0":"#000000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"UXdK-1659152322913","4":{"version":1},"5":[{"2":"2","3":"bCNL-1659152322912","7":[{"8":"对于两个事务Session A、Session B，Session A ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"读取 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"了一个字段，然后 Session B ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"更新 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"了该字段。 之后Session A ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"再次读取 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"同一个字段， ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"值就不同 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"了。那就意味着发生了不可重复读。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"0cxB-1659152352498","4":{"version":1,"u":"https://note.youdao.com/yws/res/7/WEBRESOURCE6ed6c67f8d3092e98eefa509d47e2b47","w":582,"h":400},"6":"im"},{"3":"JBGb-1659152322918","4":{"version":1},"5":[{"2":"2","3":"mjl2-1659152322917","7":[{"8":"我们在Session B中提交了几个 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"隐式事务 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"（注意是隐式事务，意味着语句结束事务就提交了），这些事务都修改了studentno列为1的记录的列name的值，每次事务提交之后，如果Session A中的事务都可以查看到最新的值，这种现象也被称之为 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"不可重复读 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"KnM4-1659091351482","5":[{"2":"2","3":"nMqN-1659091351480","7":[{"8":"4. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"幻读（ ","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"Phantom ","9":[{"0":"#000000","2":"c"},{"0":16,"2":"fs"}]},{"8":"）","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"n73L-1659152433671","4":{"version":1},"5":[{"2":"2","3":"dKZ1-1659152433670","7":[{"8":"对于两个事务Session A、Session B, Session A 从一个表中 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"读取 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"了一个字段, 然后 Session B 在该表中 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"插入 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"了一些新的行。 之后, 如果 Session A ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"再次读取 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"同一个表, 就会多出几行。那就意味着发生了幻读。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"S2l0-1659155749833","4":{"version":1,"u":"https://note.youdao.com/yws/res/e/WEBRESOURCEba59cd125757576ca5dd1d7ca646a6fe","w":582,"h":281},"6":"im"},{"3":"iTuw-1659152433675","4":{"version":1},"5":[{"2":"2","3":"R6mv-1659152433674","7":[{"8":"Session A中的事务先根据条件 studentno > 0这个条件查询表student，得到了name列值为'张三'的记录；之后Session B中提交了一个 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"隐式事务 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，该事务向表student中插入了一条新记录；之后Session A中的事务再根据相同的条件 studentno > 0查询表student，得到的结果集中包含Session B中的事务新插入的那条记录，这种现象也被称之为 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"幻读 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。我们把新插入的那些记录称之为 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"幻影记录 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]}]}]},{"3":"MQkL-1659155748533","5":[{"2":"2","3":"nD1Q-1659155748534"}]},{"3":"6nxD-1659091351790","5":[{"2":"2","3":"wW7Y-1659091351788","7":[{"8":"注意1:"}]}]},{"3":"kT71-1659152582518","4":{"version":1},"5":[{"2":"2","3":"Nrsy-1659152582517","7":[{"8":"有的同学会有疑问，那如果Session B中删除了一些符合studentno >0的记录而不是插入新记录，那Session A之后再根据studentno > 0的条件读取的记录变少了，这种现象算不算幻读呢?这种现象不属于幻读，幻读强调的是一个事务按照某个相同条件多次读取记录时，后读取时读到了之前没有读到的记录。"}]}]},{"3":"VoH9-1659152582520","4":{"version":1},"5":[{"2":"2","3":"Xza5-1659152582519","7":[{"8":"注意2:"}]}]},{"3":"2Nxm-1659152582522","4":{"version":1},"5":[{"2":"2","3":"8OB6-1659152582521","7":[{"8":"那对于先前已经读到的记录，之后又读取不到这种情况，算啥呢?这相当于对每一条记录都发生了不可重复读的现象。幻读只是重点强调了读取到了之前读取没有获取到的"},{"8":"记录。","9":[{"0":"#000000","2":"c"}]}]}]},{"3":"YCyL-1659152588896","4":{"l":"h3"},"5":[{"2":"2","3":"WhPZ-1659152588893","7":[{"8":"SQL","9":[{"0":"#34495e","2":"c"}]},{"8":"中的四种隔离级别","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"23Vp-1659152590417","4":{"version":1},"5":[{"2":"2","3":"FyaH-1659152590414","7":[{"8":"上面介绍了几种并发事务执行过程中可能遇到的一些问题，这些问题有轻重缓急之分，我们给这些问题按照严重性来排一下序：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"脏写 ","9":[{"0":"#FF0001","2":"c"},{"0":"NSimSun","2":"ff"},{"0":16,"2":"fs"}]},{"8":"> ","9":[{"0":"#FF0001","2":"c"},{"0":16,"2":"fs"}]},{"8":"脏读 ","9":[{"0":"#FF0001","2":"c"},{"0":"NSimSun","2":"ff"},{"0":16,"2":"fs"}]},{"8":"> ","9":[{"0":"#FF0001","2":"c"},{"0":16,"2":"fs"}]},{"8":"不可重复读 ","9":[{"0":"#FF0001","2":"c"},{"0":"NSimSun","2":"ff"},{"0":16,"2":"fs"}]},{"8":"> ","9":[{"0":"#FF0001","2":"c"},{"0":16,"2":"fs"}]},{"8":"幻读","9":[{"0":"#FF0001","2":"c"},{"0":"NSimSun","2":"ff"},{"0":16,"2":"fs"}]}]}]},{"3":"MyAx-1659152590930","4":{"version":1},"5":[{"2":"2","3":"aUoY-1659152590927","7":[{"8":"我们愿意舍弃一部分隔离性来换取一部分性能在这里就体现在：设立一些隔离级别，隔离级别越低，并发问题发生的就越多。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"SQL","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"标准 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"中设立了4个 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"隔离级别 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"： ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"lKyp-1659152591024","4":{"li":"dSPK-1659152726924","lt":"unordered","ll":1},"5":[{"2":"2","3":"tOBm-1659152591021","7":[{"8":"READ UNCOMMITTED ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：读未提交，在该隔离级别，所有事务都可以看到其他未提交事务的执行结果。不能避免脏读、不可重复读、幻读。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"kBQ4-1659152716743","4":{"li":"dSPK-1659152726924","lt":"unordered","ll":1},"5":[{"2":"2","3":"dyWf-1659152716742","7":[{"8":"READ COMMITTED ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：读已提交，它满足了隔离的简单定义：一个事务只能看见已经提交事务所做的改变。这是大多数数据库系统的默认隔离级别（但不是MySQL默认的）。可以避免脏读，但不可重复读、幻读问题仍然存在。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"YKoO-1659152716751","4":{"li":"dSPK-1659152726924","lt":"unordered","ll":1},"5":[{"2":"2","3":"YnYj-1659152716749","7":[{"8":"REPEATABLE READ ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：可重复读，事务A在读到一条数据之后，此时事务B对该数据进行了修改并提交，那么事务A再读该数据，读到的还是原来的内容。可以避免脏读、不可重复读，但幻读问题仍然存在。这是MySQL的默认隔离级别。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"DeqR-1659152716758","4":{"li":"dSPK-1659152726924","lt":"unordered","ll":1},"5":[{"2":"2","3":"ruTk-1659152716757","7":[{"8":"SERIALIZABLE ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：可串行化，确保事务可以从一个表中读取相同的行。在这个事务持续期间，禁止其他事务对该表执行插入、更新和删除操作。所有的并发问题都可以避免，但性能十分低下。能避免脏读、不可重复读和幻读。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"JZ48-1659152591117","4":{"version":1},"5":[{"2":"2","3":"bOGM-1659152591114","7":[{"8":"SQL","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"标准 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"中规定，针对不同的隔离级别，并发事务可以发生不同严重程度的问题，具体情况如下：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Mb0S-1659152745764","4":{"version":1,"u":"https://note.youdao.com/yws/res/7/WEBRESOURCEe00ad3485bc6f96ca6ddf578a815f1b7","w":582,"h":187},"6":"im"},{"3":"1Odl-1659152602553","4":{"version":1},"5":[{"2":"2","3":"jM5L-1659152602551","7":[{"8":"脏写 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"怎么没涉及到？因为脏写这个问题太严重了，不论是哪种隔离级别，都不允许脏写的情况发生。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Rq2i-1659153235668","4":{"l":"h3"},"5":[{"2":"2","3":"tRTF-1659153235667","7":[{"8":"MySQL","9":[{"0":"#34495e","2":"c"}]},{"8":"支持的四种隔离级别 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"PzJy-1659152602741","4":{"version":1},"5":[{"2":"2","3":"NMDX-1659152602739","7":[{"8":"MySQL的默认隔离级别为REPEATABLE READ，我们可以手c动修改一下事务的隔离级别。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"BzuQ-1659153527808","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"8fRl-1659153527807","5":[{"2":"2","3":"cpCW-1659152602856","7":[{"8":"# 查看隔离级别，MySQL 5.7.20的版本之前： "}]}],"6":"cl"},{"3":"4683-1659153535080","4":{},"5":[{"2":"2","3":"ew6O-1659153535079","7":[{"8":"mysql> SHOW VARIABLES LIKE 'tx_isolation'; "}]}],"6":"cl"},{"3":"ZFMU-1659153545280","4":{},"5":[{"2":"2","3":"qrlo-1659153545277","7":[{"8":"# MySQL 5.7.20版本之后，引入transaction_isolation来替换tx_isolation "}]}],"6":"cl"},{"3":"R9HR-1659153545519","4":{},"5":[{"2":"2","3":"EUxe-1659153545518","7":[{"8":"# 查看隔离级别，MySQL 5.7.20的版本及之后： "}]}],"6":"cl"},{"3":"jYJZ-1659153545521","4":{},"5":[{"2":"2","3":"MQ6i-1659153545520","7":[{"8":"mysql> SHOW VARIABLES LIKE 'transaction_isolation';"}]}],"6":"cl"},{"3":"fjPw-1659153555800","4":{},"5":[{"2":"2","3":"tXRX-1659153555797","7":[{"8":"#或者不同MySQL版本中都可以使用的： "}]}],"6":"cl"},{"3":"W23w-1659153556674","4":{},"5":[{"2":"2","3":"CDEf-1659153556672","7":[{"8":"SELECT @@transaction_isolation; "}]}],"6":"cl"}],"6":"cd"},{"3":"HhxR-1659152602949","4":{"l":"h3"},"5":[{"2":"2","3":"SPvp-1659152602948","7":[{"8":"如何设置事务的隔离级别","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"YGu1-1659153597334","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"nV0v-1659153597333","5":[{"2":"2","3":"FYDo-1659152603043","7":[{"8":"SET [GLOBAL|SESSION] TRANSACTION ISOLATION LEVEL 隔离级别; "}]}],"6":"cl"},{"3":"2FbX-1659153600759","4":{},"5":[{"2":"2","3":"NdS6-1659153600758","7":[{"8":"#其中，隔离级别格式： "}]}],"6":"cl"},{"3":"nA49-1659153600761","4":{},"5":[{"2":"2","3":"WYrr-1659153600760","7":[{"8":"> READ UNCOMMITTED "}]}],"6":"cl"},{"3":"7rNb-1659153600763","4":{},"5":[{"2":"2","3":"WqoS-1659153600762","7":[{"8":"> READ COMMITTED "}]}],"6":"cl"},{"3":"i6Qu-1659153600765","4":{},"5":[{"2":"2","3":"kjye-1659153600764","7":[{"8":"> REPEATABLE READ "}]}],"6":"cl"},{"3":"oeU1-1659153600767","4":{},"5":[{"2":"2","3":"ustz-1659153600766","7":[{"8":"> SERIALIZABLE "}]}],"6":"cl"},{"3":"op13-1659153602467","4":{},"5":[{"2":"2","3":"Ef9b-1659153602464","7":[{"8":"#或者"}]}],"6":"cl"},{"3":"fRT4-1659153602638","4":{},"5":[{"2":"2","3":"1RBY-1659153602635","7":[{"8":"SET [GLOBAL|SESSION] TRANSACTION_ISOLATION = '隔离级别' "}]}],"6":"cl"},{"3":"SRls-1659153607346","4":{},"5":[{"2":"2","3":"ZeQ7-1659153607345","7":[{"8":"#其中，隔离级别格式： "}]}],"6":"cl"},{"3":"IVHM-1659153607348","4":{},"5":[{"2":"2","3":"qw8W-1659153607347","7":[{"8":"> READ-UNCOMMITTED "}]}],"6":"cl"},{"3":"paOH-1659153607350","4":{},"5":[{"2":"2","3":"znjZ-1659153607349","7":[{"8":"> READ-COMMITTED "}]}],"6":"cl"},{"3":"roh3-1659153607352","4":{},"5":[{"2":"2","3":"4Q3p-1659153607351","7":[{"8":"> REPEATABLE-READ "}]}],"6":"cl"},{"3":"jRBD-1659153607354","4":{},"5":[{"2":"2","3":"9Wk2-1659153607353","7":[{"8":"> SERIALIZABLE "}]}],"6":"cl"}],"6":"cd"},{"3":"nPdy-1659152603129","4":{"version":1},"5":[{"2":"2","3":"mZOM-1659152603127","7":[{"8":"关于设置时使用","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"GLOBAL","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"或","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"SESSION","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"的影响：","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"PdQ9-1659152603221","4":{"version":1},"5":[{"2":"2","3":"Gj13-1659152603220","7":[{"8":"使用 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"GLOBAL ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"关键字（在全局范围影响）：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"KlPh-1659153723473","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"ZLpn-1659153723471","5":[{"2":"2","3":"7rPD-1659152603326","7":[{"8":"SET GLOBAL TRANSACTION ISOLATION LEVEL SERIALIZABLE; "}]}],"6":"cl"},{"3":"az5Y-1659153736515","4":{},"5":[{"2":"2","3":"7gqm-1659153736514","7":[{"8":"#或"}]}],"6":"cl"},{"3":"pJ0N-1659153736517","4":{},"5":[{"2":"2","3":"SinL-1659153736516","7":[{"8":"SET GLOBAL TRANSACTION_ISOLATION = 'SERIALIZABLE'; "}]}],"6":"cl"}],"6":"cd"},{"3":"p7ZG-1659152603430","4":{"version":1},"5":[{"2":"2","3":"vAC4-1659152603429","7":[{"8":"则：当前已经存在的会话无效；只对执行完该语句之后产生的会话起作用","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"VSZH-1659152603526","4":{"version":1},"5":[{"2":"2","3":"pAkl-1659152603525","7":[{"8":"使用 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"SESSION ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"关键字（在会话范围影响）：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"BPek-1659153866681","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"BSur-1659153866680","5":[{"2":"2","3":"9ci5-1659153864029","7":[{"8":"SET SESSION TRANSACTION ISOLATION LEVEL SERIALIZABLE; "}]}],"6":"cl"},{"3":"msue-1659153866848","4":{},"5":[{"2":"2","3":"n3qs-1659153866847","7":[{"8":"#或"}]}],"6":"cl"},{"3":"S5Zi-1659153866850","4":{},"5":[{"2":"2","3":"WNT3-1659153866849","7":[{"8":"SET SESSION TRANSACTION_ISOLATION = 'SERIALIZABLE';"}]}],"6":"cl"}],"6":"cd"},{"3":"DJBQ-1659152603622","4":{"version":1},"5":[{"2":"2","3":"D82G-1659152603621","7":[{"8":"则：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"22je-1659153873395","4":{"version":1},"5":[{"2":"2","3":"HEKz-1659153873394","7":[{"8":"对当前会话的所有后续的事务有效","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"zpR0-1659153873397","4":{"version":1},"5":[{"2":"2","3":"9vpY-1659153873396","7":[{"8":"如果在事务之间执行，则对后续的事务有效","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"L1oT-1659153873399","4":{"version":1},"5":[{"2":"2","3":"so2g-1659153873398","7":[{"8":"该语句可以在已经开启的事务中间执行，但不会影响当前正在执行的事务","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"qT4x-1659152603732","4":{"version":1},"5":[{"2":"2","3":"I9Tj-1659152603731","7":[{"8":"小结：数据库规定了多种事务隔离级别，不同隔离级别对应不同的干扰程度，隔离级别越高，数据一致性就越好，但并发性越弱。","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"cGQg-1659156926666","4":{"l":"h3"},"5":[{"2":"2","3":"3B6D-1659156926663","7":[{"8":"拓展","9":[{"0":"#000000","2":"c"}]}]}],"6":"h"},{"3":"yUfl-1659152603924","4":{"version":1},"5":[{"2":"2","3":"kd3j-1659152603922","7":[{"8":"其实RR也是可以避免幻读的，通过对select操作手动加行X锁(独占锁) (SELECT ...FOR UPDATE这也正是SERIALIZABLE隔离级别下会隐式为你做的事情)。同时，即便当前记录不存在，比如id =3是不存在的，当前事务也会获得一把记录锁(因为InnoDB的行锁锁定的是索引，故记录实体存在与否没关系，存在就加行X锁，不存在就加间隙锁)，其他事务则无法插入此索引的记录，故杜绝了幻读。"}]}]},{"3":"OVDr-1659152604035","4":{"version":1},"5":[{"2":"2","3":"isAZ-1659152604034","7":[{"8":"","9":[{"0":"#000000","2":"c"}]}]}]}],"title":"","__compress__":true}