<?xml version="1.0" encoding="UTF-8" standalone="no"?><note xmlns="http://note.youdao.com" file-version="0" schema-version="1.0.3"><head><list id="8627-1637224079627" type="ordered"/></head><body><list-item level="1" list-id="8627-1637224079627"><coId>9524-1637068302380</coId><text>构建springboot项目</text><inline-styles><font-size><from>0</from><to>14</to><value>16</value></font-size></inline-styles><styles/></list-item><list-item level="1" list-id="8627-1637224079627"><coId>9340-1637224081396</coId><text>打包应用</text><inline-styles><font-size><from>0</from><to>4</to><value>16</value></font-size></inline-styles><styles/></list-item><list-item level="1" list-id="8627-1637224079627"><coId>5966-1637224104310</coId><text>编写dockerfile</text><inline-styles><font-size><from>0</from><to>12</to><value>16</value></font-size></inline-styles><styles/></list-item><table><coId>2562-1637224586122</coId><resource-list/><content>{"cells":[{"value":"FROM java:8\n \nCOPY *.jar /app.jar\n \nCMD [\"--server.port=8080\"]\n \nEXPOSE 8080\n \nENTRYPOINT [\"java\", \"-jar\", \"/app.jar\"]"}],"heights":[40],"widths":[620]}</content><styles/></table><list-item level="1" list-id="8627-1637224079627"><coId>7412-1637224110944</coId><text>构建镜像</text><inline-styles><font-size><from>0</from><to>4</to><value>16</value></font-size></inline-styles><styles/></list-item><list-item level="1" list-id="8627-1637224079627"><coId>3560-1637224118788</coId><text>发布运行</text><inline-styles><font-size><from>0</from><to>4</to><value>16</value></font-size></inline-styles><styles/></list-item><table><coId>1342-1637224667143</coId><resource-list/><content>{"cells":[{"value":"# 把打好的jar包和Dockerfile上传到linux\n[root@iZ2zeg4ytp0whqtmxbsqiiZ idea]# ll\ntotal 16140\n-rw-r--r-- 1 root root 16519871 Aug 14 17:38 demo-0.0.1-SNAPSHOT.jar\n-rw-r--r-- 1 root root      122 Aug 14 17:38 Dockerfile\n \n# 构建镜像，不要忘了最后有一个点\n[root@iZ2zeg4ytp0whqtmxbsqiiZ idea]# docker build -t xiaofan666 .\nSending build context to Docker daemon  16.52MB\nStep 1/5 : FROM java:8\n8: Pulling from library/java\n5040bd298390: Pull complete \nfce5728aad85: Pull complete \n76610ec20bf5: Pull complete \n60170fec2151: Pull complete \ne98f73de8f0d: Pull complete \n11f7af24ed9c: Pull complete \n49e2d6393f32: Pull complete \nbb9cdec9c7f3: Pull complete \nDigest: sha256:c1ff613e8ba25833d2e1940da0940c3824f03f802c449f3d1815a66b7f8c0e9d\nStatus: Downloaded newer image for java:8\n ---&gt; d23bdf5b1b1b\nStep 2/5 : COPY *.jar /app.jar\n ---&gt; d4de8837ebf9\nStep 3/5 : CMD [\"--server.port=8080\"]\n ---&gt; Running in e3abc66303f0\nRemoving intermediate container e3abc66303f0\n ---&gt; 131bb3917fea\nStep 4/5 : EXPOSE 8080\n ---&gt; Running in fa2f25977db7\nRemoving intermediate container fa2f25977db7\n ---&gt; d98147377951\nStep 5/5 : ENTRYPOINT [\"java\", \"-jar\", \"/app.jar\"]\n ---&gt; Running in e1885e23773b\nRemoving intermediate container e1885e23773b\n ---&gt; afb6b5f28a32\nSuccessfully built afb6b5f28a32\nSuccessfully tagged xiaofan666:latest\n \n# 查看镜像\n[root@iZ2zeg4ytp0whqtmxbsqiiZ idea]# docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nxiaofan666          latest              afb6b5f28a32        14 seconds ago      660MB\ntomcat              latest              2ae23eb477aa        8 days ago          647MB\nredis               5.0.9-alpine3.11    3661c84ee9d0        3 months ago        29.8MB\njava                8                   d23bdf5b1b1b        3 years ago         643MB\n \n# 运行容器\n[root@iZ2zeg4ytp0whqtmxbsqiiZ idea]# docker run -d -P --name xiaofan-springboot-web xiaofan666\nfd9a353a80bfd61f6930c16cd92204532bfd734e003f3f9983b5128a27b0375e\n# 查看运行起来的容器端口（因为我们启动的时候没有指定）\n[root@iZ2zeg4ytp0whqtmxbsqiiZ idea]# docker ps\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                     NAMES\nfd9a353a80bf        xiaofan666          \"java -jar /app.jar …\"   9 seconds ago       Up 8 seconds        0.0.0.0:32779-&gt;8080/tcp   xiaofan-springboot-web\n# 本地访问1\n[root@iZ2zeg4ytp0whqtmxbsqiiZ idea]# curl localhost:32779\n{\"timestamp\":\"2020-08-14T09:42:57.371+00:00\",\"status\":404,\"error\":\"Not Found\",\"message\":\"\",\"path\":\"/\"}\n# 本地访问2\n[root@iZ2zeg4ytp0whqtmxbsqiiZ idea]# [root@iZ2zeg4ytp0whqtmxbsqiiZ idea]# curl localhost:32779/hello\nhello, xiaofan\n# 远程访问（开启阿里云上的安全组哦）"}],"heights":[40],"widths":[620]}</content><styles/></table><para><coId>6081-1637224667143</coId><text/><inline-styles/><styles/></para></body></note>