<?xml version="1.0" encoding="UTF-8" standalone="no"?><note xmlns="http://note.youdao.com" file-version="0" schema-version="1.0.3"><head/><body><para><coId>9521-1634557099756</coId><text>Redis 发布订阅 (pub/sub) 是一种消息通信模式：发送者 (pub) 发送消息，订阅者 (sub) 接收消息。Redis 客户端可以订阅任意数量的频道。</text><inline-styles><font-family><from>0</from><to>6</to><value>Tahoma</value></font-family><font-family><from>6</from><to>11</to><value>微软雅黑</value></font-family><font-family><from>11</from><to>21</to><value>Tahoma</value></font-family><font-family><from>21</from><to>35</to><value>微软雅黑</value></font-family><font-family><from>35</from><to>41</to><value>Tahoma</value></font-family><font-family><from>41</from><to>50</to><value>微软雅黑</value></font-family><font-family><from>50</from><to>56</to><value>Tahoma</value></font-family><font-family><from>56</from><to>61</to><value>微软雅黑</value></font-family><font-family><from>61</from><to>67</to><value>Tahoma</value></font-family><font-family><from>67</from><to>82</to><value>微软雅黑</value></font-family></inline-styles><styles><align>justify</align></styles></para><para><coId>5295-1634558478066</coId><text>1、客户端可以订阅频道如下图</text><inline-styles><font-family><from>0</from><to>14</to><value>宋体</value></font-family></inline-styles><styles><align>justify</align></styles></para><image><coId>8980-1634558493755</coId><source>https://note.youdao.com/yws/res/14099/02F90DC9D443407CB1175BCC1952ECA3</source><text/><styles><align>justify</align><width>346</width><height>144</height></styles></image><para><coId>6979-1634558493755</coId><text/><inline-styles/><styles><align>justify</align></styles></para><para><coId>3216-1634558493755</coId><text>2、当给这个频道发布消息后，消息就会发送给订阅的客户端</text><inline-styles><font-family><from>0</from><to>27</to><value>宋体</value></font-family></inline-styles><styles><align>justify</align></styles></para><image><coId>6992-1634558493755</coId><source>https://note.youdao.com/yws/res/14093/7BCD092C39EE4ECCA86E07B8457E6ED2</source><text/><styles><align>justify</align><width>315</width><height>202</height></styles></image><para><coId>1831-1634558493755</coId><text> </text><inline-styles><font-family><from>0</from><to>1</to><value>SimSun</value></font-family></inline-styles><styles><align>justify</align></styles></para><para><coId>9946-1634558501853</coId><text>发布订阅命令行实现</text><inline-styles><bold><from>0</from><to>9</to><value>true</value></bold><font-family><from>0</from><to>9</to><value>黑体</value></font-family><font-size><from>0</from><to>9</to><value>21</value></font-size></inline-styles><styles><align>justify</align></styles></para><para><coId>9012-1634558944388</coId><text>1、 打开一个客户端订阅channel1</text><inline-styles><font-family><from>0</from><to>3</to><value>SimSun</value></font-family><font-family><from>3</from><to>12</to><value>微软雅黑</value></font-family><font-family><from>12</from><to>19</to><value>宋体</value></font-family><font-family><from>19</from><to>20</to><value>SimSun</value></font-family></inline-styles><styles/></para><para><coId>6083-1634558944388</coId><text>SUBSCRIBE channel1</text><inline-styles><font-size><from>0</from><to>18</to><value>13</value></font-size><back-color><from>0</from><to>18</to><value>#ffffff</value></back-color></inline-styles><styles/></para><image><coId>7950-1634558944388</coId><source>https://note.youdao.com/yws/res/14100/0B40B7FC00E845B6854FFBDC28DC3723</source><text/><styles><width>300</width><height>86</height></styles></image><para><coId>2080-1634558944388</coId><text> </text><inline-styles><font-family><from>0</from><to>1</to><value>SimSun</value></font-family></inline-styles><styles/></para><para><coId>9194-1634558944388</coId><text>2、打开另一个客户端，给channel1发布消息hello</text><inline-styles><font-family><from>0</from><to>1</to><value>宋体</value></font-family><font-family><from>1</from><to>12</to><value>微软雅黑</value></font-family><font-family><from>12</from><to>19</to><value>宋体</value></font-family><font-family><from>19</from><to>20</to><value>SimSun</value></font-family><font-family><from>20</from><to>24</to><value>微软雅黑</value></font-family><font-family><from>24</from><to>29</to><value>宋体</value></font-family></inline-styles><styles/></para><para><coId>6570-1634558944388</coId><text>publish channel1 hello</text><inline-styles><font-family><from>0</from><to>22</to><value>SimSun</value></font-family></inline-styles><styles><text-indent>1</text-indent></styles></para><image><coId>6676-1634558944388</coId><source>https://note.youdao.com/yws/res/14102/F18136DEFD5F4DE487EA409C2F9B6A06</source><text/><styles><width>318</width><height>33</height></styles></image><para><coId>6092-1634558944388</coId><text> </text><inline-styles><font-family><from>0</from><to>1</to><value>SimSun</value></font-family></inline-styles><styles><text-indent>1</text-indent></styles></para><para><coId>7127-1634558944388</coId><text>返回的1是订阅者数量</text><inline-styles><font-family><from>0</from><to>3</to><value>微软雅黑</value></font-family><font-family><from>3</from><to>4</to><value>宋体</value></font-family><font-family><from>4</from><to>10</to><value>微软雅黑</value></font-family></inline-styles><styles><text-indent>1</text-indent></styles></para><para><coId>9675-1634558944388</coId><text>3、打开第一个客户端可以看到发送的消息</text><inline-styles><font-family><from>0</from><to>1</to><value>宋体</value></font-family><font-family><from>1</from><to>19</to><value>微软雅黑</value></font-family></inline-styles><styles/></para><image><coId>4017-1634558944389</coId><source>https://note.youdao.com/yws/res/14096/819FA1BED44343B9B08D5C42FECE08BE</source><text/><styles><width>319</width><height>131</height></styles></image><para><coId>8495-1634558944389</coId><text> </text><inline-styles><font-family><from>0</from><to>1</to><value>SimSun</value></font-family></inline-styles><styles/></para><para><coId>6840-1634558944389</coId><text>注：发布的消息没有持久化，如果在订阅的客户端收不到hello，只能收到订阅后发布的消息</text><inline-styles><font-family><from>0</from><to>25</to><value>微软雅黑</value></font-family><font-family><from>25</from><to>30</to><value>宋体</value></font-family><font-family><from>30</from><to>43</to><value>微软雅黑</value></font-family></inline-styles><styles/></para><para><coId>2380-1634558502013</coId><text/><inline-styles/><styles><align>justify</align></styles></para></body></note>