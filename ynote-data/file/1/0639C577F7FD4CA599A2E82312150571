<?xml version="1.0" encoding="UTF-8" standalone="no"?><note xmlns="http://note.youdao.com" file-version="0" schema-version="1.0.3"><head/><body><para><coId>7770-1640752594113</coId><text>1、新建springcloud-order9001-hystrix-dashboard 模块</text><inline-styles><font-size><from>0</from><to>46</to><value>16</value></font-size></inline-styles><styles/></para><para><coId>6325-1640756439298</coId><text>2、pom</text><inline-styles><font-size><from>0</from><to>5</to><value>16</value></font-size></inline-styles><styles/></para><table><coId>3927-1640756448156</coId><resource-list/><content>{"cells":[{"value":"&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;!--eureka client--&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n&lt;/dependency&gt;","inlineStyles":{"font-size":[{"from":0,"to":12,"value":13},{"from":13,"to":61,"value":13},{"from":62,"to":121,"value":13},{"from":122,"to":135,"value":13},{"from":136,"to":148,"value":13},{"from":149,"to":197,"value":13},{"from":198,"to":263,"value":13},{"from":264,"to":277,"value":13},{"from":278,"to":298,"value":13},{"from":299,"to":311,"value":13},{"from":312,"to":360,"value":13},{"from":361,"to":432,"value":13},{"from":433,"to":446,"value":13}],"color":[{"from":0,"to":12,"value":"#e8bf6a"},{"from":13,"to":26,"value":"#e8bf6a"},{"from":26,"to":51,"value":"#a9b7c6"},{"from":51,"to":61,"value":"#e8bf6a"},{"from":62,"to":78,"value":"#e8bf6a"},{"from":78,"to":108,"value":"#a9b7c6"},{"from":108,"to":121,"value":"#e8bf6a"},{"from":122,"to":135,"value":"#e8bf6a"},{"from":136,"to":148,"value":"#e8bf6a"},{"from":149,"to":162,"value":"#e8bf6a"},{"from":162,"to":187,"value":"#a9b7c6"},{"from":187,"to":197,"value":"#e8bf6a"},{"from":198,"to":214,"value":"#e8bf6a"},{"from":214,"to":250,"value":"#a9b7c6"},{"from":250,"to":263,"value":"#e8bf6a"},{"from":264,"to":277,"value":"#e8bf6a"},{"from":278,"to":298,"value":"#808080"},{"from":299,"to":311,"value":"#e8bf6a"},{"from":312,"to":325,"value":"#e8bf6a"},{"from":325,"to":350,"value":"#a9b7c6"},{"from":350,"to":360,"value":"#e8bf6a"},{"from":361,"to":377,"value":"#e8bf6a"},{"from":377,"to":419,"value":"#a9b7c6"},{"from":419,"to":432,"value":"#e8bf6a"},{"from":433,"to":446,"value":"#e8bf6a"}],"back-color":[{"from":0,"to":12,"value":"#2b2b2b"},{"from":13,"to":61,"value":"#2b2b2b"},{"from":62,"to":121,"value":"#2b2b2b"},{"from":122,"to":135,"value":"#2b2b2b"},{"from":136,"to":148,"value":"#2b2b2b"},{"from":149,"to":197,"value":"#2b2b2b"},{"from":198,"to":263,"value":"#2b2b2b"},{"from":264,"to":277,"value":"#2b2b2b"},{"from":278,"to":298,"value":"#2b2b2b"},{"from":299,"to":311,"value":"#2b2b2b"},{"from":312,"to":360,"value":"#2b2b2b"},{"from":361,"to":432,"value":"#2b2b2b"},{"from":433,"to":446,"value":"#2b2b2b"}]}}],"heights":[40],"widths":[620]}</content><styles/></table><para><coId>4480-1640756448156</coId><text>3、yml只需配置端口</text><inline-styles><font-size><from>0</from><to>11</to><value>16</value></font-size></inline-styles><styles/></para><para><coId>4450-1640756506247</coId><text>4、配置主类开启dashboard注解支持@SpringBootApplication</text><inline-styles><font-size><from>0</from><to>21</to><value>16</value></font-size><font-size><from>21</from><to>43</to><value>13</value></font-size><color><from>21</from><to>43</to><value>#bbb529</value></color><back-color><from>21</from><to>43</to><value>#2b2b2b</value></back-color></inline-styles><styles/></para><para><coId>5382-1640756530437</coId><text>@EnableHystrixDashboard</text><inline-styles><font-size><from>0</from><to>23</to><value>13</value></font-size><color><from>0</from><to>23</to><value>#bbb529</value></color><back-color><from>0</from><to>23</to><value>#2b2b2b</value></back-color></inline-styles><styles/></para><para><coId>7768-1640756524953</coId><text>5、测试打开localhost:9001/hystrix</text><inline-styles><font-size><from>0</from><to>28</to><value>16</value></font-size></inline-styles><styles/></para><para><coId>7411-1640757922790</coId><text/><inline-styles/><styles/></para><para><coId>7260-1640756463118</coId><text>注意：所有微服务提供者都需要安装监控依赖配置spring-boot-starter-actuator</text><inline-styles><font-size><from>0</from><to>22</to><value>16</value></font-size><font-size><from>22</from><to>50</to><value>13</value></font-size><color><from>0</from><to>50</to><value>#df402a</value></color><back-color><from>22</from><to>50</to><value>#2b2b2b</value></back-color></inline-styles><styles/></para><para><coId>3154-1640756463150</coId><text>6、新版本springcloud需要在payment服务提供方主函数加入</text><inline-styles><font-size><from>0</from><to>36</to><value>16</value></font-size></inline-styles><styles/></para><table><coId>5692-1640757982753</coId><resource-list/><content>{"cells":[{"value":"    /**\n     * 此配置是为了服务监控而配置，与服务容错本身无关，springcloud升级后的坑\n     * ServletRegistrationBean因为springboot的默认路径不是/hystrix.stream\n     * 只要在自己的项目里配置下面的Servlet就可以了\n     * @return\n     */\n    @Bean\n    public ServletRegistrationBean getServlet() {\n        HystrixMetricsStreamServlet streamServlet = new HystrixMetricsStreamServlet();\n        ServletRegistrationBean registrationBean = new ServletRegistrationBean(streamServlet);\n        registrationBean.setLoadOnStartup(1);\n        registrationBean.addUrlMappings(\"/hystrix.stream\");\n        registrationBean.setName(\"HystrixMetricsStreamServlet\");\n        return registrationBean;\n    }"}],"heights":[40],"widths":[620]}</content><styles/></table><para><coId>5243-1640757933950</coId><text/><inline-styles/><styles/></para><attach><coId>4028-1640767395687</coId><source>https://note.youdao.com/yws/res/16232/E3818C093BDD46BD91BC286EEEF3FD1E</source><resource>https://note.youdao.com/yws/res/16233/6F76CA9446624DCFBA298B76D6D7781D</resource><filename>springcloud.zip</filename><filelength>92821</filelength><styles/></attach><para><coId>4687-1640756463181</coId><text/><inline-styles/><styles/></para></body></note>