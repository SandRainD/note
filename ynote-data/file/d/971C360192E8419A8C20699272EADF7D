<?xml version="1.0" encoding="UTF-8" standalone="no"?><note xmlns="http://note.youdao.com" file-version="0" schema-version="1.0.3"><head/><body><para><coId>4737-1623241115014</coId><text>默认 ID_WORKER 全局唯一id</text><inline-styles/><styles/></para><para><coId>7443-1623330364730</coId><text>分布式系统唯一id生成：https://www.cnblogs.com/haoxinyue/p/5208136.html</text><inline-styles/><styles/></para><para><coId>1382-1623330364730</coId><text>雪花算法：</text><inline-styles/><styles/></para><para><coId>3091-1623330364730</coId><text>snowflflake是Twitter开源的分布式ID生成算法，结果是一个long型的ID。其核心思想是：使用41bit作为毫秒数，10bit作为机器的ID（5个bit是数据中心，5个bit的机器ID），12bit作为毫秒内的流水号（意味着每个节点在每毫秒可以产生 4096 个 ID），最后还有一个符号位，永远是0。可以保证几乎全球唯一！</text><inline-styles/><styles/></para><para><coId>4331-1623330364730</coId><text>主键自增</text><inline-styles/><styles/></para><para><coId>8218-1623330364730</coId><text>我们需要配置主键自增：</text><inline-styles/><styles/></para><para><coId>9873-1623330364730</coId><text/><inline-styles/><styles/></para><para><coId>8461-1623330364730</coId><text>1、实体类字段上 @TableId(type = IdType.AUTO)</text><inline-styles/><styles/></para><para><coId>7411-1623330364730</coId><text>2、数据库字段一定要是自增！</text><inline-styles/><styles/></para><para><coId>8591-1623330364730</coId><text>3、再次测试插入即可！</text><inline-styles/><styles/></para><code><coId>9624-1623330418061</coId><text>//源码解释
public enum IdType {
AUTO(0), // 数据库id自增
NONE(1), // 未设置主键
INPUT(2), // 手动输入
ID_WORKER(3), // 默认的全局唯一id
UUID(4), // 全局唯一id uuid
ID_WORKER_STR(5); //ID_WORKER 字符串表示法
}
</text><inline-styles><font-family><from>40</from><to>43</to><value>NSimSun</value></font-family><font-family><from>45</from><to>47</to><value>NSimSun</value></font-family><font-family><from>60</from><to>65</to><value>NSimSun</value></font-family><font-family><from>79</from><to>83</to><value>NSimSun</value></font-family><font-family><from>101</from><to>108</to><value>NSimSun</value></font-family><font-family><from>123</from><to>127</to><value>NSimSun</value></font-family><font-family><from>165</from><to>171</to><value>NSimSun</value></font-family><font-size><from>7</from><to>27</to><value>11</value></font-size><font-size><from>28</from><to>47</to><value>11</value></font-size><font-size><from>48</from><to>65</to><value>11</value></font-size><font-size><from>66</from><to>83</to><value>11</value></font-size><font-size><from>84</from><to>110</to><value>11</value></font-size><font-size><from>111</from><to>134</to><value>11</value></font-size><font-size><from>135</from><to>171</to><value>11</value></font-size><font-size><from>172</from><to>173</to><value>11</value></font-size><color><from>7</from><to>19</to><value>#770088</value></color><color><from>19</from><to>26</to><value>#0000ff</value></color><color><from>26</from><to>27</to><value>#333333</value></color><color><from>32</from><to>33</to><value>#333333</value></color><color><from>33</from><to>34</to><value>#116644</value></color><color><from>34</from><to>37</to><value>#333333</value></color><color><from>37</from><to>47</to><value>#aa5500</value></color><color><from>52</from><to>53</to><value>#333333</value></color><color><from>53</from><to>54</to><value>#116644</value></color><color><from>54</from><to>57</to><value>#333333</value></color><color><from>57</from><to>65</to><value>#aa5500</value></color><color><from>71</from><to>72</to><value>#333333</value></color><color><from>72</from><to>73</to><value>#116644</value></color><color><from>73</from><to>76</to><value>#333333</value></color><color><from>76</from><to>83</to><value>#aa5500</value></color><color><from>93</from><to>94</to><value>#333333</value></color><color><from>94</from><to>95</to><value>#116644</value></color><color><from>95</from><to>98</to><value>#333333</value></color><color><from>98</from><to>110</to><value>#aa5500</value></color><color><from>115</from><to>116</to><value>#333333</value></color><color><from>116</from><to>117</to><value>#116644</value></color><color><from>117</from><to>120</to><value>#333333</value></color><color><from>120</from><to>134</to><value>#aa5500</value></color><color><from>148</from><to>149</to><value>#333333</value></color><color><from>149</from><to>150</to><value>#116644</value></color><color><from>150</from><to>153</to><value>#333333</value></color><color><from>153</from><to>171</to><value>#aa5500</value></color><color><from>172</from><to>173</to><value>#333333</value></color></inline-styles><styles/><language>java</language><theme>tomorrow</theme></code><para><coId>2010-1623330418061</coId><text/><inline-styles/><styles/></para></body></note>