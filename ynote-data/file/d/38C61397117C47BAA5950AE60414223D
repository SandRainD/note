<?xml version="1.0" encoding="UTF-8" standalone="no"?><note xmlns="http://note.youdao.com" file-version="0" schema-version="1.0.3"><head/><body><para><coId>4982-1640839112508</coId><text>微服务意味着要将单体应用中的业务拆分成一个个子服务，每个服务的粒度相对较小，因此系统中会出现大量的服务。由于每个服都需要必要的配置信息才能运行，所以一套集中式的、动态的配置管理设施是必不可少的。</text><inline-styles/><styles/></para><para><coId>2317-1640839329942</coId><text>SpringCloud提供了ConfigServer来解决这个问题，我们每一个微服务自己带着一个application.yml</text><inline-styles/><styles/></para><para><coId>1932-1640839329942</coId><text>SpringCloud Config为微服务架构中的微服务提供集中化的外部配置支持，配置服务器为各个不同微服务应用的所有环境提供了一个中心化的外部配置。</text><inline-styles/><styles/></para><para><coId>6186-1640839353165</coId><text/><inline-styles/><styles/></para><para><coId>7341-1640839353667</coId><text>SpringCloud Config分为服务端和客户端两部分。</text><inline-styles><font-size><from>0</from><to>31</to><value>16</value></font-size></inline-styles><styles/></para><para><coId>4021-1640839593546</coId><text>服务端也称为分布式配置中心，它是一个独立的微服务应用，用来连接配置服务器并为客户端提供获取配置信息，加密/解密信息等访问接口</text><inline-styles><font-size><from>0</from><to>62</to><value>16</value></font-size></inline-styles><styles/></para><para><coId>3437-1640839593546</coId><text>客户端则是通过指定的配置中心来管理应用资源，以及与业务相关的配置内容，并在启动的时候从配置中心获取和加载配置信息配置服务器默认采用git来存储配置信息，这样就有助于对环境配置进行版本管理，并且可以通过git客户端工具来方便的管理和访问配置内容</text><inline-styles><font-size><from>0</from><to>121</to><value>16</value></font-size></inline-styles><styles/></para><para><coId>8360-1640839593546</coId><text/><inline-styles/><styles/></para><para><coId>8188-1640839353699</coId><text/><inline-styles/><styles/></para><heading compat="true" level="1"><coId>2346-1640839353746</coId><text>Config服务端配置</text><inline-styles><bold><from>0</from><to>11</to><value>true</value></bold><font-size><from>0</from><to>11</to><value>28</value></font-size></inline-styles><styles/></heading><para><coId>9520-1640839790110</coId><text>1、创建新的module springcloud-config3344</text><inline-styles><font-size><from>0</from><to>35</to><value>16</value></font-size></inline-styles><styles/></para><para><coId>5821-1640863047118</coId><text>2、pom</text><inline-styles><font-size><from>0</from><to>5</to><value>16</value></font-size></inline-styles><styles/></para><table><coId>4050-1640863054173</coId><resource-list/><content>{"cells":[{"value":" &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!--eureka client--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- 引入自己定义的api通用包，可以使用Payment支付Entity --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.idea.springcloud&lt;/groupId&gt;\n        &lt;artifactId&gt;cloud-api-commons&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--web--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!--一般基础通用配置--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;","inlineStyles":{"font-family":[{"from":344,"to":351,"value":"SimSun"},{"from":354,"to":362,"value":"SimSun"},{"from":369,"to":371,"value":"SimSun"},{"from":878,"to":886,"value":"SimSun"}],"font-size":[{"from":0,"to":13,"value":13},{"from":14,"to":66,"value":13},{"from":67,"to":126,"value":13},{"from":127,"to":144,"value":13},{"from":145,"to":169,"value":13},{"from":170,"to":186,"value":13},{"from":187,"to":239,"value":13},{"from":240,"to":315,"value":13},{"from":316,"to":333,"value":13},{"from":335,"to":381,"value":13},{"from":382,"to":398,"value":13},{"from":399,"to":446,"value":13},{"from":447,"to":497,"value":13},{"from":498,"to":543,"value":13},{"from":544,"to":561,"value":13},{"from":562,"to":576,"value":13},{"from":577,"to":593,"value":13},{"from":594,"to":645,"value":13},{"from":646,"to":702,"value":13},{"from":703,"to":720,"value":13},{"from":721,"to":737,"value":13},{"from":738,"to":789,"value":13},{"from":790,"to":851,"value":13},{"from":852,"to":869,"value":13},{"from":870,"to":889,"value":13},{"from":890,"to":906,"value":13},{"from":907,"to":958,"value":13},{"from":959,"to":1012,"value":13},{"from":1013,"to":1043,"value":13},{"from":1044,"to":1077,"value":13},{"from":1078,"to":1095,"value":13},{"from":1096,"to":1112,"value":13},{"from":1113,"to":1157,"value":13},{"from":1158,"to":1197,"value":13},{"from":1198,"to":1231,"value":13},{"from":1232,"to":1249,"value":13},{"from":1250,"to":1266,"value":13},{"from":1267,"to":1318,"value":13},{"from":1319,"to":1376,"value":13},{"from":1377,"to":1404,"value":13},{"from":1405,"to":1422,"value":13},{"from":1423,"to":1438,"value":13}],"color":[{"from":0,"to":1,"value":"#a9b7c6"},{"from":1,"to":13,"value":"#e8bf6a"},{"from":14,"to":31,"value":"#e8bf6a"},{"from":31,"to":56,"value":"#a9b7c6"},{"from":56,"to":66,"value":"#e8bf6a"},{"from":67,"to":87,"value":"#e8bf6a"},{"from":87,"to":113,"value":"#a9b7c6"},{"from":113,"to":126,"value":"#e8bf6a"},{"from":127,"to":144,"value":"#e8bf6a"},{"from":145,"to":149,"value":"#e8bf6a"},{"from":149,"to":169,"value":"#808080"},{"from":170,"to":174,"value":"#808080"},{"from":174,"to":186,"value":"#e8bf6a"},{"from":187,"to":204,"value":"#e8bf6a"},{"from":204,"to":229,"value":"#a9b7c6"},{"from":229,"to":239,"value":"#e8bf6a"},{"from":240,"to":260,"value":"#e8bf6a"},{"from":260,"to":302,"value":"#a9b7c6"},{"from":302,"to":315,"value":"#e8bf6a"},{"from":316,"to":333,"value":"#e8bf6a"},{"from":335,"to":339,"value":"#e8bf6a"},{"from":339,"to":381,"value":"#808080"},{"from":382,"to":386,"value":"#808080"},{"from":386,"to":398,"value":"#e8bf6a"},{"from":399,"to":416,"value":"#e8bf6a"},{"from":416,"to":436,"value":"#a9b7c6"},{"from":436,"to":446,"value":"#e8bf6a"},{"from":447,"to":467,"value":"#e8bf6a"},{"from":467,"to":484,"value":"#a9b7c6"},{"from":484,"to":497,"value":"#e8bf6a"},{"from":498,"to":515,"value":"#e8bf6a"},{"from":515,"to":533,"value":"#a9b7c6"},{"from":533,"to":543,"value":"#e8bf6a"},{"from":544,"to":561,"value":"#e8bf6a"},{"from":562,"to":566,"value":"#e8bf6a"},{"from":566,"to":576,"value":"#808080"},{"from":577,"to":581,"value":"#808080"},{"from":581,"to":593,"value":"#e8bf6a"},{"from":594,"to":611,"value":"#e8bf6a"},{"from":611,"to":635,"value":"#a9b7c6"},{"from":635,"to":645,"value":"#e8bf6a"},{"from":646,"to":666,"value":"#e8bf6a"},{"from":666,"to":689,"value":"#a9b7c6"},{"from":689,"to":702,"value":"#e8bf6a"},{"from":703,"to":720,"value":"#e8bf6a"},{"from":721,"to":737,"value":"#e8bf6a"},{"from":738,"to":755,"value":"#e8bf6a"},{"from":755,"to":779,"value":"#a9b7c6"},{"from":779,"to":789,"value":"#e8bf6a"},{"from":790,"to":810,"value":"#e8bf6a"},{"from":810,"to":838,"value":"#a9b7c6"},{"from":838,"to":851,"value":"#e8bf6a"},{"from":852,"to":869,"value":"#e8bf6a"},{"from":870,"to":874,"value":"#e8bf6a"},{"from":874,"to":889,"value":"#808080"},{"from":890,"to":894,"value":"#808080"},{"from":894,"to":906,"value":"#e8bf6a"},{"from":907,"to":924,"value":"#e8bf6a"},{"from":924,"to":948,"value":"#a9b7c6"},{"from":948,"to":958,"value":"#e8bf6a"},{"from":959,"to":979,"value":"#e8bf6a"},{"from":979,"to":999,"value":"#a9b7c6"},{"from":999,"to":1012,"value":"#e8bf6a"},{"from":1013,"to":1028,"value":"#e8bf6a"},{"from":1028,"to":1035,"value":"#a9b7c6"},{"from":1035,"to":1043,"value":"#e8bf6a"},{"from":1044,"to":1062,"value":"#e8bf6a"},{"from":1062,"to":1066,"value":"#a9b7c6"},{"from":1066,"to":1077,"value":"#e8bf6a"},{"from":1078,"to":1095,"value":"#e8bf6a"},{"from":1096,"to":1112,"value":"#e8bf6a"},{"from":1113,"to":1130,"value":"#e8bf6a"},{"from":1130,"to":1147,"value":"#a9b7c6"},{"from":1147,"to":1157,"value":"#e8bf6a"},{"from":1158,"to":1178,"value":"#e8bf6a"},{"from":1178,"to":1184,"value":"#a9b7c6"},{"from":1184,"to":1197,"value":"#e8bf6a"},{"from":1198,"to":1216,"value":"#e8bf6a"},{"from":1216,"to":1220,"value":"#a9b7c6"},{"from":1220,"to":1231,"value":"#e8bf6a"},{"from":1232,"to":1249,"value":"#e8bf6a"},{"from":1250,"to":1266,"value":"#e8bf6a"},{"from":1267,"to":1284,"value":"#e8bf6a"},{"from":1284,"to":1308,"value":"#a9b7c6"},{"from":1308,"to":1318,"value":"#e8bf6a"},{"from":1319,"to":1339,"value":"#e8bf6a"},{"from":1339,"to":1363,"value":"#a9b7c6"},{"from":1363,"to":1376,"value":"#e8bf6a"},{"from":1377,"to":1392,"value":"#e8bf6a"},{"from":1392,"to":1396,"value":"#a9b7c6"},{"from":1396,"to":1404,"value":"#e8bf6a"},{"from":1405,"to":1422,"value":"#e8bf6a"},{"from":1423,"to":1438,"value":"#e8bf6a"}],"back-color":[{"from":0,"to":13,"value":"#2b2b2b"},{"from":14,"to":66,"value":"#2b2b2b"},{"from":67,"to":126,"value":"#2b2b2b"},{"from":127,"to":144,"value":"#2b2b2b"},{"from":145,"to":169,"value":"#2b2b2b"},{"from":170,"to":186,"value":"#2b2b2b"},{"from":187,"to":239,"value":"#2b2b2b"},{"from":240,"to":315,"value":"#2b2b2b"},{"from":316,"to":333,"value":"#2b2b2b"},{"from":335,"to":381,"value":"#2b2b2b"},{"from":382,"to":398,"value":"#2b2b2b"},{"from":399,"to":446,"value":"#2b2b2b"},{"from":447,"to":497,"value":"#2b2b2b"},{"from":498,"to":543,"value":"#2b2b2b"},{"from":544,"to":561,"value":"#2b2b2b"},{"from":562,"to":576,"value":"#2b2b2b"},{"from":577,"to":593,"value":"#2b2b2b"},{"from":594,"to":645,"value":"#2b2b2b"},{"from":646,"to":702,"value":"#2b2b2b"},{"from":703,"to":720,"value":"#2b2b2b"},{"from":721,"to":737,"value":"#2b2b2b"},{"from":738,"to":789,"value":"#2b2b2b"},{"from":790,"to":851,"value":"#2b2b2b"},{"from":852,"to":869,"value":"#2b2b2b"},{"from":870,"to":889,"value":"#2b2b2b"},{"from":890,"to":906,"value":"#2b2b2b"},{"from":907,"to":958,"value":"#2b2b2b"},{"from":959,"to":1012,"value":"#2b2b2b"},{"from":1013,"to":1043,"value":"#2b2b2b"},{"from":1044,"to":1077,"value":"#2b2b2b"},{"from":1078,"to":1095,"value":"#2b2b2b"},{"from":1096,"to":1112,"value":"#2b2b2b"},{"from":1113,"to":1157,"value":"#2b2b2b"},{"from":1158,"to":1197,"value":"#2b2b2b"},{"from":1198,"to":1231,"value":"#2b2b2b"},{"from":1232,"to":1249,"value":"#2b2b2b"},{"from":1250,"to":1266,"value":"#2b2b2b"},{"from":1267,"to":1318,"value":"#2b2b2b"},{"from":1319,"to":1376,"value":"#2b2b2b"},{"from":1377,"to":1404,"value":"#2b2b2b"},{"from":1405,"to":1422,"value":"#2b2b2b"},{"from":1423,"to":1438,"value":"#2b2b2b"}]}}],"heights":[40],"widths":[620]}</content><styles/></table><para><coId>4051-1640839790300</coId><text>3、yml</text><inline-styles><font-size><from>0</from><to>5</to><value>16</value></font-size></inline-styles><styles/></para><table><coId>8217-1640863083928</coId><resource-list/><content>{"cells":[{"value":"server:\n  port: 3344\nspring:\n  application:\n    name: springcloud-config-center\n  cloud:\n    config:\n      server:\n        git:\n          uri: https://github.com/SandRainD/springcloud-config.git\n          search-paths:\n            - springcluod-config\n      label: main\neureka:\n  client:\n    service-url:\n      defaultZone: http://localhost:7001/eureka","inlineStyles":{"font-size":[{"from":0,"to":7,"value":13},{"from":8,"to":20,"value":13},{"from":21,"to":28,"value":13},{"from":29,"to":43,"value":13},{"from":44,"to":79,"value":13},{"from":80,"to":88,"value":13},{"from":89,"to":100,"value":13},{"from":101,"to":114,"value":13},{"from":115,"to":127,"value":13},{"from":128,"to":194,"value":13},{"from":195,"to":218,"value":13},{"from":219,"to":251,"value":13},{"from":252,"to":269,"value":13},{"from":270,"to":277,"value":13},{"from":278,"to":287,"value":13},{"from":288,"to":304,"value":13},{"from":305,"to":352,"value":13}],"color":[{"from":0,"to":6,"value":"#cc7832"},{"from":6,"to":7,"value":"#a9b7c6"},{"from":8,"to":10,"value":"#a9b7c6"},{"from":10,"to":14,"value":"#cc7832"},{"from":14,"to":16,"value":"#a9b7c6"},{"from":16,"to":20,"value":"#6897bb"},{"from":21,"to":27,"value":"#cc7832"},{"from":27,"to":28,"value":"#a9b7c6"},{"from":29,"to":31,"value":"#a9b7c6"},{"from":31,"to":42,"value":"#cc7832"},{"from":42,"to":43,"value":"#a9b7c6"},{"from":44,"to":48,"value":"#a9b7c6"},{"from":48,"to":52,"value":"#cc7832"},{"from":52,"to":79,"value":"#a9b7c6"},{"from":80,"to":82,"value":"#a9b7c6"},{"from":82,"to":87,"value":"#cc7832"},{"from":87,"to":88,"value":"#a9b7c6"},{"from":89,"to":93,"value":"#a9b7c6"},{"from":93,"to":99,"value":"#cc7832"},{"from":99,"to":100,"value":"#a9b7c6"},{"from":101,"to":107,"value":"#a9b7c6"},{"from":107,"to":113,"value":"#cc7832"},{"from":113,"to":114,"value":"#a9b7c6"},{"from":115,"to":123,"value":"#a9b7c6"},{"from":123,"to":126,"value":"#cc7832"},{"from":126,"to":127,"value":"#a9b7c6"},{"from":128,"to":138,"value":"#a9b7c6"},{"from":138,"to":141,"value":"#cc7832"},{"from":141,"to":194,"value":"#a9b7c6"},{"from":195,"to":205,"value":"#a9b7c6"},{"from":205,"to":217,"value":"#cc7832"},{"from":217,"to":218,"value":"#a9b7c6"},{"from":219,"to":251,"value":"#a9b7c6"},{"from":252,"to":258,"value":"#a9b7c6"},{"from":258,"to":263,"value":"#cc7832"},{"from":263,"to":269,"value":"#a9b7c6"},{"from":270,"to":276,"value":"#cc7832"},{"from":276,"to":277,"value":"#a9b7c6"},{"from":278,"to":280,"value":"#a9b7c6"},{"from":280,"to":286,"value":"#cc7832"},{"from":286,"to":287,"value":"#a9b7c6"},{"from":288,"to":292,"value":"#a9b7c6"},{"from":292,"to":303,"value":"#cc7832"},{"from":303,"to":304,"value":"#a9b7c6"},{"from":305,"to":311,"value":"#a9b7c6"},{"from":311,"to":322,"value":"#cc7832"},{"from":322,"to":352,"value":"#a9b7c6"}],"back-color":[{"from":0,"to":7,"value":"#2b2b2b"},{"from":8,"to":20,"value":"#2b2b2b"},{"from":21,"to":28,"value":"#2b2b2b"},{"from":29,"to":43,"value":"#2b2b2b"},{"from":44,"to":79,"value":"#2b2b2b"},{"from":80,"to":88,"value":"#2b2b2b"},{"from":89,"to":100,"value":"#2b2b2b"},{"from":101,"to":114,"value":"#2b2b2b"},{"from":115,"to":127,"value":"#2b2b2b"},{"from":128,"to":194,"value":"#2b2b2b"},{"from":195,"to":218,"value":"#2b2b2b"},{"from":219,"to":251,"value":"#2b2b2b"},{"from":252,"to":269,"value":"#2b2b2b"},{"from":270,"to":277,"value":"#2b2b2b"},{"from":278,"to":287,"value":"#2b2b2b"},{"from":288,"to":304,"value":"#2b2b2b"},{"from":305,"to":352,"value":"#2b2b2b"}]}}],"heights":[40],"widths":[620]}</content><styles/></table><para><coId>2181-1640862380349</coId><text>4、编写主类@EnableConfigServer</text><inline-styles><font-size><from>0</from><to>6</to><value>16</value></font-size><font-size><from>6</from><to>25</to><value>13</value></font-size><color><from>6</from><to>25</to><value>#bbb529</value></color><back-color><from>6</from><to>25</to><value>#2b2b2b</value></back-color></inline-styles><styles/></para><attach><coId>8349-1640863136017</coId><source>https://note.youdao.com/yws/res/16356/C24262FC75C740BAB52506B8DD5D986B</source><resource>https://note.youdao.com/yws/res/16355/4078FDED5BD6406F834B8DC558ED7197</resource><filename>springcloud-config3344.zip</filename><filelength>6160</filelength><styles/></attach><para><coId>7340-1640863135024</coId><text/><inline-styles/><styles/></para><para><coId>3200-1640839353808</coId><text>配置读取规则：</text><inline-styles><font-size><from>0</from><to>7</to><value>16</value></font-size></inline-styles><styles/></para><image><coId>6923-1640862817600</coId><source>https://note.youdao.com/yws/res/16336/F602047553184D399DAB4FAFDB9514E8</source><text/><styles><width>620</width><height>140</height></styles></image><para><coId>5466-1640862834949</coId><text/><inline-styles/><styles/></para><image><coId>1325-1640862834949</coId><source>https://note.youdao.com/yws/res/16338/572D4A398B7D405C97237E27A6440BCB</source><text/><styles><width>620</width><height>101</height></styles></image><para><coId>1000-1640862841585</coId><text/><inline-styles/><styles/></para><image><coId>3199-1640862841585</coId><source>https://note.youdao.com/yws/res/16340/6439606534104242AC009CC6F1A991D1</source><text/><styles><width>620</width><height>74</height></styles></image><para><coId>9690-1640839598301</coId><text>label：分支(branch)</text><inline-styles/><styles/></para><para><coId>8927-1640862850995</coId><text>name ：服务名</text><inline-styles/><styles/></para><para><coId>7747-1640862850995</coId><text>profiles：环境(dev/test/prod)</text><inline-styles/><styles/></para><para><coId>2373-1640862850995</coId><text/><inline-styles/><styles/></para></body></note>