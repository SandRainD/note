{"2":"1","3":"Ju9C-1621846617594","4":{"version":1,"incompatibleVersion":0,"fv":"0"},"5":[{"3":"3060-1621846615933","4":{"l":"h1"},"5":[{"2":"2","3":"p5PQ-1621846617594","7":[{"8":"存储过程","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"Z7vA-1658283984650","4":{"version":1},"5":[{"2":"2","3":"o4yx-1658283984651","7":[{"8":"含义","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"：存储过程的英文是 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"Stored Procedure ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"。它的思想很简单，就是一组经过 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"预先编译 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的 SQL 语句的封装。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"8xyF-1658284036671","4":{"version":1},"5":[{"2":"2","3":"BcQL-1658284036670","7":[{"8":"执行过程：存储过程预先存储在 MySQL 服务器上，需要执行的时候，客户端只需要向服务器端发出调用存储过程的命令，服务器端就可以把预先存储好的这一系列 SQL 语句全部执行。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"4XVZ-1658284036676","4":{"version":1},"5":[{"2":"2","3":"5PnG-1658284036675","7":[{"8":"好处","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"： ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"tNtY-1658284036679","4":{"li":"2q7F-1658284159631","lt":"ordered","ll":1},"5":[{"2":"2","3":"T2qi-1658284036678","7":[{"8":"简化操作，提高了sql语句的重用性，减少了开发程序员的压力 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"Erws-1658284042562","4":{"li":"2q7F-1658284159631","lt":"ordered","ll":1},"5":[{"2":"2","3":"r8gD-1658284042560","7":[{"8":"减少操作过程中的失误，提高效率","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"Pc9I-1658284036681","4":{"li":"2q7F-1658284159631","lt":"ordered","ll":1},"5":[{"2":"2","3":"qnyx-1658284036680","7":[{"8":"减少网络传输量（客户端不需要把所有的 SQL 语句通过网络发给服务器） ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"8NRB-1658284149718","4":{"li":"2q7F-1658284159631","lt":"ordered","ll":1},"5":[{"2":"2","3":"76eJ-1658284149716","7":[{"8":"减少了 SQL 语句暴露在网上的风险，也提高了数据查询的安全性","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"fxDU-1658284036685","4":{"version":1},"5":[{"2":"2","3":"X8IV-1658284036684","7":[{"8":"和视图、函数的对比","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"7gzj-1658284036688","4":{"version":1},"5":[{"2":"2","3":"Vra5-1658284036687","7":[{"8":"它和视图有着同样的优点，清晰、安全，还可以减少网络传输量。不过它和视图不同，视图是 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"虚拟表 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，通常不对底层数据表直接操作，而存储过程是程序化的 SQL，可以 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"直接操作底层数据表 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，相比于面向集合的操作方式，能够实现一些更复杂的数据处理。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"rC9w-1658284036694","4":{"version":1},"5":[{"2":"2","3":"pIgZ-1658284036693","7":[{"8":"一旦存储过程被创建出来，使用它就像使用函数一样简单，我们直接通过调用存储过程名即可。相较于函数，存储过程是 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"没有返回值 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"bsEW-1658283985353","4":{"l":"h3"},"5":[{"2":"2","3":"5tu0-1658283985351","7":[{"8":"分类"}]}],"6":"h"},{"3":"dfNu-1658284171027","4":{"version":1},"5":[{"2":"2","3":"F1ht-1658284171025","7":[{"8":"存储过程的参数类型可以是IN、OUT和INOUT。根据这点分类如下：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"BKlJ-1658284299007","4":{"version":1},"5":[{"2":"2","3":"ZqUq-1658284299006","7":[{"8":"1、没有参数（无参数无返回） 2、仅仅带 IN 类型（有参数无返回） 3、仅仅带 OUT 类型（无参数有返回） 4、既带 IN 又带 OUT（有参数有返回） 5、带 INOUT（有参数有返回）","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"iavy-1658284299012","4":{"version":1},"5":[{"2":"2","3":"uRwg-1658284299011","7":[{"8":"注意：IN、OUT、INOUT 都可以在一个存储过程中带多个。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"uUBP-1658284171553","4":{"l":"h2"},"5":[{"2":"2","3":"EBJ4-1658284171549","7":[{"8":"创建存储过程","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"QuBf-1658284358948","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"bdsu-1658284358947","5":[{"2":"2","3":"aFye-1658284171660","7":[{"8":"CREATE PROCEDURE 存储过程名(IN|OUT|INOUT 参数名 参数类型,...) "}]}],"6":"cl"},{"3":"FqX0-1658284359204","4":{},"5":[{"2":"2","3":"2whA-1658284359203","7":[{"8":"[characteristics ...] "}]}],"6":"cl"},{"3":"zt5y-1658284359206","4":{},"5":[{"2":"2","3":"Jt59-1658284359205","7":[{"8":"BEGIN "}]}],"6":"cl"},{"3":"2ytB-1658284450300","4":{},"5":[{"2":"2","3":"ugax-1658284450298","7":[{"8":"    存储过程体 "}]}],"6":"cl"},{"3":"0cfw-1658284451928","4":{},"5":[{"2":"2","3":"ySSt-1658284451926","7":[{"8":"END "}]}],"6":"cl"}],"6":"cd"},{"3":"Accj-1658284171771","4":{"li":"mOGW-1658284490027","lt":"unordered","ll":1},"5":[{"2":"2","3":"eiI1-1658284171769","7":[{"8":"IN ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：当前参数为输入参数，也就是表示入参；存储过程只是读取这个参数的值。如果没有定义参数种类， ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"默认就是 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"IN ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"，表示输入参数。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"u1R6-1658284474139","4":{"li":"mOGW-1658284490027","lt":"unordered","ll":1},"5":[{"2":"2","3":"zK2E-1658284474138","7":[{"8":"OUT ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：当前参数为输出参数，也就是表示出参；执行完成之后，调用这个存储过程的客户端或者应用程序就可以读取这个参数返回的值了。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"lntY-1658284474144","4":{"li":"mOGW-1658284490027","lt":"unordered","ll":1},"5":[{"2":"2","3":"jyBL-1658284474143","7":[{"8":"INOUT ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：当前参数既可以为输入参数，也可以为输出参数。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"wyP3-1658284171867","4":{"version":1},"5":[{"2":"2","3":"cRWe-1658284171865","7":[{"8":"形参类型可以是 MySQL数据库中的任意类型。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"5AOX-1658284532406","4":{"version":1},"5":[{"2":"2","3":"9vUG-1658284532405","7":[{"8":"characteristics ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"表示创建存储过程时指定的对存储过程的约束条件，其取值信息如下：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Od0L-1658284544263","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"7dlV-1658284544261","5":[{"2":"2","3":"NRpC-1658283985865","7":[{"8":"LANGUAGE SQL "}]}],"6":"cl"},{"3":"bs2z-1658284544871","4":{},"5":[{"2":"2","3":"pHTa-1658284544870","7":[{"8":"| [NOT] DETERMINISTIC "}]}],"6":"cl"},{"3":"GNCA-1658284544873","4":{},"5":[{"2":"2","3":"Vu8g-1658284544872","7":[{"8":"| { CONTAINS SQL | NO SQL | READS SQL DATA | MODIFIES SQL DATA } "}]}],"6":"cl"},{"3":"PqAw-1658284544875","4":{},"5":[{"2":"2","3":"1N7S-1658284544874","7":[{"8":"| SQL SECURITY { DEFINER | INVOKER } "}]}],"6":"cl"},{"3":"15DI-1658284544878","4":{},"5":[{"2":"2","3":"9kYb-1658284544876","7":[{"8":"| COMMENT \u0027string\u0027"}]}],"6":"cl"}],"6":"cd"},{"3":"i7v5-1658284168970","4":{"li":"V8Eg-1658284586443","lt":"unordered","ll":1},"5":[{"2":"2","3":"j6fK-1658284168968","7":[{"8":"LANGUAGE SQL ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：说明存储过程执行体是由SQL语句组成的，当前系统支持的语言为SQL。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"BGlT-1658284560746","4":{"li":"V8Eg-1658284586443","lt":"unordered","ll":1},"5":[{"2":"2","3":"cxIp-1658284560745","7":[{"8":"[NOT] DETERMINISTIC ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：指明存储过程执行的结果是否确定。DETERMINISTIC表示结果是确定的。每次执行存储过程时，相同的输入会得到相同的输出。NOT DETERMINISTIC表示结果是不确定的，相同的输入可能得到不同的输出。如果没有指定任意一个值，默认为NOT DETERMINISTIC。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"MWj2-1658284560752","4":{"li":"V8Eg-1658284586443","lt":"unordered","ll":1},"5":[{"2":"2","3":"JJii-1658284560751","7":[{"8":"{ CONTAINS SQL | NO SQL | READS SQL DATA | MODIFIES SQL DATA } ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：指明子程序使用SQL语句的限制。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"sp6u-1658284560756","4":{"li":"7MtG-1658284597514","lt":"unordered","ll":1,"s":{"in":28}},"5":[{"2":"2","3":"Cx7L-1658284560755","7":[{"8":"CONTAINS SQL表示当前存储过程的子程序包含SQL语句，但是并不包含读写数据的SQL语句；","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"FkCC-1658284569320","4":{"li":"7MtG-1658284597514","lt":"unordered","ll":1,"s":{"in":28}},"5":[{"2":"2","3":"XXND-1658284569317","7":[{"8":"NO SQL表示当前存储过程的子程序中不包含任何SQL语句；","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"viDX-1658284560761","4":{"li":"7MtG-1658284597514","lt":"unordered","ll":1,"s":{"in":28}},"5":[{"2":"2","3":"S3TI-1658284560760","7":[{"8":"READS SQL DATA表示当前存储过程的子程序中包含读数据的SQL语句；","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"cgTq-1658284560763","4":{"li":"7MtG-1658284597514","lt":"unordered","ll":1,"s":{"in":28}},"5":[{"2":"2","3":"Ad6q-1658284560762","7":[{"8":"MODIFIES SQL DATA表示当前存储过程的子程序中包含写数据的SQL语句。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"KTOS-1658284560765","4":{"li":"7MtG-1658284597514","lt":"unordered","ll":1,"s":{"in":28}},"5":[{"2":"2","3":"qefJ-1658284560764","7":[{"8":"默认情况下，系统会指定为CONTAINS SQL。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"6zSs-1658284560767","4":{"li":"1ZeP-1658284636776","lt":"unordered","ll":1},"5":[{"2":"2","3":"79g4-1658284560766","7":[{"8":"SQL SECURITY { DEFINER | INVOKER } ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：执行当前存储过程的权限，即指明哪些用户能够执行当前存储过程。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"PiIO-1658284560771","4":{"li":"1ZeP-1658284636776","lt":"unordered","ll":2},"5":[{"2":"2","3":"FEsq-1658284560770","7":[{"8":"DEFINER ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"表示只有当前存储过程的创建者或者定义者才能执行当前存储过程；","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"WjUq-1658284560773","4":{"li":"1ZeP-1658284636776","lt":"unordered","ll":2},"5":[{"2":"2","3":"yRqh-1658284560772","7":[{"8":"INVOKER ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"表示拥有当前存储过程的访问权限的用户能够执行当前存储过程。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"d7If-1658284560775","4":{"li":"1ZeP-1658284636776","lt":"unordered","ll":2},"5":[{"2":"2","3":"81P5-1658284560774","7":[{"8":"如果没有设置相关的值，则MySQL默认指定值为DEFINER。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"oS3H-1658284560778","4":{"li":"1ZeP-1658284636776","lt":"unordered","ll":1},"5":[{"2":"2","3":"Fp9D-1658284560777","7":[{"8":"COMMENT \u0027string\u0027 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"：注释信息，可以用来描述存储过程。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"uWX6-1658283986042","4":{"version":1},"5":[{"2":"2","3":"zxDC-1658283986039","7":[{"8":"存储过程体中可以有多条 SQL 语句，如果仅仅一条SQL 语句，则可以省略 BEGIN 和 END编写存储过程并不是一件简单的事情，可能存储过程中需要复杂的 SQL 语句。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"x3sO-1658285088821","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"Mfs0-1658285088820","5":[{"2":"2","3":"0y3m-1658285086123","7":[{"8":"1. BEGIN…END：BEGIN…END 中间包含了多个语句，每个语句都以（;）号为结束符。 "}]}],"6":"cl"},{"3":"98dK-1658285089610","4":{},"5":[{"2":"2","3":"8cdq-1658285089609","7":[{"8":"2. DECLARE：DECLARE 用来声明变量，使用的位置在于 BEGIN…END 语句中间，而且需要在其他语句使用之前进 "}]}],"6":"cl"},{"3":"CDet-1658285089612","4":{},"5":[{"2":"2","3":"7MMH-1658285089611","7":[{"8":"行变量的声明。 "}]}],"6":"cl"},{"3":"wXJw-1658285089614","4":{},"5":[{"2":"2","3":"tpoK-1658285089613","7":[{"8":"3. SET：赋值语句，用于对变量进行赋值。 "}]}],"6":"cl"},{"3":"DyeY-1658285089616","4":{},"5":[{"2":"2","3":"05YF-1658285089615","7":[{"8":"4. SELECT… INTO：把从数据表中查询的结果存放到变量中，也就是为变量赋值。 "}]}],"6":"cl"}],"6":"cd"},{"3":"cU4d-1658283986134","4":{"version":1},"5":[{"2":"2","3":"fa10-1658283986132","7":[{"8":"需要设置新的结束标记","9":[{"0":"#F33232","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"sYRG-1658285098211","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"nDdl-1658285098210","5":[{"2":"2","3":"bWOP-1658283986227","7":[{"8":"DELIMITER 新的结束标记"}]}],"6":"cl"}],"6":"cd"},{"3":"3Fi3-1658283986322","4":{"version":1},"5":[{"2":"2","3":"Cg84-1658283986321","7":[{"8":"因为MySQL默认的语句结束符号为分号‘;’。为了避免与存储过程中SQL语句结束符相冲突，需要使用DELIMITER改变存储过程的结束符。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"XuuQ-1658283986448","4":{"version":1},"5":[{"2":"2","3":"NELI-1658283986446","7":[{"8":"比如：“DELIMITER //”语句的作用是将MySQL的结束符设置为//，并以“END //”结束存储过程。存储过程定义完毕之后再使用“DELIMITER ;”恢复默认结束符。DELIMITER也可以指定其他符号作为结束符。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"wdQq-1658285134256","4":{"version":1},"5":[{"2":"2","3":"qdEy-1658285134254","7":[{"8":"当使用DELIMITER命令时，应该避免使用反斜杠（‘\\’）字符，因为反斜线是MySQL的转义字符","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"aG76-1658283986534","4":{"l":"h3"},"5":[{"2":"2","3":"KVAv-1658283986532","7":[{"8":"代码举例："}]}],"6":"h"},{"3":"hmOF-1658285291989","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"JWPx-1658285291988","5":[{"2":"2","3":"V3He-1658283986628","7":[{"8":"DELIMITER $ "}]}],"6":"cl"},{"3":"aneZ-1658285295277","4":{},"5":[{"2":"2","3":"mdIv-1658285295276","7":[{"8":"CREATE PROCEDURE select_all_data() "}]}],"6":"cl"},{"3":"1bze-1658285295279","4":{},"5":[{"2":"2","3":"QkYX-1658285295278","7":[{"8":"BEGIN"}]}],"6":"cl"},{"3":"Tbnp-1658285295281","4":{},"5":[{"2":"2","3":"Hs49-1658285295280","7":[{"8":"    SELECT * FROM emps; "}]}],"6":"cl"},{"3":"oGlA-1658285295283","4":{},"5":[{"2":"2","3":"gRgt-1658285295282","7":[{"8":"END $ "}]}],"6":"cl"},{"3":"aBso-1658285295285","4":{},"5":[{"2":"2","3":"0K3P-1658285295284","7":[{"8":"DELIMITER ;"}]}],"6":"cl"},{"3":"Nnvg-1658303631371","4":{},"5":[{"2":"2","3":"UqEK-1658303631369"}],"6":"cl"},{"3":"xAgg-1658303631633","4":{},"5":[{"2":"2","3":"g2ML-1658303631632","7":[{"8":"DELIMITER // "}]}],"6":"cl"},{"3":"EVQg-1658303631986","4":{},"5":[{"2":"2","3":"lBcC-1658303631985","7":[{"8":"CREATE PROCEDURE show_min_salary(OUT ms DOUBLE) "}]}],"6":"cl"},{"3":"EClq-1658303631988","4":{},"5":[{"2":"2","3":"e2eD-1658303631987","7":[{"8":"BEGIN"}]}],"6":"cl"},{"3":"TZik-1658303631990","4":{},"5":[{"2":"2","3":"nPwW-1658303631989","7":[{"8":"    SELECT MIN(salary) INTO ms FROM emps; "}]}],"6":"cl"},{"3":"sX0D-1658303631992","4":{},"5":[{"2":"2","3":"pYXE-1658303631991","7":[{"8":"END // "}]}],"6":"cl"},{"3":"9zRd-1658303631995","4":{},"5":[{"2":"2","3":"xxyc-1658303631994","7":[{"8":"DELIMITER ;"}]}],"6":"cl"},{"3":"uuhJ-1658303658555","4":{},"5":[{"2":"2","3":"JSCA-1658303658554"}],"6":"cl"},{"3":"eTHm-1658303659272","4":{},"5":[{"2":"2","3":"Gfls-1658303659271","7":[{"8":"DELIMITER // "}]}],"6":"cl"},{"3":"aLbV-1658303659589","4":{},"5":[{"2":"2","3":"c91x-1658303659588","7":[{"8":"CREATE PROCEDURE show_someone_salary(IN empname VARCHAR(20)) "}]}],"6":"cl"},{"3":"sAaw-1658303659591","4":{},"5":[{"2":"2","3":"DEBV-1658303659590","7":[{"8":"BEGIN"}]}],"6":"cl"},{"3":"SWcP-1658303659593","4":{},"5":[{"2":"2","3":"Pufu-1658303659592","7":[{"8":"SELECT salary FROM emps WHERE ename \u003d empname; "}]}],"6":"cl"},{"3":"zHKP-1658303659595","4":{},"5":[{"2":"2","3":"wgDl-1658303659594","7":[{"8":"END // "}]}],"6":"cl"},{"3":"2Egh-1658303659597","4":{},"5":[{"2":"2","3":"o3ig-1658303659596","7":[{"8":"DELIMITER ;"}]}],"6":"cl"}],"6":"cd"},{"3":"iY9A-1658283986745","4":{"version":1},"5":[{"2":"2","3":"9y2h-1658283986743","7":[{"8":"如果你用的是 Navicat 工具，那么在编写存储过程的时候，Navicat 会自动设置 DELIMITER 为其他符号，我们不需要再进行 DELIMITER 的操作。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"V1AG-1658283986834","4":{"l":"h3"},"5":[{"2":"2","3":"bz1Y-1658283986832","7":[{"8":"如何调试 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"QhdJ-1658283986932","4":{"version":1},"5":[{"2":"2","3":"j2ok-1658283986931","7":[{"8":"在 MySQL 中，存储过程不像普通的编程语言（比如 VC++、Java 等）那样有专门的集成开发环境。因此，你可以通过 SELECT 语句，把程序执行的中间结果查询出来，来调试一个 SQL 语句的正确性。调试成功之后，把 SELECT 语句后移到下一个 SQL 语句之后，再调试下一个 SQL 语句。这样 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"逐步推进 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，就可以完成对存储过程中所有操作的调试了。当然，你也可以把存储过程中的 SQL 语句复制出来，逐段单独调试。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"vtmW-1658283987025","4":{"l":"h2"},"5":[{"2":"2","3":"JkgS-1658283987022","7":[{"8":"调用存储过程","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"BeNy-1658283987137","4":{"version":1},"5":[{"2":"2","3":"GxIQ-1658283987135","7":[{"8":" "},{"8":"存储过程有多种调用方法。存储过程必须使用CALL语句调用，并且存储过程和数据库相关，如果要执行其他数据库中的存储过程，需要指定数据库名称，例如CALL dbname.procname。","9":[{"0":"#34495e","2":"c"}]}]}]},{"3":"YioO-1658289682081","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"wfXG-1658289682080","5":[{"2":"2","3":"WHpU-1658283987221","7":[{"8":"CALL 存储过程名(实参列表) "}]}],"6":"cl"}],"6":"cd"},{"3":"BSAJ-1658283987305","4":{"version":1},"5":[{"2":"2","3":"XtAZ-1658283987303","7":[{"8":"格式：","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Hnjt-1658283987425","4":{"version":1},"5":[{"2":"2","3":"WJlh-1658283987423","7":[{"8":"1、调用in模式的参数：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"KW13-1658303273347","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"k5p7-1658303273346","5":[{"2":"2","3":"NEsH-1658303255115","7":[{"8":"CALL sp1(\u0027值\u0027); "}]}],"6":"cl"}],"6":"cd"},{"3":"VDHA-1658303255627","4":{"version":1},"5":[{"2":"2","3":"q1xK-1658303255626","7":[{"8":"2、调用out模式的参数：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"JlXj-1658303284468","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"HZk5-1658303284467","5":[{"2":"2","3":"zs8g-1658303255723","7":[{"8":"SET @name; "}]}],"6":"cl"},{"3":"x667-1658303288043","4":{},"5":[{"2":"2","3":"WXQX-1658303288042","7":[{"8":"CALL sp1(@name); "}]}],"6":"cl"},{"3":"ixKk-1658303288045","4":{},"5":[{"2":"2","3":"uz9Z-1658303288044","7":[{"8":"SELECT @name; "}]}],"6":"cl"}],"6":"cd"},{"3":"doJm-1658303255837","4":{"version":1},"5":[{"2":"2","3":"MUbp-1658303255835","7":[{"8":"3、调用inout模式的参数：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"yEav-1658303592400","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"QSQi-1658303592399","5":[{"2":"2","3":"YJ7T-1658303587105","7":[{"8":"SET @name\u003d值; "}]}],"6":"cl"},{"3":"SFq6-1658303592710","4":{},"5":[{"2":"2","3":"6Ggo-1658303592709","7":[{"8":"CALL sp1(@name); "}]}],"6":"cl"},{"3":"j1kj-1658303592712","4":{},"5":[{"2":"2","3":"vQAA-1658303592711","7":[{"8":"SELECT @name;"}]}],"6":"cl"}],"6":"cd"},{"3":"Ocqf-1658303420607","4":{"l":"h3"},"5":[{"2":"2","3":"451q-1658303420606","7":[{"8":"如何调试 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"oLlZ-1658303256237","4":{"version":1},"5":[{"2":"2","3":"bH5S-1658303256236","7":[{"8":"在 MySQL 中，存储过程不像普通的编程语言（比如 VC++、Java 等）那样有专门的集成开发环境。因此，你可以通过 SELECT 语句，把程序执行的中间结果查询出来，来调试一个 SQL 语句的正确性。调试成功之后，把 SELECT 语句后移到下一个 SQL 语句之后，再调试下一个 SQL 语句。这样 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"逐步推进 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，就可以完成对存储过程中所有操作的调试了。当然，你也可以把存储过程中的 SQL 语句复制出来，逐段单独调试。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"NkqW-1658303256334","4":{"l":"h1"},"5":[{"2":"2","3":"vfnf-1658303256332","7":[{"8":"存储函数的使用"}]}],"6":"h"},{"3":"V5qz-1658303256431","4":{"version":1},"5":[{"2":"2","3":"ErLT-1658303256430","7":[{"8":"前面学习了很多函数，使用这些函数可以对数据进行的各种处理操作，极大地提高用户对数据库的管理效率。MySQL支持自定义函数，定义好之后，调用方式与调用MySQL预定义的系统函数一样。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"6Nwm-1658303256544","4":{"version":1},"5":[{"2":"2","3":"mPHV-1658303256542","7":[{"8":"学过的函数：LENGTH、SUBSTR、CONCAT等","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"lBg2-1658305361848","4":{"l":"h2"},"5":[{"2":"2","3":"Z7BH-1658305361847","7":[{"8":"创建函数","9":[{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"CX4Z-1658304467002","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"0BwX-1658304467000","5":[{"2":"2","3":"gs1R-1658303256637","7":[{"8":"CREATE FUNCTION 函数名(参数名 参数类型,...) "}]}],"6":"cl"},{"3":"er2T-1658304467965","4":{},"5":[{"2":"2","3":"yvIH-1658304467964","7":[{"8":"RETURNS 返回值类型 "}]}],"6":"cl"},{"3":"Wy4t-1658304467967","4":{},"5":[{"2":"2","3":"KrOv-1658304467966","7":[{"8":"[characteristics ...] "}]}],"6":"cl"},{"3":"WtwF-1658304467969","4":{},"5":[{"2":"2","3":"K6PG-1658304467968","7":[{"8":"BEGIN"}]}],"6":"cl"},{"3":"XpXw-1658304467971","4":{},"5":[{"2":"2","3":"x0ci-1658304467970","7":[{"8":"    函数体 #函数体中肯定有 RETURN 语句 "}]}],"6":"cl"},{"3":"RCYS-1658304467973","4":{},"5":[{"2":"2","3":"F9jE-1658304467972","7":[{"8":"END "}]}],"6":"cl"}],"6":"cd"},{"3":"sjWU-1658303256734","4":{"version":1},"5":[{"2":"2","3":"GcAx-1658303256732","7":[{"8":"说明：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"vYxE-1658304475793","4":{"version":1},"5":[{"2":"2","3":"grRG-1658304475792","7":[{"8":"1、参数列表：指定参数为IN、OUT或INOUT只对PROCEDURE是合法的，FUNCTION中总是默认为IN参数。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"dh1J-1658304475797","4":{"version":1},"5":[{"2":"2","3":"x2VP-1658304475796","7":[{"8":"2、RETURNS type 语句表示函数返回数据的类型；RETURNS子句只能对FUNCTION做指定，对函数而言这是 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"强制 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的。它用来指定函数的返回类型，而且函数体必须包含一个 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"RETURN value ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"语句。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"sFAU-1658304475803","4":{"version":1},"5":[{"2":"2","3":"8l7K-1658304475802","7":[{"8":"3、characteristic 创建函数时指定的对函数的约束。取值与创建存储过程时相同，这里不再赘述。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"qXJ4-1658304475806","4":{"version":1},"5":[{"2":"2","3":"z5Yh-1658304475805","7":[{"8":"4、函数体也可以用BEGIN…END来表示SQL代码的开始和结束。如果函数体只有一条语句，也可以省略BEGIN…END。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"1BFj-1658304537573","4":{"l":"h2"},"5":[{"2":"2","3":"A7Jg-1658304537572","7":[{"8":"调用存储函数","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"BdXB-1658283987620","4":{"version":1},"5":[{"2":"2","3":"mTSt-1658283987618","7":[{"8":"在MySQL中，存储函数的使用方法与MySQL内部函数的使用方法是一样的。换言之，用户自己定义的存储函数与MySQL内部函数是一个性质的。区别在于，存储函数是 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"用户自己定义 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的，而内部函数是MySQL 的 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"开发者定义 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"的。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"E1Pr-1658283987712","4":{"l":"h2"},"5":[{"2":"2","3":"rAaC-1658283987710","7":[{"8":"代码举例","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"P9kc-1658304665253","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"QBgO-1658304665252","5":[{"2":"2","3":"TCL1-1658283987805","7":[{"8":"DELIMITER // "}]}],"6":"cl"},{"3":"6LCc-1658304665995","4":{},"5":[{"2":"2","3":"UL7p-1658304665994","7":[{"8":"CREATE FUNCTION email_by_name() RETURNS VARCHAR(25) "}]}],"6":"cl"},{"3":"z0He-1658304665999","4":{},"5":[{"2":"2","3":"L0G0-1658304665998","7":[{"8":"DETERMINISTIC "}]}],"6":"cl"},{"3":"7NnF-1658304666002","4":{},"5":[{"2":"2","3":"ywLR-1658304666001","7":[{"8":"CONTAINS SQL "}]}],"6":"cl"},{"3":"Y3ox-1658304666004","4":{},"5":[{"2":"2","3":"FLRW-1658304666003","7":[{"8":"BEGIN"}]}],"6":"cl"},{"3":"70yJ-1658304666006","4":{},"5":[{"2":"2","3":"vWtC-1658304666005","7":[{"8":"    RETURN (SELECT email FROM employees WHERE last_name \u003d \u0027Abel\u0027); "}]}],"6":"cl"},{"3":"Xc9A-1658304666008","4":{},"5":[{"2":"2","3":"iXxe-1658304666007","7":[{"8":"END // "}]}],"6":"cl"},{"3":"NZq8-1658304666010","4":{},"5":[{"2":"2","3":"3OrD-1658304666009","7":[{"8":"DELIMITER ;"}]}],"6":"cl"},{"3":"ujzA-1658304671878","4":{},"5":[{"2":"2","3":"sf2H-1658304671876"}],"6":"cl"},{"3":"axCZ-1658304672053","4":{},"5":[{"2":"2","3":"EUGi-1658304672052","7":[{"8":"SELECT email_by_name();"}]}],"6":"cl"}],"6":"cd"},{"3":"STqo-1658283987891","4":{"version":1},"5":[{"2":"2","3":"dNxo-1658283987889","7":[{"8":"注意：","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"6MEZ-1658304928208","4":{"version":1},"5":[{"2":"2","3":"Xekb-1658304928207","7":[{"8":"若在创建存储函数中报错“ ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"you might want to use the less safe log_bin_trust_function_creators variable ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"”，有两种处理方法：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"ogXt-1658283987984","4":{"version":1},"5":[{"2":"2","3":"3bc3-1658283987983","7":[{"8":"方式1：加上必要的函数特性“[NOT] DETERMINISTIC”和“{CONTAINS SQL | NO SQL | READS SQL DATA | MODIFIES SQL DATA}”","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"eqDh-1658304936360","4":{"version":1},"5":[{"2":"2","3":"SkgV-1658304936359","7":[{"8":"方式2：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":" ","9":[{"0":"#000000","2":"c"},{"0":"SimSun","2":"ff"},{"0":16,"2":"fs"}]},{"8":"SET GLOBAL ","9":[{"0":"#770088","2":"c"},{"0":16,"2":"fs"}]},{"8":"log_bin_trust_function_creators \u003d ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"1","9":[{"0":"#116644","2":"c"},{"0":16,"2":"fs"}]},{"8":"; ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"zStJ-1658283988077","4":{"l":"h1"},"5":[{"2":"2","3":"GOyx-1658283988075","7":[{"8":"对比存储函数和存储过程","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"33tK-1658305167039","4":{"version":1,"u":"https://note.youdao.com/yws/res/21067/WEBRESOURCE9087c756a1e8f7c2503ac4ae0173a507","w":585,"h":139},"6":"im"},{"3":"CmGR-1658304977059","4":{"version":1},"5":[{"2":"2","3":"7zBK-1658304977058","7":[{"8":"此外，","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"存储函数可以放在查询语句中使用，存储过程不行","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"。反之，存储过程的功能更加强大，包括能够执行对表的操作（比如创建表，删除表等）和事务操作，这些功能是存储函数不具备的。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"8904-1658304977155","4":{"l":"h1"},"5":[{"2":"2","3":"czQ6-1658304977154","7":[{"8":"存储过程和函数的查看、修改、删除","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"yUzV-1658304977251","4":{"l":"h3"},"5":[{"2":"2","3":"gltT-1658304977250","7":[{"8":"查看"}]}],"6":"h"},{"3":"ngBx-1658305206599","4":{"version":1},"5":[{"2":"2","3":"Xw0x-1658305206597","7":[{"8":"创建完之后，怎么知道我们创建的存储过程、存储函数是否成功了呢？","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"dKSM-1658305225941","4":{"version":1},"5":[{"2":"2","3":"Yys1-1658305225940","7":[{"8":"MySQL存储了存储过程和函数的状态信息，用户可以使用SHOW STATUS语句或SHOW CREATE语句来查看，也可直接从系统的information_schema数据库中查询。这里介绍3种方法。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"148j-1658305207110","4":{"version":1},"5":[{"2":"2","3":"xeLG-1658305207108","7":[{"8":"1. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"使用","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"SHOW CREATE","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"语句查看存储过程和函数的创建信息","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"bf2F-1658305330062","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"Mv6n-1658305330061","5":[{"2":"2","3":"jJG1-1658305297047","7":[{"8":"SHOW CREATE {PROCEDURE | FUNCTION} 存储过程名或函数名 "}]}],"6":"cl"}],"6":"cd"},{"3":"D21S-1658305297548","4":{"version":1},"5":[{"2":"2","3":"dJn7-1658305297547","7":[{"8":"2. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"使用","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"SHOW STATUS","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"语句查看存储过程和函数的状态信息","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"18NI-1658305426573","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"KwE9-1658305426572","5":[{"2":"2","3":"7bNo-1658305297658","7":[{"8":"SHOW {PROCEDURE | FUNCTION} STATUS [LIKE \u0027pattern\u0027]"}]}],"6":"cl"}],"6":"cd"},{"3":"KJk5-1658305297756","4":{"version":1},"5":[{"2":"2","3":"oIBh-1658305297755","7":[{"8":"这个语句返回子程序的特征，如数据库、名字、类型、创建者及创建和修改日期。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Lj5w-1658305297849","4":{"version":1},"5":[{"2":"2","3":"d9po-1658305297847","7":[{"8":"[LIKE \u0027pattern\u0027]：匹配存储过程或函数的名称，可以省略。当省略不写时，会列出MySQL数据库中存在的所有存储过程或函数的信息。 举例：SHOW STATUS语句示例","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"qkrV-1658305207204","4":{"version":1},"5":[{"2":"2","3":"LTl5-1658305207203","7":[{"8":"3. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"从","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"information_schema.Routines","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"表中查看存储过程和函数的信息","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"nPL8-1658305207318","4":{"version":1},"5":[{"2":"2","3":"Ftzk-1658305207316","7":[{"8":"MySQL中存储过程和函数的信息存储在information_schema数据库下的Routines表中。可以通过查询该表的记录来查询存储过程和函数的信息。其基本语法形式如下","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"IjPf-1658305507403","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"Ygvk-1658305507402","5":[{"2":"2","3":"nv0J-1658304977346","7":[{"8":"SELECT * FROM information_schema.Routines "}]}],"6":"cl"},{"3":"Qp2w-1658305508102","4":{},"5":[{"2":"2","3":"Yx1B-1658305508101","7":[{"8":"WHERE ROUTINE_NAME\u003d\u0027存储过程或函数的名\u0027 [AND ROUTINE_TYPE \u003d {\u0027PROCEDURE|FUNCTION\u0027}]; "}]}],"6":"cl"}],"6":"cd"},{"3":"QzDH-1658304977460","4":{"version":1},"5":[{"2":"2","3":"WCeh-1658304977458","7":[{"8":"说明：如果在MySQL数据库中存在存储过程和函数名称相同的情况，最好指定ROUTINE_TYPE查询条件来指明查询的是存储过程还是函数。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"wTtj-1658304977557","4":{"l":"h3"},"5":[{"2":"2","3":"CqSj-1658304977555","7":[{"8":"修改","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"xk8T-1658305524118","4":{"version":1},"5":[{"2":"2","3":"wpd6-1658305524117","7":[{"8":"修改存储过程或函数，不影响存储过程或函数功能，只是修改相关特性。使用ALTER语句实现。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"GgJK-1658305756983","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"VIv8-1658305756982","5":[{"2":"2","3":"FJWx-1658305524613","7":[{"8":"ALTER {PROCEDURE | FUNCTION} 存储过程或函数的名 [characteristic ...] "}]}],"6":"cl"}],"6":"cd"},{"3":"TXVD-1658305524712","4":{"version":1},"5":[{"2":"2","3":"wPUb-1658305524711","7":[{"8":"其中，characteristic指定存储过程或函数的特性，其取值信息与创建存储过程、函数时的取值信息略有不同。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"yaWq-1658305772038","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"3HPy-1658305772037","5":[{"2":"2","3":"X5Cn-1658305524823","7":[{"8":"{ CONTAINS SQL | NO SQL | READS SQL DATA | MODIFIES SQL DATA } "}]}],"6":"cl"},{"3":"KX7N-1658305772219","4":{},"5":[{"2":"2","3":"dMVv-1658305772218","7":[{"8":"| SQL SECURITY { DEFINER | INVOKER } "}]}],"6":"cl"},{"3":"Io7s-1658305772221","4":{},"5":[{"2":"2","3":"WD4p-1658305772220","7":[{"8":"| COMMENT \u0027string\u0027"}]}],"6":"cl"}],"6":"cd"},{"3":"DJIu-1658305524921","4":{"li":"8Zf0-1658305781255","lt":"unordered","ll":1},"5":[{"2":"2","3":"fedC-1658305524920","7":[{"8":"CONTAINS SQL ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"，表示子程序包含SQL语句，但不包含读或写数据的语句。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"Fm90-1658305778997","4":{"li":"8Zf0-1658305781255","lt":"unordered","ll":1},"5":[{"2":"2","3":"NIIH-1658305778996","7":[{"8":"NO SQL ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"，表示子程序中不包含SQL语句。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"CYoW-1658305778999","4":{"li":"8Zf0-1658305781255","lt":"unordered","ll":1},"5":[{"2":"2","3":"y2pa-1658305778998","7":[{"8":"READS SQL DATA ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"，表示子程序中包含读数据的语句。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"BWYL-1658305779001","4":{"li":"8Zf0-1658305781255","lt":"unordered","ll":1},"5":[{"2":"2","3":"6hnP-1658305779000","7":[{"8":"MODIFIES SQL DATA ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"，表示子程序中包含写数据的语句。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"Lflh-1658305779003","4":{"li":"8Zf0-1658305781255","lt":"unordered","ll":1},"5":[{"2":"2","3":"kWNM-1658305779002","7":[{"8":"SQL SECURITY { DEFINER | INVOKER } ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"，指明谁有权限来执行。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"Fbrm-1658305779005","4":{"li":"8Zf0-1658305781255","lt":"unordered","ll":2},"5":[{"2":"2","3":"NQq8-1658305779004","7":[{"8":"DEFINER ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"，表示只有定义者自己才能够执行。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"V30w-1658305779007","4":{"li":"8Zf0-1658305781255","lt":"unordered","ll":2},"5":[{"2":"2","3":"SAgo-1658305779006","7":[{"8":"INVOKER ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"，表示调用者可以执行。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"gP75-1658305779009","4":{"li":"8Zf0-1658305781255","lt":"unordered","ll":1},"5":[{"2":"2","3":"kmqB-1658305779008","7":[{"8":"COMMENT \u0027string\u0027 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"，表示注释信息。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"AKSG-1658305525018","4":{"version":1},"5":[{"2":"2","3":"JJkb-1658305525017","7":[{"8":"修改存储过程使用ALTER PROCEDURE语句，修改存储函数使用ALTER FUNCTION语句。但是，这两个语句的结构是一样的，语句中的所有参数也是一样的。","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"QGP8-1658305525130","4":{"l":"h3"},"5":[{"2":"2","3":"p8xs-1658305525129","7":[{"8":"删除","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"60KN-1658305872827","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"cqCg-1658305872826","5":[{"2":"2","3":"BV1b-1658305525224","7":[{"8":"DROP {PROCEDURE | FUNCTION} [IF EXISTS] 存储过程或函数的名 "}]}],"6":"cl"}],"6":"cd"},{"3":"Apyh-1658305525322","4":{"l":"h1"},"5":[{"2":"2","3":"j4Ge-1658305525321","7":[{"8":"关于存储过程使用的争议","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"VgJY-1658304977653","4":{"version":1},"5":[{"2":"2","3":"zhES-1658304977652","7":[{"8":"尽管存储过程有诸多优点，但是对于存储过程的使用，","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"一直都存在着很多争议","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"，比如有些公司对于大型项目要求使用存储过程，而有些公司在手册中明确禁止使用存储过程，为什么这些公司对存储过程的使用需求差别这么大呢？","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"uyEZ-1658305952595","4":{"l":"h5"},"5":[{"2":"2","3":"W9Q8-1658305952594","7":[{"8":"优点 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"s0KI-1658305945461","4":{"version":1},"5":[{"2":"2","3":"qEpY-1658305945460","7":[{"8":"1","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"、存储过程可以一次编译多次使用。","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"存储过程只在创建时进行编译，之后的使用都不需要重新编译，这就提升了 SQL 的执行效率。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"ZEpz-1658305962185","4":{"version":1},"5":[{"2":"2","3":"YDIF-1658305962184","7":[{"8":"2","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"、可以减少开发工作量。","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"将代码 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"封装 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"成模块，实际上是编程的核心思想之一，这样可以把复杂的问题拆解成不同的模块，然后模块之间可以 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"重复使用 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，在减少开发工作量的同时，还能保证代码的结构清晰。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Lcgv-1658305962191","4":{"version":1},"5":[{"2":"2","3":"wqLN-1658305962190","7":[{"8":"3","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"、存储过程的安全性强。","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"我们在设定存储过程的时候可以 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"设置对用户的使用权限 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，这样就和视图一样具有较强的安全性。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"iu39-1658305962195","4":{"version":1},"5":[{"2":"2","3":"ludS-1658305962194","7":[{"8":"4","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"、可以减少网络传输量。","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"因为代码封装到存储过程中，每次使用只需要调用存储过程即可，这样就减少了网络传输量。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"uejP-1658305962199","4":{"version":1},"5":[{"2":"2","3":"LzUq-1658305962198","7":[{"8":"5","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"、良好的封装性。","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"在进行相对复杂的数据库操作时，原本需要使用一条一条的 SQL 语句，可能要连接多次数据库才能完成的操作，现在变成了一次存储过程，只需要 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"连接一次即可 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"M6SQ-1658305945967","4":{"l":"h5"},"5":[{"2":"2","3":"0qib-1658305945966","7":[{"8":"缺点","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"smj2-1658305946063","4":{"version":1},"5":[{"2":"2","3":"pGFS-1658305946062","7":[{"8":"阿里开发规范","9":[{"2":"b"},{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"pmFq-1658305980297","4":{"version":1},"5":[{"2":"2","3":"Mq0Q-1658305980296","7":[{"8":"【强制】禁止使用存储过程，存储过程难以调试和扩展，更没有移植性。","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"5JB3-1658305946173","4":{"version":1},"5":[{"2":"2","3":"ZbQx-1658305946172","7":[{"8":"存储过程虽然有诸如上面的好处，但缺点也是很明显的。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"llBc-1658305900072","4":{"version":1},"5":[{"2":"2","3":"tPso-1658305900070","7":[{"8":"1","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"、可移植性差。","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"存储过程不能跨数据库移植，比如在 MySQL、Oracle 和 SQL Server 里编写的存储过程，在换成其他数据库时都需要重新编写。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"dWZV-1658305993741","4":{"version":1},"5":[{"2":"2","3":"3uAr-1658305993740","7":[{"8":"2","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"、调试困难。","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"只有少数 DBMS 支持存储过程的调试。对于复杂的存储过程来说，开发和维护都不容易。虽然也有一些第三方工具可以对存储过程进行调试，但要收费。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"neTe-1658305993745","4":{"version":1},"5":[{"2":"2","3":"n6rc-1658305993744","7":[{"8":"3","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"、存储过程的版本管理很困难。","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"比如数据表索引发生变化了，可能会导致存储过程失效。我们在开发软件的时候往往需要进行版本管理，但是存储过程本身没有版本控制，版本迭代更新的时候很麻烦。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"ZAgh-1658305993749","4":{"version":1},"5":[{"2":"2","3":"u1ho-1658305993748","7":[{"8":"4","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"、它不适合高并发的场景。","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"高并发的场景需要减少数据库的压力，有时数据库会采用分库分表的方式，而且对可扩展性要求很高，在这种情况下，存储过程会变得难以维护， ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"增加数据库的压力 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，显然就不适用了。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"UBXD-1658305987531","4":{"l":"h5"},"5":[{"2":"2","3":"xOCx-1658305987530","7":[{"8":"小结：","9":[{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"LF7O-1658306006326","4":{"version":1},"5":[{"2":"2","3":"yNDw-1658306006325","7":[{"8":"存储过程既方便，又有局限性。尽管不同的公司对存储过程的态度不一，但是对于我们开发人员来说，不论怎样，掌握存储过程都是必备的技能之一。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]}],"__compress__":true,"title":""}