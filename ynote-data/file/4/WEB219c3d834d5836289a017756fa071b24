{"2":"1","3":"Ju9C-1621846617594","4":{"version":1,"incompatibleVersion":0,"fv":"0"},"5":[{"3":"3060-1621846615933","4":{"l":"h1"},"5":[{"2":"2","3":"p5PQ-1621846617594","7":[{"8":"索引的声明与使用"}]}],"6":"h"},{"3":"5srY-1658627681569","4":{"l":"h3"},"5":[{"2":"2","3":"bEGa-1658627681559","7":[{"8":"索引的分类"}]}],"6":"h"},{"3":"ZVZo-1658627733019","4":{"version":1},"5":[{"2":"2","3":"o4j9-1658627733018","7":[{"8":"MySQL的索引包括普通索引、唯一性索引、全文索引、单列索引、多列索引和空间索引等。"}]}]},{"3":"aPF3-1658627733021","4":{"li":"4XbL-1658627746100","lt":"unordered","ll":1},"5":[{"2":"2","3":"7JRp-1658627733020","7":[{"8":"从功能逻辑上说，索引主要有 4 种，分别是普通索引、唯一索引、主键索引、全文索引。"}]}],"6":"l"},{"3":"XGxZ-1658627739363","4":{"li":"4XbL-1658627746100","lt":"unordered","ll":1},"5":[{"2":"2","3":"k4J6-1658627739362","7":[{"8":"按照物理实现方式，索引可以分为 2 种：聚簇索引和非聚簇索引。"}]}],"6":"l"},{"3":"xXw7-1658627733029","4":{"li":"4XbL-1658627746100","lt":"unordered","ll":1},"5":[{"2":"2","3":"gJRI-1658627733028","7":[{"8":"按照作用字段个数进行划分，分成单列索引和联合索引。"}]}],"6":"l"},{"3":"H11d-1658627682172","5":[{"2":"2","3":"sj4h-1658627682171","7":[{"8":"1.普通索引"}]}]},{"3":"D4u3-1658627858700","4":{"version":1},"5":[{"2":"2","3":"Cx3g-1658627858699","7":[{"8":"在创建普通索引时，不附加任何限制条件，只是用于提高查询效率。这类索引可以创建在"},{"8":"任何数据类型","9":[{"0":"#FB8D00","2":"c"}]},{"8":"中，其值是否唯一和非空，要由字段本身的完整性约束条件决定。建立索引以后，可以通过索引进行查询。例如，在表student的字段name上建立一个普通索引，查询记录时就可以根据该索引进行查询。"}]}]},{"3":"SOxZ-1658627858702","4":{"version":1},"5":[{"2":"2","3":"7FMI-1658627858701","7":[{"8":"2.唯一性索引"}]}]},{"3":"S6or-1658627858704","4":{"version":1},"5":[{"2":"2","3":"ZLEV-1658627858703","7":[{"8":"使用UNIQUE参数可以设置索引为唯一性索引，在创建唯一性索引时，限制该索引的值必须是唯一的，但允许有空值。在一张数据表里可以有多个唯一索引。"}]}]},{"3":"xETT-1658627858706","4":{"version":1},"5":[{"2":"2","3":"WVCd-1658627858705","7":[{"8":"例如，在表student的字段email中创建唯一性索引，那么字段email的值就必须是唯一的。通过唯一性索引，可以更快速地确定某条记录。"}]}]},{"3":"4zf0-1658627682268","5":[{"2":"2","3":"OSjB-1658627682267","7":[{"8":"3.主键索引"}]}]},{"3":"wRTs-1658627937442","4":{"version":1},"5":[{"2":"2","3":"3fiq-1658627937441","7":[{"8":"主键索引就是一种特殊的唯一性索引，在唯一索引的基础上增加了不为空的约束，也就是NOTNULL+UNIQUE，一张表里最多只有一个主键索引。"}]}]},{"3":"Xunc-1658627937444","4":{"version":1},"5":[{"2":"2","3":"BKCQ-1658627937443","7":[{"8":"Why?这是由主键索引的物理实现方式决定的，因为数据存储在文件中只能按照一种顺序进行存储。"}]}]},{"3":"DeN5-1658627937447","4":{"version":1},"5":[{"2":"2","3":"3tmg-1658627937446","7":[{"8":"4.单列索引"}]}]},{"3":"c9QB-1658627937449","4":{"version":1},"5":[{"2":"2","3":"Umwb-1658627937448","7":[{"8":"在表中的单个字段上创建索引。单列索引只根据该字段进行索引。单列索引可以是普通索引，也可以是唯一性索引，还可以是全文索引。只要保证该索引只对应一个字段即可。一个表可以有多个单列索引。"}]}]},{"3":"Rrg2-1658627937451","4":{"version":1},"5":[{"2":"2","3":"I2Re-1658627937450","7":[{"8":"5.多列(组合、联合)索引"}]}]},{"3":"LiHC-1658627937453","4":{"version":1},"5":[{"2":"2","3":"cG9n-1658627937452","7":[{"8":"多列索引是在表的多个字段组合上创建一个索引。该索引指向创建时对应的多个字段，可以通过这几个字段进行查询，但是只有查询条件中使用了这些字段中的第一个字段时才会被使用。例如，在表中的字段id、name和gender上建立一个多列索引idx_id_name_gender，只有在查询条件中使用了字段id时该索引才会被使用。使用组合索引时遵循最左前缀集合。"}]}]},{"3":"5I9Y-1658627682365","5":[{"2":"2","3":"MAoH-1658627682364","7":[{"8":"6.全文索引"}]}]},{"3":"pVSX-1658628001622","4":{"version":1},"5":[{"2":"2","3":"EM5f-1658628001621","7":[{"8":"全文索引(也称全文检索)是目前搜索引擎使用的一种关键技术。它能够利用【分词技术】等多种算法智能分析出文本文字中关键词的频率和重要性，然后按照一定的算法规则智能地筛选出我们想要的搜索结果。全文索引非常适合大型数据集，对于小的数据集，它的用处比较小。"}]}]},{"3":"ruQt-1658628001624","4":{"version":1},"5":[{"2":"2","3":"fB8G-1658628001623","7":[{"8":"使用参数FULLTEXT可以设置索引为全文索引。在定义索引的列上支持值的全文查找，允许在这些索引列中插入重复值和空值。全文索引只能创建在CHAR、VARCHAR或TEXT类型及其系列类型的字段上，查询数据量较大的字符串类型的字段时，使用全文索引可以提高查询速度。例如，表student的字段information是TEXT类型，该字段包含了很多文字信息。在字段information上建立全文索引后，可以提高查询字段information的速度。"}]}]},{"3":"u8d4-1658627682478","5":[{"2":"2","3":"PwVL-1658627682476","7":[{"8":"全文索引典型的有两种类型:自然语言的全文索引和布尔全文索引."}]}]},{"3":"gV7a-1658628067296","4":{"li":"UX9n-1658628070453","lt":"unordered","ll":1},"5":[{"2":"2","3":"9RS7-1658628067295","7":[{"8":"自然语言搜索引擎将计算每一个文档对象和查询的相关度。这里，相关度是基于匹配的关键词的个数，以及关键词在文档中出现的次数。在整个索引中出现次数越少的词语，匹配时的相关度就越高。相反，非常常见的单词将不会被搜索，如果一个词语的在超过50%的记录中都出现了，那么自然语言的搜索将不会搜索这类词语。"}]}],"6":"l"},{"3":"6AhF-1658628097450","5":[{"2":"2","3":"dZwn-1658628097449","7":[{"8":"MysQL数据库从3.23.23版开始支持全文索引，但MySQL5.6.4以前只有Myisam支持，5.6.4版本以后innodb才支持，但是官方版本不支持中文分词，需要第三方分词插件。在5.7.6版本，MySQL内置了ngram全文解析器，用来支持亚洲语种的分词。测试或使用全文索引时，要先看一下自己的MysQL版本、存储引擎和数据类型是否支持全文索引。"}]}]},{"3":"UGxv-1658628094934","4":{"version":1},"5":[{"2":"2","3":"OFqZ-1658628094933","7":[{"8":"随着大数据时代的到来，关系型数据库应对全文索引的需求已力不从心，逐渐被solr 、 ElasticSearch等专门的搜索引擎所替代。"}]}]},{"3":"megB-1658627682572","5":[{"2":"2","3":"oh0v-1658627682571","7":[{"8":"7.补充:空间索引"}]}]},{"3":"8Ckd-1658628126649","4":{"version":1},"5":[{"2":"2","3":"JdLY-1658628126648","7":[{"8":"使用参数SPATIAL可以设置索引为空间索引。空间索引只能建立在空间数据类型上，这样可以提高系统获取空间数据的效率。MySQL中的空间数据类型包括GEOMETRY、POINT、LINESTRING和POLYGON等目前只有MylSAM存储引擎支持空间检索，而且索引的字段不能为空值。对于初学者来说，这类索引很少会用到."}]}]},{"3":"Wxk6-1658628125499","5":[{"2":"2","3":"uiJ8-1658628125498","7":[{"8":"小结：不同的存储引擎支持的索引类型也不一样"}]}]},{"3":"d5Rq-1658628159408","4":{"li":"LInU-1658628161455","lt":"unordered","ll":1},"5":[{"2":"2","3":"PyNc-1658628159407","7":[{"8":"InnoDB :支持B-tree、Full-text 等索引，不支持Hash|索引;"}]}],"6":"l"},{"3":"Ilnc-1658628159410","4":{"li":"LInU-1658628161455","lt":"unordered","ll":1},"5":[{"2":"2","3":"je9v-1658628159409","7":[{"8":"MyISAM :支持B-tree、Ful-text 等索引，不支持Hash索引;"}]}],"6":"l"},{"3":"jV41-1658628159412","4":{"li":"LInU-1658628161455","lt":"unordered","ll":1},"5":[{"2":"2","3":"Y2Th-1658628159411","7":[{"8":"Memory :支持B-tree、Hash 等索引，不支持Full-text索引;"}]}],"6":"l"},{"3":"bfD6-1658628159414","4":{"li":"LInU-1658628161455","lt":"unordered","ll":1},"5":[{"2":"2","3":"tMed-1658628159413","7":[{"8":"NDB :支持Hash索引，不支持B-tree、Full-text 等索引;"}]}],"6":"l"},{"3":"KMcb-1658628159416","4":{"li":"LInU-1658628161455","lt":"unordered","ll":1},"5":[{"2":"2","3":"QYO9-1658628159415","7":[{"8":"Archive :不支持B-tree、Hash、 Full-text 等索引;"}]}],"6":"l"},{"3":"9qgP-1658627682667","4":{"l":"h3"},"5":[{"2":"2","3":"IAA6-1658627682666","7":[{"8":"创建索引","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"syuS-1658627682752","4":{"l":"h4"},"5":[{"2":"2","3":"tagf-1658627682751","7":[{"8":"1、创建表的时候创建索引","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"BPr4-1658628459044","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"xOos-1658628459043","5":[{"2":"2","3":"osLf-1658627682845","7":[{"8":"CREATE TABLE table_name [col_name data_type] "}]}],"6":"cl"},{"3":"ycDg-1658628459763","5":[{"2":"2","3":"b76H-1658628459762","7":[{"8":"[UNIQUE | FULLTEXT | SPATIAL] [INDEX | KEY] [index_name] (col_name [length]) [ASC | "}]}],"6":"cl"},{"3":"CLRZ-1658628459765","5":[{"2":"2","3":"iTVE-1658628459764","7":[{"8":"DESC]"}]}],"6":"cl"},{"3":"UM6l-1658628638925","5":[{"2":"2","3":"GYns-1658628638924"}],"6":"cl"},{"3":"z8MK-1658628461070","5":[{"2":"2","3":"2Z1h-1658628461069","7":[{"8":"CREATE TABLE emp( "}]}],"6":"cl"},{"3":"m4KD-1658628493831","5":[{"2":"2","3":"rQtd-1658628493830","7":[{"8":"emp_id INT PRIMARY KEY AUTO_INCREMENT, #主键索引"}]}],"6":"cl"},{"3":"9iTx-1658628493833","5":[{"2":"2","3":"PTei-1658628493832","7":[{"8":"emp_name VARCHAR(20) UNIQUE, #唯一索引"}]}],"6":"cl"},{"3":"4qiJ-1658628493835","5":[{"2":"2","3":"MAP2-1658628493834","7":[{"8":"dept_id INT, "}]}],"6":"cl"},{"3":"ydtf-1658628493837","5":[{"2":"2","3":"00of-1658628493836","7":[{"8":"CONSTRAINT emp_dept_id_fk FOREIGN KEY(dept_id) REFERENCES dept(dept_id) "}]}],"6":"cl"},{"3":"i520-1658628493839","5":[{"2":"2","3":"j89m-1658628493838","7":[{"8":");#外键索引"}]}],"6":"cl"},{"3":"mCrh-1658628836279","5":[{"2":"2","3":"NNg3-1658628836278","7":[{"8":"-------------"}]}],"6":"cl"},{"3":"M31y-1658628841667","5":[{"2":"2","3":"kUbl-1658628841665"}],"6":"cl"},{"3":"Ol9X-1658628854850","5":[{"2":"2","3":"50Ug-1658628854849","7":[{"8":"CREATE TABLE emp( "}]}],"6":"cl"},{"3":"fxTd-1658628854852","5":[{"2":"2","3":"yNqc-1658628854851","7":[{"8":"emp_id INT;"}]}],"6":"cl"},{"3":"3783-1658628854854","5":[{"2":"2","3":"cvSo-1658628854853","7":[{"8":"emp_name VARCHAR(20),"}]}],"6":"cl"},{"3":"jTXk-1658628879438","5":[{"2":"2","3":"tcvH-1658628879437","7":[{"8":"INDEX idx_ename(emp_name)#声明索引"}]}],"6":"cl"},{"3":"C1CV-1658628875839","5":[{"2":"2","3":"9noo-1658628875838","7":[{"8":");"}]}],"6":"cl"},{"3":"6Jer-1658629549521","5":[{"2":"2","3":"t2J1-1658629549519","7":[{"8":"CREATE TABLE emp( "}]}],"6":"cl"},{"3":"ecxf-1658629549716","5":[{"2":"2","3":"xBML-1658629549715","7":[{"8":"emp_id INT;"}]}],"6":"cl"},{"3":"KIWq-1658629549718","5":[{"2":"2","3":"oUwH-1658629549717","7":[{"8":"emp_name VARCHAR(20),"}]}],"6":"cl"},{"3":"Ld4a-1658629549722","5":[{"2":"2","3":"Fdpa-1658629549721","7":[{"8":"UNIQUE INDEX idx_ename(emp_name)#声明唯一性索引"}]}],"6":"cl"},{"3":"wFOM-1658629549724","5":[{"2":"2","3":"Yhgj-1658629549723","7":[{"8":");"}]}],"6":"cl"},{"3":"Ybec-1658630161332","5":[{"2":"2","3":"eCZw-1658630161330","7":[{"8":"CREATE TABLE emp( "}]}],"6":"cl"},{"3":"vRc1-1658630161664","5":[{"2":"2","3":"YjQJ-1658630161663","7":[{"8":"emp_id INT;"}]}],"6":"cl"},{"3":"TL3A-1658630161666","5":[{"2":"2","3":"2qSY-1658630161665","7":[{"8":"emp_name VARCHAR(20),"}]}],"6":"cl"},{"3":"puno-1658630161668","5":[{"2":"2","3":"VxrL-1658630161667","7":[{"8":"UNIQUE INDEX mul_id_name(emp_id,emp_name)#组合索引"}]}],"6":"cl"},{"3":"anvE-1658630161670","5":[{"2":"2","3":"MCsd-1658630161669","7":[{"8":");"}]}],"6":"cl"},{"3":"JDGA-1658630297036","5":[{"2":"2","3":"sfvY-1658630297035","7":[{"8":"CREATE TABLE test4( "}]}],"6":"cl"},{"3":"50zx-1658630297314","5":[{"2":"2","3":"rj35-1658630297313","7":[{"8":"id INT NOT NULL, "}]}],"6":"cl"},{"3":"qpks-1658630297320","5":[{"2":"2","3":"SbN2-1658630297319","7":[{"8":"info VARCHAR(255), "}]}],"6":"cl"},{"3":"wEBl-1658630297322","5":[{"2":"2","3":"Nv19-1658630297321","7":[{"8":"FULLTEXT INDEX futxt_idx_info(info(50)) #全文索引"}]}],"6":"cl"},{"3":"B067-1658630297324","5":[{"2":"2","3":"ViFW-1658630297323","7":[{"8":") ENGINE\u003dMyISAM; "}]}],"6":"cl"},{"3":"OYPV-1658630483720","5":[{"2":"2","3":"v597-1658630483718"}],"6":"cl"}],"6":"cd"},{"3":"7UZt-1658627682943","4":{"li":"sFCZ-1658628531131","lt":"unordered","ll":1},"5":[{"2":"2","3":"1g9Z-1658627682941","7":[{"8":"UNIQUE ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"、 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"FULLTEXT ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"和 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"SPATIAL ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"为可选参数，分别表示唯一索引、全文索引和空间索引；","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"2X0N-1658628527341","4":{"li":"sFCZ-1658628531131","lt":"unordered","ll":1},"5":[{"2":"2","3":"AjlP-1658628527340","7":[{"8":"INDEX ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"与 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"KEY ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"为同义词，两者的作用相同，用来指定创建索引；","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"CHdC-1658628527343","4":{"li":"sFCZ-1658628531131","lt":"unordered","ll":1},"5":[{"2":"2","3":"yZj1-1658628527342","7":[{"8":"index_name ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"指定索引的名称，为可选参数，如果不指定，那么MySQL默认col_name为索引名；","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"CbCN-1658628527345","4":{"li":"sFCZ-1658628531131","lt":"unordered","ll":1},"5":[{"2":"2","3":"cmRP-1658628527344","7":[{"8":"col_name ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"为需要创建索引的字段列，该列必须从数据表中定义的多个列中选择；","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"hKju-1658628527347","4":{"li":"sFCZ-1658628531131","lt":"unordered","ll":1},"5":[{"2":"2","3":"Ba7g-1658628527346","7":[{"8":"length ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"为可选参数，表示索引的长度，只有字符串类型的字段才能指定索引长度；","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"lZwv-1658628527350","4":{"li":"sFCZ-1658628531131","lt":"unordered","ll":1},"5":[{"2":"2","3":"1mFE-1658628527349","7":[{"8":"ASC ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"或 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"DESC ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"指定升序或者降序的索引值存储。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"eWUD-1658628124687","5":[{"2":"2","3":"H0WS-1658628124685","7":[{"8":"在MySQL5.7及之后版本中可以不指定最后的ENGINE了，因为在此版本中InnoDB支持全文索引。","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"XkAg-1658628125197","5":[{"2":"2","3":"4jNK-1658628125196","7":[{"8":"全文索引用match+against方式查询:"}]}]},{"3":"W7Tt-1658630559063","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"q3UZ-1658630559062","5":[{"2":"2","3":"ZCzt-1658630556829","7":[{"8":"SELECT * FROM papers WHERE MATCH(title , content) AGAINST (\u0027查询字符串\u0027);"}]}],"6":"cl"}],"6":"cd"},{"3":"WsAd-1658630551069","4":{"li":"qX96-1658630574217","lt":"unordered","ll":1},"5":[{"2":"2","3":"VkLY-1658630546431","7":[{"8":"使用全文索引前，搞清楚版本支持情况;"}]}],"6":"l"},{"3":"UjQu-1658630551070","4":{"li":"qX96-1658630574217","lt":"unordered","ll":1},"5":[{"2":"2","3":"wy7P-1658630547404","7":[{"8":"全文索引比 like +%快Ⅳ倍，但是可能存在精度问题;"}]}],"6":"l"},{"3":"zCRo-1658630551071","4":{"li":"qX96-1658630574217","lt":"unordered","ll":1},"5":[{"2":"2","3":"38l0-1658630547406","7":[{"8":"如果需要全文索引的是大量数据，建议先添加数据，再创建索引"}]}],"6":"l"},{"3":"qQ7j-1658630689728","4":{"l":"h4"},"5":[{"2":"2","3":"NhYe-1658630689726","7":[{"8":"2、在已经存在的表上创建索引","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"eioJ-1658630694152","4":{"version":1},"5":[{"2":"2","3":"ObeY-1658630694153","7":[{"8":"1. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"使用","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"ALTER TABLE","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"语句创建索引","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"hr21-1658630764042","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"Vn4G-1658630764041","5":[{"2":"2","3":"BlAr-1658630750836","7":[{"8":"ALTER TABLE table_name ADD [UNIQUE | FULLTEXT | SPATIAL] [INDEX | KEY] "}]}],"6":"cl"},{"3":"fhjA-1658630765061","5":[{"2":"2","3":"ChF5-1658630765060","7":[{"8":"[index_name] (col_name[length],...) [ASC | DESC] "}]}],"6":"cl"}],"6":"cd"},{"3":"rxbs-1658630701105","4":{"version":1},"5":[{"2":"2","3":"042F-1658630701103","7":[{"8":"2. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"使用","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"CREATE INDEX","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"创建索引","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"OPVI-1658630773655","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"UgnR-1658630773654","5":[{"2":"2","3":"bwKz-1658630701614","7":[{"8":"CREATE [UNIQUE | FULLTEXT | SPATIAL] INDEX index_name "}]}],"6":"cl"},{"3":"AL47-1658630774071","5":[{"2":"2","3":"GmZ9-1658630774070","7":[{"8":"ON table_name (col_name[length],...) [ASC | DESC] "}]}],"6":"cl"}],"6":"cd"},{"3":"Gt1P-1658627683039","4":{"l":"h3"},"5":[{"2":"2","3":"4IIi-1658627683038","7":[{"8":"查看索引"}]}],"6":"h"},{"3":"CUvh-1658628795106","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"WIVW-1658628795105","5":[{"2":"2","3":"y1aI-1658627683149","7":[{"8":"SHOW CREATE TABLE book;SHOW CREATE TABLE book\\G;"}]}],"6":"cl"},{"3":"mCh6-1658628809873","5":[{"2":"2","3":"zWUs-1658628809871","7":[{"8":"SHOW INDEX FROM book;"}]}],"6":"cl"}],"6":"cd"},{"3":"sM0W-1658627683442","4":{"version":1,"l":"h3"},"5":[{"2":"2","3":"kpBh-1658627683441","7":[{"8":"删除索引","9":[{"2":"b"},{"0":20,"2":"fs"}]}]}],"6":"h"},{"3":"qRS1-1658630701922","4":{"version":1},"5":[{"2":"2","3":"UoeF-1658630701920","7":[{"8":"1. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"使用","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"ALTER TABLE","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"删除索引","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"1eCw-1658632029933","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"QHOh-1658632029932","5":[{"2":"2","3":"cZYc-1658632026824","7":[{"8":"ALTER TABLE table_name DROP INDEX index_name; "}]}],"6":"cl"}],"6":"cd"},{"3":"kHnj-1658630654482","5":[{"2":"2","3":"E5Rs-1658630654481","7":[{"8":"2. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"使用","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"DROP INDEX","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"语句删除索引","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"9XnL-1658632036414","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"zyuI-1658632036413","5":[{"2":"2","3":"jJsq-1658630654997","7":[{"8":"DROP INDEX index_name ON table_name;"}]}],"6":"cl"}],"6":"cd"},{"3":"Ep2o-1658630655094","5":[{"2":"2","3":"npd2-1658630655093","7":[{"8":"提示 删除表中的列时，如果要删除的列为索引的组成部分，则该列也会从索引中删除。如果组成索引的所有列都被删除，则整个索引将被删除。","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Dv8y-1658630655191","5":[{"2":"2","3":"Hrio-1658630655190","7":[{"8":"提示添加AUTO_INCREMENT约束字段的唯一索引不能被删除。","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"IZoq-1658632470585","4":{"l":"h1"},"5":[{"2":"2","3":"nQnS-1658632470584","7":[{"8":"MySQL8.0","9":[{"0":"#34495e","2":"c"}]},{"8":"索引新特性","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"ByBK-1658630655404","4":{"l":"h3"},"5":[{"2":"2","3":"JZz2-1658630655402","7":[{"8":"支持降序索引","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"wd3X-1658630655498","5":[{"2":"2","3":"cD4b-1658630655496","7":[{"8":"降序索引以降序存储键值。虽然在语法上，从MySQL4版本开始就已经支持降序索引的语法了，但实际上该DESC定义是被忽略的，直到MysQL 8.x版本才开始真正支持降序索引（仅限于InnoDB存储引擎)。"}]}]},{"3":"1Yyo-1658632505108","4":{"version":1},"5":[{"2":"2","3":"VqDD-1658632505107","7":[{"8":"MysQL在8.0版本之前创建的仍然是升序索引，使用时进行反向扫描，这大大降低了数据库的效率。在某些场景下，降序索引意义重大。例如，如果一个查询，需要对多个列进行排序，且顺序要求不一致，那么使用降序索引将会避免数据库使用额外的文件排序操作，从而提高性能。"}]}]},{"3":"zFta-1658632475180","5":[{"2":"2","3":"98EX-1658632475179","7":[{"8":"举例：分别在MySQL 5.7版本和MySQL 8.0版本中创建数据表ts1，结果如下：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"EGlE-1658632557809","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"ZmG8-1658632557808","5":[{"2":"2","3":"RCol-1658630655594","7":[{"8":"CREATE TABLE ts1(a int,b int,index idx_a_b(a,b desc)); "}]}],"6":"cl"}],"6":"cd"},{"3":"N7tV-1658630655705","5":[{"2":"2","3":"zvrI-1658630655703","7":[{"8":"在MySQL 5.7版本中查看数据表ts1的结构，结果如下：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"4VXn-1658632588043","4":{"version":1,"cropData":{"left":0,"top":0,"scale":1,"w":569,"h":159.199951171875},"u":"https://note.youdao.com/yws/res/21942/WEBRESOURCEd89868219d42086f27f6da02d5182e2b","w":569,"h":176},"6":"im"},{"3":"hkm7-1658630655898","5":[{"2":"2","3":"6PX1-1658630655897","7":[{"8":"从结果可以看出，索引仍然是默认的升序。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"ux5k-1658632602659","4":{"version":1},"5":[{"2":"2","3":"2LrB-1658632602658","7":[{"8":"在MySQL 8.0版本中查看数据表ts1的结构，结果如下：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"5pvq-1658632612062","4":{"version":1,"u":"https://note.youdao.com/yws/res/21945/WEBRESOURCE841dd37b15cae89484a76ca7529f8ef5","w":569,"h":157},"6":"im"},{"3":"jOVB-1658630656112","5":[{"2":"2","3":"8Hyf-1658630656110","7":[{"8":"从结果可以看出，索引已经是降序了。下面继续测试降序索引在执行计划中的表现","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"EXPLAIN SELECT ","9":[{"0":"#770088","2":"c"},{"0":16,"2":"fs"}]},{"8":"* ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"FROM ","9":[{"0":"#770088","2":"c"},{"0":16,"2":"fs"}]},{"8":"ts1 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"ORDER BY ","9":[{"0":"#770088","2":"c"},{"0":16,"2":"fs"}]},{"8":"a,b ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"DESC LIMIT ","9":[{"0":"#770088","2":"c"},{"0":16,"2":"fs"}]},{"8":"5","9":[{"0":"#116644","2":"c"},{"0":16,"2":"fs"}]},{"8":"; ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"spjM-1658630656203","5":[{"2":"2","3":"tDSW-1658630656202","7":[{"8":"从结果可以看出，执行计划中扫描数为799，而且使用了Using filesort。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"3Hr4-1658632475698","5":[{"2":"2","3":"aueW-1658632475696","7":[{"8":"提示 Using filesort是MySQL中一种速度比较慢的外部排序，能避免是最好的。多数情况下，管理员可以通过优化索引来尽量避免出现Using filesort，从而提高数据库执行速度。","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"nSJt-1658632475796","5":[{"2":"2","3":"V0kl-1658632475795","7":[{"8":"在MySQL 8.0版本中查看数据表ts1的执行计划。从结果可以看出，执行计划中扫描数为5，而且没有使用Using filesort。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"RMY9-1658632475893","5":[{"2":"2","3":"nMKc-1658632475892","7":[{"8":"注意 降序索引只对查询中特定的排序顺序有效，如果使用不当，反而查询效率更低。例如，上述查询排序条件改为order by a desc, b desc，MySQL 5.7的执行计划要明显好于MySQL 8.0。","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"YmtG-1658632475988","4":{"l":"h3"},"5":[{"2":"2","3":"aiVo-1658632475987","7":[{"8":"隐藏索引 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"eaah-1658632476103","5":[{"2":"2","3":"PgE9-1658632476102","7":[{"8":"在MySQL 5.7版本及之前，只能通过显式的方式删除索引。此时，如果发现删除索引后出现错误，又只能通过显式创建索引的方式将删除的索引创建回来。如果数据表中的数据量非常大，或者数据表本身比较大，这种操作就会消耗系统过多的资源，操作成本非常高。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"O4i1-1658632476199","5":[{"2":"2","3":"azjo-1658632476198","7":[{"8":"从MySQL 8.x开始支持 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"隐藏索引（","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"invisible indexes","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"） ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，只需要将待删除的索引设置为隐藏索引，使查询优化器不再使用这个索引（即使使用force index（强制使用索引），优化器也不会使用该索引），确认将索引设置为隐藏索引后系统不受任何响应，就可以彻底删除索引。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"这种通过先将索引设置为隐藏索 引，再删除索引的方式就是软删除 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"amua-1658632476293","5":[{"2":"2","3":"4EWA-1658632476292","7":[{"8":"同时，如果你想验证某个索引删除之后的"},{"8":"查询性能影响","9":[{"0":"#FB8D00","2":"c"}]},{"8":"，就可以暂时先隐藏该索引。"}]}]},{"3":"qglj-1658632476390","5":[{"2":"2","3":"Jgnn-1658632476389","7":[{"8":"主键不能被设置为隐藏索引。当表中没有显式主键时，表中第一个唯一非空索引会成为隐式主键，也不能设置为隐藏索引。","9":[{"2":"inlineCode"}]}]}]},{"3":"Zlmm-1658632476502","5":[{"2":"2","3":"4wcZ-1658632476501","7":[{"8":"1. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"创建表时直接创建 ","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"在MySQL中创建隐藏索引通过SQL语句INVISIBLE来实现","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"GjIG-1658633422255","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"SIjM-1658633422254","5":[{"2":"2","3":"C7ok-1658633410009","7":[{"8":"CREATE TABLE tablename( "}]}],"6":"cl"},{"3":"ORy3-1658633430287","5":[{"2":"2","3":"q5pX-1658633430286","7":[{"8":"propname1 type1[CONSTRAINT1], "}]}],"6":"cl"},{"3":"uvSz-1658633430289","5":[{"2":"2","3":"ZPPo-1658633430288","7":[{"8":"propname2 type2[CONSTRAINT2], "}]}],"6":"cl"},{"3":"O9xR-1658633430291","5":[{"2":"2","3":"6RH7-1658633430290","7":[{"8":"……"}]}],"6":"cl"},{"3":"3eEi-1658633430293","5":[{"2":"2","3":"IuEr-1658633430292","7":[{"8":"propnamen typen, "}]}],"6":"cl"},{"3":"SsQa-1658633430295","5":[{"2":"2","3":"asK4-1658633430294","7":[{"8":"INDEX [indexname](propname1 [(length)]) INVISIBLE "}]}],"6":"cl"},{"3":"7gcq-1658633430297","5":[{"2":"2","3":"E2sL-1658633430296","7":[{"8":");"}]}],"6":"cl"}],"6":"cd"},{"3":"k8le-1658632476596","5":[{"2":"2","3":"E0Dc-1658632476595","7":[{"8":"上述语句比普通索引多了一个关键字INVISIBLE，用来标记索引为不可见索引。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"JRwQ-1658633446142","5":[{"2":"2","3":"M8cR-1658633446140","7":[{"8":"2. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"在已经存在的表上创建","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"GvYu-1658633460964","4":{"wrap":false,"la":"sql","th":"default"},"5":[{"3":"6zIL-1658633460963","5":[{"2":"2","3":"Oj27-1658632476692","7":[{"8":"CREATE INDEX indexname "}]}],"6":"cl"},{"3":"TQEx-1658633461229","5":[{"2":"2","3":"X87m-1658633461228","7":[{"8":"ON tablename(propname[(length)]) INVISIBLE;"}]}],"6":"cl"}],"6":"cd"},{"3":"cwnq-1658633454578","5":[{"2":"2","3":"oTgZ-1658633454577","7":[{"8":"3. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"通过","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"ALTER TABLE","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"语句创建","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"bwUF-1658633472707","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"8Tfz-1658633472706","5":[{"2":"2","3":"7lun-1658633454782","7":[{"8":"ALTER TABLE tablename "}]}],"6":"cl"},{"3":"89Lw-1658633472882","5":[{"2":"2","3":"bXOC-1658633472881","7":[{"8":"ADD INDEX indexname (propname [(length)]) INVISIBLE; "}]}],"6":"cl"}],"6":"cd"},{"3":"eYHn-1658633454970","5":[{"2":"2","3":"k8Lx-1658633454968","7":[{"8":"4. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"切换索引可见状态 ","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"已存在的索引可通过如下语句切换可见状态：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"mmKT-1658633481213","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"Hz73-1658633481212","5":[{"2":"2","3":"oJP7-1658630656300","7":[{"8":"ALTER TABLE tablename ALTER INDEX index_name INVISIBLE; #切换成隐藏索引 "}]}],"6":"cl"},{"3":"CuWy-1658633484982","5":[{"2":"2","3":"9ohA-1658633484981","7":[{"8":"ALTER TABLE tablename ALTER INDEX index_name VISIBLE; #切换成非隐藏索引"}]}],"6":"cl"}],"6":"cd"},{"3":"b6nf-1658627683556","5":[{"2":"2","3":"YGwy-1658627683554","7":[{"8":"注意 当索引被隐藏时，它的内容仍然是和正常索引一样实时更新的。如果一个索引需要长期被隐藏，那么可以将其删除，因为索引的存在会影响插入、更新和删除的性能","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"PjZF-1658627683661","5":[{"2":"2","3":"gsze-1658627683660","7":[{"8":"5. ","9":[{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]},{"8":"使隐藏索引对查询优化器可见","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"eANp-1658633392618","5":[{"2":"2","3":"xrkN-1658633392617","7":[{"8":"在MySQL 8.x版本中，为索引提供了一种新的测试方式，可以通过查询优化器的一个开关（use_invisible_indexes）来打开某个设置，使隐藏索引对查询优化器可见。如果 use_invisible_indexes设置为off(默认)，优化器会忽略隐藏索引。如果设置为on，即使隐藏索引不可见，优化器在生成执行计划时仍会考虑使用隐藏索引。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"aZZY-1658633717251","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"GJPa-1658633717250","5":[{"2":"2","3":"rnJR-1658633393121","7":[{"8":"select @@optimizer_switch \\G  #use_invisible_indexes\u003doff"}]}],"6":"cl"},{"3":"NI9P-1658633764588","5":[{"2":"2","3":"Bsbp-1658633764587","7":[{"8":"此属性配置值为off，说明隐藏索引默认对查询优化器不可见"}]}],"6":"cl"},{"3":"fLSK-1658633743099","5":[{"2":"2","3":"PVwK-1658633743098","7":[{"8":"set session optimizer_switch\u003d\"use_invisible_indexes\u003don\"; "}]}],"6":"cl"},{"3":"iSYi-1658633761332","5":[{"2":"2","3":"kYli-1658633761331","7":[{"8":"use_invisible_indexes属性的值为on，说明此时隐藏索引对查询优化器可见"}]}],"6":"cl"}],"6":"cd"},{"3":"D4qa-1658633393219","4":{"l":"h1"},"5":[{"2":"2","3":"UdQd-1658633393217","7":[{"8":"索引的设计原则"}]}],"6":"h"},{"3":"NiGP-1658633393330","4":{"l":"h2"},"5":[{"2":"2","3":"amgJ-1658633393329","7":[{"8":"数据准备 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"n7R6-1658633865442","4":{"version":1,"sr":"https://note.youdao.com/yws/res/21988/WEBRESOURCETHUMB3d2fa585ea914dd191b23003c74507ea","re":"https://note.youdao.com/yws/res/21987/WEBRESOURCEe3fd62cdf68dff1d569915481dcab37e","fn":"第08章_索引的创建与设计原则.pdf","fl":707895},"6":"a"},{"3":"BWQw-1658635426182","4":{"wrap":false,"la":"","th":"default"},"5":[{"3":"YLAU-1658635426181","5":[{"2":"2","3":"NUvw-1658633393520","7":[{"8":"set global log_bin_trust_function_creators\u003d1; # 不加global只是当前窗口有效"}]}],"6":"cl"},{"3":"i9vH-1658635442346","5":[{"2":"2","3":"kGGb-1658635442344","7":[{"8":"DELIMITER // \r"}]}],"6":"cl"},{"3":"2s0P-1658635449866","5":[{"2":"2","3":"1n00-1658635449865","7":[{"8":"CREATE FUNCTION rand_string(n INT) RETURNS VARCHAR(255) \r"}]}],"6":"cl"},{"3":"fn8g-1658635449868","5":[{"2":"2","3":"KKrw-1658635449867","7":[{"8":"BEGIN \r"}]}],"6":"cl"},{"3":"caOH-1658635449870","5":[{"2":"2","3":"EXJk-1658635449869","7":[{"8":"\tDECLARE chars_str VARCHAR(100) DEFAULT \u0027abcdefghijklmnopqrstuvwxyzABCDEFJHIJKLMNOPQRSTUVWXYZ\u0027; \r"}]}],"6":"cl"},{"3":"67Yq-1658635449873","5":[{"2":"2","3":"vGIT-1658635449872","7":[{"8":"\tDECLARE return_str VARCHAR(255) DEFAULT \u0027\u0027;\r"}]}],"6":"cl"},{"3":"vXTq-1658635449875","5":[{"2":"2","3":"5Ohw-1658635449874","7":[{"8":"\tDECLARE i INT DEFAULT 0; \r"}]}],"6":"cl"},{"3":"QIJG-1658635449877","5":[{"2":"2","3":"B7l3-1658635449876","7":[{"8":"\tWHILE i \u003c n DO \r"}]}],"6":"cl"},{"3":"8ZE7-1658635449879","5":[{"2":"2","3":"onYa-1658635449878","7":[{"8":"\t\tSET return_str \u003dCONCAT(return_str,SUBSTRING(chars_str,FLOOR(1+RAND()*52),1));\r"}]}],"6":"cl"},{"3":"mLGj-1658635449881","5":[{"2":"2","3":"vnLK-1658635449880","7":[{"8":"\t\tSET i \u003d i + 1; \r"}]}],"6":"cl"},{"3":"ADn6-1658635449883","5":[{"2":"2","3":"kJRy-1658635449882","7":[{"8":"\tEND WHILE; \r"}]}],"6":"cl"},{"3":"hqIc-1658635449885","5":[{"2":"2","3":"toJt-1658635449884","7":[{"8":"RETURN return_str;\r"}]}],"6":"cl"},{"3":"ychx-1658635449887","5":[{"2":"2","3":"m77S-1658635449886","7":[{"8":"END // \r"}]}],"6":"cl"},{"3":"6vYa-1658635449889","5":[{"2":"2","3":"fTZg-1658635449888","7":[{"8":"DELIMITER ;\r"}]}],"6":"cl"},{"3":"WAXC-1658635449891","5":[{"2":"2","3":"CARx-1658635449890","7":[{"8":"\r"}]}],"6":"cl"},{"3":"B3vy-1658635449893","5":[{"2":"2","3":"rjkt-1658635449892","7":[{"8":"\r"}]}],"6":"cl"},{"3":"jMwy-1658635449895","5":[{"2":"2","3":"mcBq-1658635449894","7":[{"8":"\r"}]}],"6":"cl"},{"3":"F5Xa-1658635449897","5":[{"2":"2","3":"l6dR-1658635449896","7":[{"8":"DELIMITER // \r"}]}],"6":"cl"},{"3":"ox4c-1658635449899","5":[{"2":"2","3":"jybl-1658635449898","7":[{"8":"CREATE FUNCTION rand_num (from_num INT ,to_num INT) \r"}]}],"6":"cl"},{"3":"9CJC-1658635449901","5":[{"2":"2","3":"1Jc9-1658635449900","7":[{"8":"RETURNS INT(11) \r"}]}],"6":"cl"},{"3":"mf4B-1658635449903","5":[{"2":"2","3":"fWhA-1658635449902","7":[{"8":"BEGIN \r"}]}],"6":"cl"},{"3":"E1x9-1658635449905","5":[{"2":"2","3":"SMnm-1658635449904","7":[{"8":"\tDECLARE i INT DEFAULT 0; SET i \u003d FLOOR(from_num +RAND()*(to_num - from_num+1)) ; \r"}]}],"6":"cl"},{"3":"pW0V-1658635449907","5":[{"2":"2","3":"3N56-1658635449906","7":[{"8":"\tRETURN i; \r"}]}],"6":"cl"},{"3":"w87X-1658635449909","5":[{"2":"2","3":"w8VC-1658635449908","7":[{"8":"END // \r"}]}],"6":"cl"},{"3":"GyQW-1658635449911","5":[{"2":"2","3":"AR7u-1658635449910","7":[{"8":"DELIMITER ;"}]}],"6":"cl"}],"6":"cd"},{"3":"jrx4-1658633865437","5":[{"2":"2","3":"TGYL-1658633865438","7":[{"8":"mysqld重启，上述参数又会消失","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"set global log_bin_trust_function_creators\u003d1;","9":[{"0":16,"2":"fs"}]}]}]},{"3":"tVGo-1658635475889","5":[{"2":"2","3":"3b9b-1658635475888","7":[{"8":"永久方法：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"f2jR-1658635463638","4":{"li":"K2Mn-1658635482871","lt":"unordered","ll":1},"5":[{"2":"2","3":"RyUq-1658635463637","7":[{"8":"windows下：my.ini[mysqld]加上：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"i0xc-1658635463640","4":{"li":"K2Mn-1658635482871","lt":"unordered","ll":1},"5":[{"2":"2","3":"klGh-1658635463639","7":[{"8":"log_bin_trust_function_creators","9":[{"0":"#0000ff","2":"c"},{"0":16,"2":"fs"}]},{"8":"\u003d","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"1 ","9":[{"0":"#009900","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"LOKk-1658635463642","4":{"li":"K2Mn-1658635482871","lt":"unordered","ll":1},"5":[{"2":"2","3":"B0jx-1658635463641","7":[{"8":"linux下：/etc/my.cnf下my.cnf[mysqld]加上：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"3dir-1658635463645","4":{"li":"K2Mn-1658635482871","lt":"unordered","ll":1},"5":[{"2":"2","3":"bF5D-1658635463644","7":[{"8":"log_bin_trust_function_creators","9":[{"0":"#0000ff","2":"c"},{"0":16,"2":"fs"}]},{"8":"\u003d","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"1","9":[{"0":"#009900","2":"c"},{"0":16,"2":"fs"}]}]}],"6":"l"},{"3":"mV6G-1658633393731","4":{"l":"h2"},"5":[{"2":"2","3":"0FUi-1658633393730","7":[{"8":"哪些情况适合创建索引 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"w8ZX-1658633393827","4":{"l":"h3"},"5":[{"2":"2","3":"O4Lp-1658633393826","7":[{"8":"1. ","9":[{"0":"#34495e","2":"c"}]},{"8":"字段的数值有唯一性的限制","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"oBjt-1658633784616","5":[{"2":"2","3":"MLQz-1658633784615","7":[{"8":"索引本身可以起到约束的作用，比如唯一索引、主键索引都是可以起到唯一性约束的，因此在我们的数据表中，如果某个字段是唯一性的，就可以直接创建唯一性索引，或者主键索引。这样可以更快速地通过该索引来确定某条记录。"}]}]},{"3":"D8oe-1658637396396","4":{"version":1},"5":[{"2":"2","3":"P01H-1658637396395","7":[{"8":"例如，学生表中学号是具有唯一性的字段，为该字段建立唯一性索引可以很快确定某个学生的信息，如果使用姓名的话，可能存在同名现象，从而降低查询速度。"}]}]},{"3":"sO8b-1658633785220","5":[{"2":"2","3":"lYeS-1658633785219","7":[{"8":"业务上具有唯一特性的字段，即使是组合字段，也必须建成唯一索引。（来源：Alibaba）说明：不要以为唯一索引影响了 insert 速度，这个速度损耗可以忽略，但提高查找速度是明显的。","9":[{"0":"#777777","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"jnvU-1658633785331","4":{"l":"h3"},"5":[{"2":"2","3":"5lgB-1658633785329","7":[{"8":"2. ","9":[{"0":"#34495e","2":"c"}]},{"8":"频繁作为 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":"WHERE ","9":[{"0":"#34495e","2":"c"}]},{"8":"查询条件的字段","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"DRQs-1658637531538","4":{"version":1},"5":[{"2":"2","3":"wK1y-1658637531539","7":[{"8":"某个字段在SELECT语句的WHERE条件中经常被使用到，那么就需要给这个字段创建索引了。尤其是在数据量大的情况下，创建普通索引就可以大幅提升数据查询的效率。"}]}]},{"3":"fuOD-1658633785427","4":{"l":"h3"},"5":[{"2":"2","3":"r0FE-1658633785426","7":[{"8":"3. ","9":[{"0":"#34495e","2":"c"}]},{"8":"经常 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":"GROUP BY ","9":[{"0":"#34495e","2":"c"}]},{"8":"和 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":"ORDER BY ","9":[{"0":"#34495e","2":"c"}]},{"8":"的列","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"0t1f-1658637694764","4":{"version":1},"5":[{"2":"2","3":"yAfV-1658637694762","7":[{"8":"索引就是让数据按照某种顺序进行存储或检索，因此当我们使用 GROUP BY 对数据进行分组查询，或者使用 ORDER BY 对数据进行排序的时候，就需要 ","9":[{"0":"#34495e","2":"c"}]},{"8":"对分组或者排序的字段进行索引 ","9":[{"0":"#e96900","2":"c"},{"0":"NSimSun","2":"ff"}]},{"8":"。如果待排序的列有多个，那么可以在这些列上建立 ","9":[{"0":"#34495e","2":"c"}]},{"8":"组合索引 ","9":[{"0":"#e96900","2":"c"},{"0":"NSimSun","2":"ff"}]},{"8":"。 ","9":[{"0":"#34495e","2":"c"}]}]}]},{"3":"QMec-1658633785524","4":{"l":"h3"},"5":[{"2":"2","3":"82ye-1658633785522","7":[{"8":"4. UPDATE","9":[{"0":"#34495e","2":"c"}]},{"8":"、","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":"DELETE ","9":[{"0":"#34495e","2":"c"}]},{"8":"的 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":"WHERE ","9":[{"0":"#34495e","2":"c"}]},{"8":"条件列","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"XzUO-1658637694343","4":{"version":1},"5":[{"2":"2","3":"xGZr-1658637694341","7":[{"8":"对数据按照某个条件进行查询后再进行 UPDATE 或 DELETE 的操作，如果对 WHERE 字段创建了索引，就能大幅提升效率。原理是因为我们需要先根据 WHERE 条件列检索出来这条记录，然后再对它进行更新或删除。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"如果进行更新的时候，更新的字段是非索引字段，提升的效率会更明显，这是因为非索引字段更新不需要对索引进行维护。","9":[{"2":"b"},{"0":"#880000","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"EO05-1658633785620","4":{"l":"h3"},"5":[{"2":"2","3":"7Obz-1658633785619","7":[{"8":"5.DISTINCT ","9":[{"0":"#34495e","2":"c"}]},{"8":"字段需要创建索引","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"XwuS-1658633393923","5":[{"2":"2","3":"HbEx-1658633393921","7":[{"8":"有时候我们需要对某个字段进行去重，使用 DISTINCT，那么对这个字段创建索引，也会提升查询效率。","9":[{"0":"#34495e","2":"c"}]}]}]},{"3":"pM3m-1658647315400","5":[{"2":"2","3":"auP4-1658647315397","7":[{"8":"比如，我们想要查询课程表中不同的 student_id 都有哪些，如果我们没有对 student_id 创建索引，执行SQL 语句：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"SELECT DISTINCT","9":[{"0":"#770088","2":"c"},{"0":16,"2":"fs"}]},{"8":"(student_id) ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"FROM ","9":[{"0":"#770088","2":"c"},{"0":16,"2":"fs"}]},{"8":"`student_info`","9":[{"0":"#0055aa","2":"c"},{"0":16,"2":"fs"}]},{"8":"; 运行结果（600637 条记录，运行时间 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"0.683s ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"）：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Sy7W-1658637420682","5":[{"2":"2","3":"IHWY-1658637420681","7":[{"8":"如果我们对 student_id 创建索引，再执行 SQL 语句：","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"SELECT DISTINCT","9":[{"0":"#770088","2":"c"},{"0":16,"2":"fs"}]},{"8":"(student_id) ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"FROM ","9":[{"0":"#770088","2":"c"},{"0":16,"2":"fs"}]},{"8":"`student_info`","9":[{"0":"#0055aa","2":"c"},{"0":16,"2":"fs"}]},{"8":"; 运行结果（600637 条记录，运行时间 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"0.010s ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"）","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"YwE7-1658637420778","5":[{"2":"2","3":"wyFY-1658637420777","7":[{"8":"你能看到 SQL 查询效率有了提升，同时显示出来的 student_id 还是按照 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"递增的顺序 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"进行展示的。这是因为索引会对数据按照某种顺序进行排序，所以在去重的时候也会快很多。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"F9ig-1658637420874","4":{"l":"h3"},"5":[{"2":"2","3":"gLVK-1658637420873","7":[{"8":"6. ","9":[{"0":"#34495e","2":"c"}]},{"8":"多表 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":"JOIN ","9":[{"0":"#34495e","2":"c"}]},{"8":"连接操作时，创建索引注意事项","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"yA70-1658647402635","4":{"version":1},"5":[{"2":"2","3":"J7GG-1658647402636","7":[{"8":"首先， ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"连接表的数量尽量不要超过 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"3 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"张 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，因为每增加一张表就相当于增加了一次嵌套的循环，数量级增长会非常快，严重影响查询的效率。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"ovKW-1658647435309","4":{"version":1},"5":[{"2":"2","3":"Xhon-1658647435308","7":[{"8":"其次， ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"对 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"WHERE ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"}]},{"8":"条件创建索引 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，因为 WHERE 才是对数据条件的过滤。如果在数据量非常大的情况下，没有 WHERE 条件过滤是非常可怕的。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"2fOR-1658647435315","4":{"version":1},"5":[{"2":"2","3":"J3Mp-1658647435314","7":[{"8":"最后， ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"对用于连接的字段创建索引 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"，并且该字段在多张表中的 ","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]},{"8":"类型必须一致 ","9":[{"0":"#e96900","2":"c"},{"0":16,"2":"fs"},{"0":"NSimSun","2":"ff"}]},{"8":"。比如 course_id 在 student_info 表和 course 表中都为 int(11) 类型，而不能一个为 int 另一个为 varchar 类型。","9":[{"0":"#34495e","2":"c"},{"0":16,"2":"fs"}]}]}]},{"3":"Rqum-1658637420986","4":{"l":"h3"},"5":[{"2":"2","3":"7JZ9-1658637420985","7":[{"8":"7. ","9":[{"0":"#34495e","2":"c"}]},{"8":"使用列的类型小的创建索引 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"Fp4I-1658647488504","4":{"version":1},"5":[{"2":"2","3":"tiab-1658647488505","7":[{"8":"我们这里所说的"},{"8":"类型大小","9":[{"0":"#FB8D00","2":"c"}]},{"8":"指的就是该类型表示的数据范围的大小。"}]}]},{"3":"MHJo-1658647749977","4":{"version":1},"5":[{"2":"2","3":"6cTe-1658647749976","7":[{"8":"我们在定义表结构的时候要显式的指定列的类型，以整数类型为例，有TINYINT、MEDIUNINT、INT、BIGINT等，它们占用的存储空间依次递增，能表示的整数范围当然也是依次递增。如果我们想要对某个整数列建立索引的话，在表示的整数范围允许的情况下，尽量让索引列使用较小的类型，比如我们能使用INT就不要使用BIGINT，能使用MEDIUMINT 就不要使用INT。这是因为:"}]}]},{"3":"aEGy-1658647749981","4":{"li":"qR97-1658647757892","lt":"unordered","ll":1},"5":[{"2":"2","3":"ASKS-1658647749980","7":[{"8":"数据类型越小，在查询时进行的比较操作越快"}]}],"6":"l"},{"3":"S0xu-1658647749983","4":{"li":"qR97-1658647757892","lt":"unordered","ll":1},"5":[{"2":"2","3":"vcBN-1658647749982","7":[{"8":"数据类型越小，索引占用的存储空间就越少，在一个数据页内就可以放下更多的记录，从而减少磁盘I/0带来的性能损耗，也就意味着可以把更多的数据页缓存在内存中，从而加快读写效率。"}]}],"6":"l"},{"3":"pA2o-1658647749985","4":{"version":1},"5":[{"2":"2","3":"udMS-1658647749984","7":[{"8":"这个建议对于表的主键来说更加适用，因为不仅是聚簇索引中会存储主键值，其他所有的二级索引的节点处都会存储一份记录的主键值，如果主键使用更小的数据类型，也就意味着节省更多的存储空间和更高效的I/0。"}]}]},{"3":"1sdQ-1658637421084","4":{"l":"h3"},"5":[{"2":"2","3":"qNNV-1658637421083","7":[{"8":"8. ","9":[{"0":"#34495e","2":"c"}]},{"8":"使用字符串前缀创建索引","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"Tqtj-1658647848669","4":{"version":1},"5":[{"2":"2","3":"BQCF-1658647848670","7":[{"8":"假设我们的字符串很长，那存储一个字符串就需要占用很大的存储空间。在我们需要为这个字符串列建立索引时，那就意味着在对应的B+树中有这么两个问题:"}]}]},{"3":"anka-1658647864102","4":{"li":"7OzB-1658647870863","lt":"unordered","ll":1},"5":[{"2":"2","3":"j4M7-1658647864101","7":[{"8":"B+树索引中的记录需要把该列的完整字符串存储起来，更费时。而且字符串越长，在索引中占用的存储空间越大。"}]}],"6":"l"},{"3":"GSRT-1658647864104","4":{"li":"7OzB-1658647870863","lt":"unordered","ll":1},"5":[{"2":"2","3":"KlaB-1658647864103","7":[{"8":"如果B+树索引中索引列存储的字符串很长，那在做字符串比较时会占用更多的时间。"}]}],"6":"l"},{"3":"G3A9-1658647864106","4":{"version":1},"5":[{"2":"2","3":"QHf8-1658647864105","7":[{"8":"我们可以通过截取字段的前面一部分内容建立索引，这个就叫前缀索引。这样在查找记录时虽然不能精确的定位到记录的位置，但是能定位到相应前缀所在的位置，然后根据前缀相同的记录的主键值回表查询完整的字符串值。既节约空间，又减少了字符串的比较时间，还大体能解决排序的问题。"}]}]},{"3":"mtto-1658648070020","4":{"version":1,"u":"https://note.youdao.com/yws/res/22032/WEBRESOURCE56afeb2033498e83b9a9c8add6b5ef66","w":569,"h":328},"6":"im"},{"3":"G6To-1658637421183","5":[{"2":"2","3":"h5sR-1658637421182","7":[{"8":"引申另一个问题:索引列前缀对排序的影响"}]}]},{"3":"l50x-1658648131938","4":{"version":1},"5":[{"2":"2","3":"n4O1-1658648131937","7":[{"8":"如果使用了索引例前缀，比方说前边只把address列的前12个字符放到了二级索引中，下边这个查询可能就有点儿尴尬了︰"}]}]},{"3":"8g5A-1658648138991","4":{"version":1,"u":"https://note.youdao.com/yws/res/22036/WEBRESOURCE93d028ce338dbb6a8b5495396c048ebb","w":569,"h":134},"6":"im"},{"3":"M95I-1658648115671","5":[{"2":"2","3":"OQlu-1658648115670","7":[{"8":"因为二级索引中不包含完整的address列信息，所以无法对前12个字符相同，后边的字符不同的记录进行排序，"},{"8":"也就是使用索引列前缀的方式无法支持使用索引排序","9":[{"0":"#CC0000","2":"c"}]},{"8":"，只能使用文件排序。"}]}]},{"3":"SBtd-1658648141012","4":{"l":"h3"},"5":[{"2":"2","3":"Tenu-1658648141011","7":[{"8":"9. ","9":[{"0":"#34495e","2":"c"}]},{"8":"区分度高","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":"(","9":[{"0":"#34495e","2":"c"}]},{"8":"散列性高","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":")","9":[{"0":"#34495e","2":"c"}]},{"8":"的列适合作为索引 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"oiyS-1658648183352","4":{"version":1},"5":[{"2":"2","3":"6qzf-1658648183353","7":[{"8":"列的基数指的是某一列中不重复数据的个数，比方说某个列包含值2，5，8，2，5，8，2,5， 8，虽然有9条记录，但该列的基数却是3。也就是说，在记录行数一定的情况下，列的基数越大，该列中的值越分散;列的基数越小，该列中的值越集中。这个列的基数指标非常重要，直接影响我们是否能有效的利用索引。最好为列的基数大的列建立索引，为基数太小列的建立索引效果可能不好。"}]}]},{"3":"yrpj-1658648374233","4":{"version":1},"5":[{"2":"2","3":"X3KD-1658648374230","7":[{"8":"可以使用公式 select count(distinct a)/count(*) from t1计算区分度，越接近1越好，一般超过33%就算是比较高效的索引了。"}]}]},{"3":"G4FA-1658637421280","4":{"l":"h3"},"5":[{"2":"2","3":"THaz-1658637421278","7":[{"8":"10. ","9":[{"0":"#34495e","2":"c"}]},{"8":"使用最频繁的列放到联合索引的左侧","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"F0nv-1658648457939","4":{"version":1},"5":[{"2":"2","3":"jTPE-1658648457940","7":[{"8":"这样也可以较少的建立一些索引。同时，由于\"最左前缀原则\"，可以增加联合索引的使用率。"}]}]},{"3":"X3DJ-1658637421390","4":{"l":"h3"},"5":[{"2":"2","3":"RnRc-1658637421389","7":[{"8":"11. ","9":[{"0":"#34495e","2":"c"}]},{"8":"在多个字段都要创建索引的情况下，联合索引优于单值索引 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"Dftx-1658637421488","4":{"l":"h2"},"5":[{"2":"2","3":"kf6i-1658637421486","7":[{"8":"限制索引的数目","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"PfKc-1658633394035","5":[{"2":"2","3":"4s0w-1658633394034","7":[{"8":"在实际工作中，我们也需要注意平衡，索引的数目不是越多越好。我们需要限制每张表上的索引数量，建议单张表索引数量不超过6个。原因:"}]}]},{"3":"qFOz-1658648662917","4":{"li":"lYgK-1658648678933","lt":"ordered","ll":1},"5":[{"2":"2","3":"enWS-1658648662916","7":[{"8":"每个索引都需要占用磁盘空间，索引越多需要的磁盘空间就越大。"}]}],"6":"l"},{"3":"QoKB-1658648662919","4":{"li":"lYgK-1658648678933","lt":"ordered","ll":1},"5":[{"2":"2","3":"vMwt-1658648662918","7":[{"8":"索引会影响INSERT、DELETE、UPDATE等语句的性能，因为表中的数据更改的同时，索引也会进行调整和更新，会造成负担。"}]}],"6":"l"},{"3":"tnnf-1658648662921","4":{"li":"lYgK-1658648678933","lt":"ordered","ll":1},"5":[{"2":"2","3":"XkED-1658648662920","7":[{"8":"优化器在选择如何优化查询时，会根据统一信息，对每一个可以用到的索引来进行评估，以生成出一个最好的执行计划，如果同时有很多个索引都可以用于查询，会增加MySQL优化器生成执行计划时间，降低查询性能。"}]}],"6":"l"},{"3":"kxIo-1658633394130","4":{"l":"h2"},"5":[{"2":"2","3":"8gur-1658633394129","7":[{"8":"哪些情况不适合创建索引 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}],"6":"h"},{"3":"z2Ju-1658648583384","5":[{"2":"2","3":"6l6v-1658648583383","7":[{"8":"1. ","9":[{"0":"#34495e","2":"c"}]},{"8":"在","9":[{"2":"b"},{"0":"#34495e","2":"c"}]},{"8":"where","9":[{"0":"#34495e","2":"c"}]},{"8":"中使用不到的字段，不要设置索引 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}]},{"3":"z3jv-1658648583888","5":[{"2":"2","3":"06k6-1658648583887","7":[{"8":"2. ","9":[{"0":"#34495e","2":"c"}]},{"8":"数据量小的表最好不要使用索引","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}]},{"3":"bbte-1658648583999","5":[{"2":"2","3":"6suB-1658648583998","7":[{"8":"3. ","9":[{"0":"#34495e","2":"c"}]},{"8":"有大量重复数据的列上不要建立索引","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}]},{"3":"3h6N-1658648584094","5":[{"2":"2","3":"QmPs-1658648584093","7":[{"8":"4. ","9":[{"0":"#34495e","2":"c"}]},{"8":"避免对经常更新的表创建过多的索引 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}]},{"3":"KUE6-1658648584190","5":[{"2":"2","3":"WApK-1658648584189","7":[{"8":"5. ","9":[{"0":"#34495e","2":"c"}]},{"8":"不建议用无序的值作为索引","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}]},{"3":"XJF6-1658648772574","5":[{"2":"2","3":"G4aZ-1658648772573","7":[{"8":"6. ","9":[{"0":"#34495e","2":"c"}]},{"8":"删除不再使用或者很少使用的索引","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}]},{"3":"AYD7-1658648584281","5":[{"2":"2","3":"dE5X-1658648584278","7":[{"8":"7. ","9":[{"0":"#34495e","2":"c"}]},{"8":"不要定义冗余或重复的索引 ","9":[{"2":"b"},{"0":"#34495e","2":"c"}]}]}]}],"__compress__":true,"title":""}